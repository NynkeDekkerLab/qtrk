\hypertarget{main_8cpp}{}\section{cputrack-\/test/main.cpp File Reference}
\label{main_8cpp}\index{cputrack-\/test/main.\+cpp@{cputrack-\/test/main.\+cpp}}
{\ttfamily \#include \char`\"{}../cputrack/std\+\_\+incl.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/cpu\+\_\+tracker.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/random\+\_\+distr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Queued\+C\+P\+U\+Tracker.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Fisher\+Matrix.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Bead\+Finder.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Lsq\+Quadratic\+Fit.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../utils/\+Extract\+Bead\+Images.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Benchmark\+L\+U\+T.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../cputrack/\+Cubic\+B\+Spline.\+h\char`\"{}}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$sstream$>$}\\*
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include \char`\"{}testutils.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Shared\+Tests.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Result\+Manager.\+h\char`\"{}}\\*
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5}{R\+Weight\+Mode} \{ \\*
\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a4eb49b1a2068e45a144199d068dd2ba8}{R\+W\+None}, 
\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a9633403698e5bbe569ab11f800d0d98c}{R\+W\+Uniform}, 
\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a42d039711186f84ba7bea2d18a214e55}{R\+W\+Radial}, 
\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a8501ede718160d9f23d00c1e401434d3}{R\+W\+Derivative}, 
\\*
\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a28666d9629749977bd108fd5e13837e1}{R\+W\+Stetson}
 \}
\item 
enum \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0}{Tests} \{ \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{R\+O\+I\+Dis}, 
\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{Inter}, 
\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{Skew}, 
\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{Backg}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main_8cpp_a813099f634b837f0a61bd7f3b96f8362}{Rescale\+L\+UT} (\hyperlink{class_c_p_u_tracker}{C\+P\+U\+Tracker} $\ast$trk, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} $\ast$lut)
\item 
void \hyperlink{main_8cpp_aed5a480dfa6d13c6f72ee21b78a4aab0}{Speed\+Test} ()
\item 
void \hyperlink{main_8cpp_add360cd8780989cdd86ae0c367e09285}{One\+Pixel\+Test} ()
\item 
void \hyperlink{main_8cpp_a372425eb3c684f07002e7d6f8fd2a4d1}{Small\+Image\+Test} ()
\item 
void \hyperlink{main_8cpp_a6bc0f4441e530042229fca5329016838}{Output\+Profile\+Img} ()
\item 
void \hyperlink{main_8cpp_a5b09aa979bbfe19bda62123375186f73}{Test\+Bound\+Check} ()
\item 
void \hyperlink{main_8cpp_af54759018db57821aa5c9c0631e7cc02}{Pixelation\+Error\+Test} ()
\item 
void \hyperlink{main_8cpp_a4b6ff0beeb126fb6302628985642cc6a}{Build\+Convergence\+Map} (int iterations)
\item 
void \hyperlink{main_8cpp_a4fd82881e2bc095738fd5bee6949d1f6}{C\+R\+P\+\_\+\+Test\+Generated\+Data} ()
\item 
void \hyperlink{main_8cpp_ae29d46fa158997e0134b81f54678efe6}{Corrected\+Radial\+Profile\+Test} ()
\item 
void \hyperlink{main_8cpp_a5a3cf50568ec0e71f025a83420c6fb33}{Write\+Radial\+Prof} (const char $\ast$file, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \&d)
\item 
std\+::vector$<$ float $>$ \hyperlink{main_8cpp_aa7491e288f13c4d2ce49084cf10a30e8}{Compute\+Radial\+Weights} (int rsteps, float min\+Radius, float max\+Radius)
\item 
void \hyperlink{main_8cpp_a9687cca7b7cc4af4c23014fdd66857d6}{Test\+Bias} ()
\item 
void \hyperlink{main_8cpp_a1f1b401accf07b6fb82b39bc812da9e3}{Test\+Z\+Range\+Bias} (const char $\ast$name, const char $\ast$lutfile, bool norm\+Prof)
\item 
void \hyperlink{main_8cpp_a819933f5d01e6d35660313e4f8208304}{Test\+Z\+Range} (const char $\ast$name, const char $\ast$lutfile, int extra\+Flags, int clean\+\_\+lut, \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5}{R\+Weight\+Mode} weight\+Mode=\hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a4eb49b1a2068e45a144199d068dd2ba8}{R\+W\+None}, bool bias\+Map=false, bool bias\+Correct=false)
\item 
void \hyperlink{main_8cpp_a1c51d0694b2d69642de81be5ebd23992}{Auto\+Bead\+Find\+Test} ()
\item 
void \hyperlink{main_8cpp_a1d3b58213a1e1e4835bfb1db57efa897}{Test\+Fourier\+L\+UT} ()
\item 
void \hyperlink{main_8cpp_adb7504aa0646ddbb44aabc455f16d451}{Test\+Fourier\+L\+U\+T\+On\+Dataset} ()
\item 
void \hyperlink{main_8cpp_a1d9e203dc8a02b9d263126326c984a10}{Test\+Z\+L\+U\+T\+Align} ()
\item 
void \hyperlink{main_8cpp_aa9384199eb708e1b48be44041f2db601}{Test\+Quadrant\+Align} ()
\item 
void \hyperlink{main_8cpp_a6edb955f584bcbddfc4aee183c7df8ce}{Simple\+Test} ()
\item 
static void \hyperlink{main_8cpp_abebf2b53a71487375f35612650e97cba}{Test\+B\+Spline\+Max} (float maxpos)
\item 
void \hyperlink{main_8cpp_a33c4c5760d4fa7f0408fa1bb7195caf3}{Generate\+Z\+L\+U\+T\+Fitting\+Curve} (const char $\ast$lutfile)
\item 
void \hyperlink{main_8cpp_aa2e677b0099389a9137abf21b6a11b61}{Benchmark\+Params} ()
\item 
static \hyperlink{struct_speed_acc_result}{Speed\+Acc\+Result} \hyperlink{main_8cpp_a7332fef59550614786aaf55f8e366d3f}{Acc\+Bias\+Test} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \&lut, \hyperlink{class_queued_tracker}{Queued\+Tracker} $\ast$trk, int N, \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f} centerpos, \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f} range, const char $\ast$name, int Max\+Pixel\+Value, int extra\+Flags=0)
\item 
void \hyperlink{main_8cpp_a70226fbfa00f4214664d330d859b1cd8}{Scatter\+Bias\+Area} (int roi, float scan\+\_\+width, int steps, int samples, int qi\+\_\+it, float angstep)
\item 
void \hyperlink{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}{Run\+C\+O\+M\+And\+QI} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img, \hyperlink{classoutputter}{outputter} $\ast$output)
\item 
float \hyperlink{main_8cpp_ab46d55f91395e4179bdee41400ff713a}{Skew\+Param} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img)
\item 
void \hyperlink{main_8cpp_a31785cc889c695dfd66612b8300f925e}{Test\+R\+O\+I\+Displacement} (std\+::vector$<$ Bead\+Pos $>$ beads, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} ori\+Img, \hyperlink{classoutputter}{outputter} $\ast$output, int R\+O\+I\+Size, int maxdisplacement=0)
\item 
void \hyperlink{main_8cpp_af086aec2ff408671afec5155937d80c3}{Test\+Interference} (std\+::vector$<$ Bead\+Pos $>$ beads, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} ori\+Img, \hyperlink{classoutputter}{outputter} $\ast$output, int R\+O\+I\+Size, \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f} displacement=\hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f}(60, 0))
\item 
void \hyperlink{main_8cpp_ae500d6bb59316854a376397054af7211}{Test\+Skew} (std\+::vector$<$ Bead\+Pos $>$ beads, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} ori\+Img, \hyperlink{classoutputter}{outputter} $\ast$output, int R\+O\+I\+Size)
\item 
void \hyperlink{main_8cpp_a2021c4cbd776eecfa1f7b18745eb2e51}{Test\+Background} (std\+::vector$<$ Bead\+Pos $>$ beads, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} ori\+Img, \hyperlink{classoutputter}{outputter} $\ast$output, int R\+O\+I\+Size)
\item 
void \hyperlink{main_8cpp_a4f42565c78afe260ab6c48197a692712}{Build\+Z\+L\+UT} (std\+::string folder, \hyperlink{classoutputter}{outputter} $\ast$output)
\item 
void \hyperlink{main_8cpp_ae1d5528bfe8ecbce90856075bc41eff2}{Run\+Z\+Trace} (std\+::string image\+Path, std\+::string zlut\+Path, \hyperlink{classoutputter}{outputter} $\ast$output)
\item 
void \hyperlink{main_8cpp_a83902d645b299c0d8152510bba162dbf}{Run\+Test} (\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0}{Tests} test, const char $\ast$image, \hyperlink{classoutputter}{outputter} $\ast$output, int R\+O\+I\+Size)
\item 
void \hyperlink{main_8cpp_a01cd171810983f79bf6ff0c5f4973207}{Man\+Test} ()
\item 
void \hyperlink{main_8cpp_a488248e7213caea7e93f0c203a7822fd}{Print\+Menu} (\hyperlink{classoutputter}{outputter} $\ast$output)
\item 
void \hyperlink{main_8cpp_a012d4c158be25aa1273de6a295031d4c}{Select\+Tests} (const char $\ast$image, int Output\+Mode)
\item 
int \hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const float \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{A\+N\+G\+S\+T\+E\+PF} = 1.\+5f
\item 
const bool \hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{In\+Debug\+Mode}
\end{DoxyCompactItemize}


\subsection{Enumeration Type Documentation}
\index{main.\+cpp@{main.\+cpp}!R\+Weight\+Mode@{R\+Weight\+Mode}}
\index{R\+Weight\+Mode@{R\+Weight\+Mode}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{R\+Weight\+Mode}{RWeightMode}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf R\+Weight\+Mode}}\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{R\+W\+None@{R\+W\+None}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+W\+None@{R\+W\+None}}\item[{\em 
R\+W\+None\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a4eb49b1a2068e45a144199d068dd2ba8}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a4eb49b1a2068e45a144199d068dd2ba8}
}]\index{R\+W\+Uniform@{R\+W\+Uniform}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+W\+Uniform@{R\+W\+Uniform}}\item[{\em 
R\+W\+Uniform\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a9633403698e5bbe569ab11f800d0d98c}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a9633403698e5bbe569ab11f800d0d98c}
}]\index{R\+W\+Radial@{R\+W\+Radial}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+W\+Radial@{R\+W\+Radial}}\item[{\em 
R\+W\+Radial\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a42d039711186f84ba7bea2d18a214e55}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a42d039711186f84ba7bea2d18a214e55}
}]\index{R\+W\+Derivative@{R\+W\+Derivative}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+W\+Derivative@{R\+W\+Derivative}}\item[{\em 
R\+W\+Derivative\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a8501ede718160d9f23d00c1e401434d3}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a8501ede718160d9f23d00c1e401434d3}
}]\index{R\+W\+Stetson@{R\+W\+Stetson}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+W\+Stetson@{R\+W\+Stetson}}\item[{\em 
R\+W\+Stetson\hypertarget{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a28666d9629749977bd108fd5e13837e1}{}\label{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a28666d9629749977bd108fd5e13837e1}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
450 \{ \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a4eb49b1a2068e45a144199d068dd2ba8}{RWNone}, \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a9633403698e5bbe569ab11f800d0d98c}{RWUniform}, \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a42d039711186f84ba7bea2d18a214e55}{RWRadial}, \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a8501ede718160d9f23d00c1e401434d3}{RWDerivative}, 
      \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a28666d9629749977bd108fd5e13837e1}{RWStetson} \};
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Tests@{Tests}}
\index{Tests@{Tests}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Tests}{Tests}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Tests}}\hypertarget{main_8cpp_a44111c317cc6bb28715701cc508210a0}{}\label{main_8cpp_a44111c317cc6bb28715701cc508210a0}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{R\+O\+I\+Dis@{R\+O\+I\+Dis}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!R\+O\+I\+Dis@{R\+O\+I\+Dis}}\item[{\em 
R\+O\+I\+Dis\hypertarget{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{}\label{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}
}]\index{Inter@{Inter}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!Inter@{Inter}}\item[{\em 
Inter\hypertarget{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{}\label{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}
}]\index{Skew@{Skew}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!Skew@{Skew}}\item[{\em 
Skew\hypertarget{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{}\label{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}
}]\index{Backg@{Backg}!main.\+cpp@{main.\+cpp}}\index{main.\+cpp@{main.\+cpp}!Backg@{Backg}}\item[{\em 
Backg\hypertarget{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{}\label{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
1267           \{
1268     \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{ROIDis},
1269     \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{Inter},
1270     \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{Skew},
1271     \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{Backg}
1272 \};
\end{DoxyCode}


\subsection{Function Documentation}
\index{main.\+cpp@{main.\+cpp}!Acc\+Bias\+Test@{Acc\+Bias\+Test}}
\index{Acc\+Bias\+Test@{Acc\+Bias\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Acc\+Bias\+Test(\+Image\+Data \&lut, Queued\+Tracker $\ast$trk, int N, vector3f centerpos, vector3f range, const char $\ast$name, int Max\+Pixel\+Value, int extra\+Flags=0)}{AccBiasTest(ImageData &lut, QueuedTracker *trk, int N, vector3f centerpos, vector3f range, const char *name, int MaxPixelValue, int extraFlags=0)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Speed\+Acc\+Result} Acc\+Bias\+Test (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data} \&}]{lut, }
\item[{{\bf Queued\+Tracker} $\ast$}]{trk, }
\item[{int}]{N, }
\item[{{\bf vector3f}}]{centerpos, }
\item[{{\bf vector3f}}]{range, }
\item[{const char $\ast$}]{name, }
\item[{int}]{Max\+Pixel\+Value, }
\item[{int}]{extra\+Flags = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{main_8cpp_a7332fef59550614786aaf55f8e366d3f}{}\label{main_8cpp_a7332fef59550614786aaf55f8e366d3f}

\begin{DoxyCode}
768 \{
769     \textcolor{keyword}{typedef} \hyperlink{class_queued_tracker}{QueuedTracker} TrkType;
770     std::vector<vector3f> results, truepos;
771 
772     \textcolor{keywordtype}{int} NImg=N;\textcolor{comment}{//std::max(1,N/20);}
773     std::vector<ImageData> imgs(NImg);
774     \textcolor{keyword}{const} \textcolor{keywordtype}{float} R=5;
775     
776     \textcolor{keywordtype}{int} flags= \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ}|\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile}|extraFlags;
777     \textcolor{keywordflow}{if} (trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations}>0) flags|=\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI};
778 
779     trk->\hyperlink{class_queued_tracker_aed430b5578d7a3e75f4d4d6c6dbb7e45}{SetLocalizationMode}((\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})flags);
780     \hyperlink{class_matrix3_x3}{Matrix3X3} fisher;
781     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<NImg;i++) \{
782         imgs[i]=\hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
783         \hyperlink{structvector3}{vector3f} pos = centerpos + range*\hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(rand\_uniform<float>()-0.5f, 
      rand\_uniform<float>()-0.5f, rand\_uniform<float>()-0.5f)*1;
784         \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&imgs[i], &lut, trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, \hyperlink{structvector3}{vector3f}( pos.
      \hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x},pos.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y}, pos.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z}));
785 
786         \hyperlink{class_sample_fisher_matrix}{SampleFisherMatrix} fm(MaxPixelValue);
787         fisher += fm.Compute(pos, \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(1,1,1)*0.001f, lut, trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}, trk->\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius},trk->
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius});
788 
789         imgs[i].normalize();
790         \textcolor{keywordflow}{if} (MaxPixelValue> 0) \hyperlink{utils_8cpp_ac2ddbf383f4539cdec45a8001a435a1a}{ApplyPoissonNoise}(imgs[i], MaxPixelValue);
791         \textcolor{comment}{//if(i==0) WriteJPEGFile(name, imgs[i]);}
792 
793         \hyperlink{struct_localization_job}{LocalizationJob} job(i, 0, 0, 0);
794         trk->\hyperlink{class_queued_tracker_a233dffd15fe3cef8a53c698bba9befb4}{ScheduleLocalization}((\hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}*)imgs[i%NImg].data, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*trk->
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}, \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0bafeece00bcf1a42419e686ef0cf006a4e}{QTrkFloat}, &job);
795         truepos.push\_back(pos);
796     \}
797     \hyperlink{_shared_tests_8h_ad10b5a63fc1239e5638eae0f0ea30f84}{WaitForFinish}(trk, N);
798 
799     results.resize(trk->\hyperlink{class_queued_tracker_a362a26027dc6bd40864e59de1ac32de2}{GetResultCount}());
800     \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<results.size();i++) \{
801         \hyperlink{struct_localization_result}{LocalizationResult} r;
802         trk->\hyperlink{class_queued_tracker_a171688832558d40838790c90ba9f8fc0}{FetchResults}(&r,1);
803         results[r.\hyperlink{struct_localization_result_a9a6b25c5cc92fe13bae3d0a5d37360f3}{job}.\hyperlink{struct_localization_job_a54df1ba33ab48b20dca664142a8cf619}{frame}]=r.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos};
804     \}
805 
806     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<NImg;i++)
807         imgs[i].free();
808 
809     \hyperlink{struct_speed_acc_result}{SpeedAccResult} r;
810     r.\hyperlink{struct_speed_acc_result_a1dcba172a9a9d2974ee41278aeb6e7d6}{Compute}(results, [&](\textcolor{keywordtype}{int} index) \{ \textcolor{keywordflow}{return} truepos[index]; \});
811 
812     fisher *= 1.0f/NImg;
813     r.\hyperlink{struct_speed_acc_result_aec7bafb1d6f5fa5022115857bbca5094}{crlb} = \hyperlink{std__incl_8h_a8a38721046513951c4bfc32bf101e180}{sqrt}(fisher.\hyperlink{class_matrix3_x3_a67bea30b9734e1ecae9c9c0581150dc5}{Inverse}().\hyperlink{class_matrix3_x3_a9ae9d007341bbf8b82f0043d3e791ba7}{diag}());
814     \textcolor{keywordflow}{return} r;
815 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Auto\+Bead\+Find\+Test@{Auto\+Bead\+Find\+Test}}
\index{Auto\+Bead\+Find\+Test@{Auto\+Bead\+Find\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Auto\+Bead\+Find\+Test()}{AutoBeadFindTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Auto\+Bead\+Find\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a1c51d0694b2d69642de81be5ebd23992}{}\label{main_8cpp_a1c51d0694b2d69642de81be5ebd23992}

\begin{DoxyCode}
590 \{
591     \textcolor{keyword}{auto} img = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(\textcolor{stringliteral}{"00008153.jpg"});
592     \textcolor{keyword}{auto} smp = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(\textcolor{stringliteral}{"00008153-s.jpg"});
593     \hyperlink{struct_bead_finder_1_1_config}{BeadFinder::Config} cfg;
594     cfg.\hyperlink{struct_bead_finder_1_1_config_ad00f5cda73407df2aafe3a15c528a771}{img\_distance} = 0.5f;
595     cfg.\hyperlink{struct_bead_finder_1_1_config_afd0fcc1cea252dc5c64d98d3df23887e}{roi} = 80;
596     cfg.\hyperlink{struct_bead_finder_1_1_config_ace5e499578ca57df89b304adab763a3e}{similarity} = 0.5;
597 
598     \textcolor{keyword}{auto} results=\hyperlink{namespace_bead_finder_ab23a6df0dccd8f6af8e78f79d2f05b69}{BeadFinder::Find}(&img, smp.data, &cfg);
599 
600     \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<results.size();i++) \{
601         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"beadpos: x=%d, y=%d\(\backslash\)n"}, results[i].x, results[i].y);
602         img.at(results[i].x+cfg.\hyperlink{struct_bead_finder_1_1_config_afd0fcc1cea252dc5c64d98d3df23887e}{roi}/2, results[i].y+cfg.\hyperlink{struct_bead_finder_1_1_config_afd0fcc1cea252dc5c64d98d3df23887e}{roi}/2) = 1.0f;
603     \}
604     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"%d beads total\(\backslash\)n"}, results.size());
605 
606     \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}(\textcolor{stringliteral}{"autobeadfind.jpg"}, img.data, img.w, img.h);
607 
608     img.free();
609     smp.free();
610 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Benchmark\+Params@{Benchmark\+Params}}
\index{Benchmark\+Params@{Benchmark\+Params}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Benchmark\+Params()}{BenchmarkParams()}}]{\setlength{\rightskip}{0pt plus 5cm}void Benchmark\+Params (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_aa2e677b0099389a9137abf21b6a11b61}{}\label{main_8cpp_aa2e677b0099389a9137abf21b6a11b61}

\begin{DoxyCode}
121 \{
122     \textcolor{comment}{/*}
123 \textcolor{comment}{    - Accuracy vs ROIsize}
124 \textcolor{comment}{    - Speed vs ROIsize}
125 \textcolor{comment}{    */}
126 \textcolor{preprocessor}{#ifdef \_DEBUG}
127     \textcolor{keywordtype}{int} n = 50;
128 \textcolor{preprocessor}{#else}
129     \textcolor{keywordtype}{int} n = 300;
130 \textcolor{preprocessor}{#endif}
131 
132     \textcolor{keywordtype}{int} mpv = 10000;
133     \textcolor{keywordtype}{float} pixel\_size = 120, lutstep = 50;
134 
135     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} zlutbias=0;zlutbias<2;zlutbias++) \{
136         \textcolor{keywordtype}{float} range\_in\_nm=0;
137         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bias=0;bias<2;bias++) \{
138             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<5;i++)
139                 \hyperlink{_benchmark_8cpp_a8467866a7724e472d30414e7ae206c2c}{BenchmarkROISizes}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"roi\_qi%d\_bias%d\_zlutbias%d.txt"},i,bias, 
      zlutbias).c\_str(), n, mpv, i, 0, range\_in\_nm, pixel\_size, lutstep, zlutbias ? 
      \hyperlink{_queued_tracker_8h_a785877e02de7d5323dbf5d5dff703dbd}{BUILDLUT\_BIASCORRECT} : 0);
140     \textcolor{comment}{//      for (int i=0;i<5;i++)}
141         \textcolor{comment}{//      BenchmarkROISizes(SPrintf("roi\_qi%d\_bias%d\_wz.txt",i,bias).c\_str(), n, mpv, i,
       LT\_LocalizeZWeighted, range\_in\_nm, pixel\_size, lutstep);}
142             \hyperlink{_benchmark_8cpp_a8467866a7724e472d30414e7ae206c2c}{BenchmarkROISizes}( \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"roi\_xcor\_bias%d\_zlutbias%d.txt"}, bias, 
      zlutbias).c\_str(), n, mpv, 0, \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba3c14d24d83bc2358bf41e071861620d2}{LT\_XCor1D}, range\_in\_nm, pixel\_size, lutstep, zlutbias ? 
      BUILDLUT\_BIASCORRECT : 0);
143     \textcolor{comment}{//      BenchmarkROISizes( SPrintf("roi\_xcor\_bias%d\_wz.txt",bias).c\_str(), n, mpv, 0, LT\_XCor1D |
       LT\_LocalizeZWeighted, range\_in\_nm, pixel\_size, lutstep);}
144             range\_in\_nm = 200;
145         \}
146     \}
147 
148     \hyperlink{struct_q_trk_settings}{QTrkSettings} basecfg;
149     basecfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = 80;
150     basecfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 80;
151     basecfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = 4;
152     basecfg.\hyperlink{struct_q_trk_settings_ab9567d21cc1517713a746c2173de4264}{qi\_roi\_coverage} = 1;
153     basecfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}=1;
154     basecfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}=1;
155     basecfg.\hyperlink{struct_q_trk_settings_abee59fa2f68d9e514500062f73b1d512}{qi\_radial\_coverage} = 2.5f;
156     basecfg.\hyperlink{struct_q_trk_settings_a08800ed7809dc4bde16d0a6fee08ecdd}{qi\_angular\_coverage} = 0.7f;
157     basecfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage} = 1;
158     basecfg.\hyperlink{struct_q_trk_settings_ae57544152a8a129bae6cb934feead1c7}{zlut\_radial\_coverage} = 1.5f;
159     basecfg.\hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection} = 0;
160     basecfg.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor} = 1.1f;
161     basecfg.\hyperlink{struct_q_trk_settings_a8892aa193827371fc06ee94254e68b09}{zlut\_angular\_coverage} = 0.7f;
162 
163     \textcolor{comment}{//BenchmarkConfigParamRange (20000, &QTrkSettings::qi\_iterations, &basecfg, linspace(1, 6, 6),
       "qi\_iterations\_noise", mpv);}
164 \textcolor{comment}{/*}
165 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::qi\_radial\_coverage, &basecfg, linspace(0.2f, 4.0f, 20),
       "qi\_rad\_cov\_noise", mpv );}
166 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::zlut\_radial\_coverage, &basecfg, linspace(0.2f, 4.0f, 20),
       "zlut\_rad\_cov\_noise", mpv);}
167 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::qi\_iterations, &basecfg, linspace(1, 6, 6),
       "qi\_iterations\_noise", mpv);}
168 \textcolor{comment}{    BenchmarkZAccuracy("zpos-noise.txt", n, mpv);}
169 \textcolor{comment}{}
170 \textcolor{comment}{    BenchmarkROISizes("roi-sizes.txt", n, 0);}
171 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::qi\_radial\_coverage, &basecfg, linspace(0.2f, 4.0f, 20),
       "qi\_rad\_cov", 0);}
172 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::zlut\_radial\_coverage, &basecfg, linspace(0.2f, 4.0f, 20),
       "zlut\_rad\_cov", 0);}
173 \textcolor{comment}{    BenchmarkConfigParamRange (n, &QTrkSettings::qi\_iterations, &basecfg, linspace(1, 6, 6),
       "qi\_iterations", 0);}
174 \textcolor{comment}{    BenchmarkZAccuracy("zpos.txt", n, 0);*/}
175 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Build\+Convergence\+Map@{Build\+Convergence\+Map}}
\index{Build\+Convergence\+Map@{Build\+Convergence\+Map}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Build\+Convergence\+Map(int iterations)}{BuildConvergenceMap(int iterations)}}]{\setlength{\rightskip}{0pt plus 5cm}void Build\+Convergence\+Map (
\begin{DoxyParamCaption}
\item[{int}]{iterations}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a4b6ff0beeb126fb6302628985642cc6a}{}\label{main_8cpp_a4b6ff0beeb126fb6302628985642cc6a}

\begin{DoxyCode}
257 \{
258     \textcolor{keywordtype}{int} W=80, H=80;
259     \textcolor{keywordtype}{char}* data=\textcolor{keyword}{new} \textcolor{keywordtype}{char}[W*H];
260     FILE* f=fopen(\textcolor{stringliteral}{"singlebead.bin"}, \textcolor{stringliteral}{"rb"});
261     fread(data,1,80*80,f);
262     fclose(f);
263 
264     \textcolor{keywordtype}{float} testrange=20;
265     \textcolor{keywordtype}{int} steps=100;
266     \textcolor{keywordtype}{float} step=testrange/steps;
267     \hyperlink{structvector2}{vector2f} errXCor, errQI;
268     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(W,H,40);
269 
270     \textcolor{comment}{// Get a good starting estimate}
271     trk.SetImage8Bit((\hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}*)data,W);
272     \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
273     \textcolor{keywordtype}{bool} boundaryHit;
274     \hyperlink{structvector2}{vector2f} cmp = trk.ComputeQI(com,8,80,64,\hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF},2,25,boundaryHit);
275 
276     \textcolor{keywordtype}{float} *xcorErrMap = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[steps*steps];
277     \textcolor{keywordtype}{float} *qiErrMap = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[steps*steps];
278 
279     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y=0;y<steps;y++)\{
280         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<steps;x++)
281         \{
282             \hyperlink{structvector2}{vector2f} initial (cmp.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}+step*(x-steps/2), cmp.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}+step*(y-steps/2) );
283             \hyperlink{structvector2}{vector2f} xcor = trk.ComputeXCorInterpolated(initial, iterations, 64, boundaryHit);
284             \hyperlink{structvector2}{vector2f} qi = trk.ComputeQI(initial, iterations, 80, 64,
      \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF},2,30,boundaryHit);
285 
286             errXCor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} += fabs(xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-cmp.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x});
287             errXCor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} += fabs(xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-cmp.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
288             xcorErrMap[y*steps+x] = \hyperlink{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}{distance}(xcor,cmp);
289 
290             errQI.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} += fabs(qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-cmp.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x});
291             errQI.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} += fabs(qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-cmp.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
292             qiErrMap[y*steps+x] = \hyperlink{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}{distance}(qi,cmp);
293         \}
294         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"y=%d\(\backslash\)n"}, y);
295     \}
296     
297 
298     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"xcor-err-i%d.csv"}, iterations).c\_str(), xcorErrMap, 
      steps,steps);
299     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"qi-err-i%d.csv"}, iterations).c\_str(), qiErrMap, steps,
      steps);
300 
301     \textcolor{keyword}{delete}[] qiErrMap;
302     \textcolor{keyword}{delete}[] xcorErrMap;
303     \textcolor{keyword}{delete}[] data;
304 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Build\+Z\+L\+UT@{Build\+Z\+L\+UT}}
\index{Build\+Z\+L\+UT@{Build\+Z\+L\+UT}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Build\+Z\+L\+U\+T(std\+::string folder, outputter $\ast$output)}{BuildZLUT(std::string folder, outputter *output)}}]{\setlength{\rightskip}{0pt plus 5cm}void Build\+Z\+L\+UT (
\begin{DoxyParamCaption}
\item[{std\+::string}]{folder, }
\item[{{\bf outputter} $\ast$}]{output}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a4f42565c78afe260ab6c48197a692712}{}\label{main_8cpp_a4f42565c78afe260ab6c48197a692712}

\begin{DoxyCode}
998 \{
999     \textcolor{keywordtype}{int} ROISize = 100;
1000     std::vector<BeadPos> beads = read\_beadlist(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%sbeadlist.txt"},folder.c\_str()));
1001 
1002 
1003     \textcolor{keywordtype}{int} numImgInStack = 1218;
1004     \textcolor{keywordtype}{int} numPositions = 1001; \textcolor{comment}{// 10nm/frame}
1005     \textcolor{keywordtype}{float} range = 10.0f; \textcolor{comment}{// total range 25.0 um -> 35.0 um}
1006     \textcolor{keywordtype}{float} umPerImg = range/numImgInStack;
1007     
1008     \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} cfg;
1009     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}=cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = ROISize;
1010     cfg.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor} = 1;
1011     cfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = 6;
1012     cfg.\hyperlink{struct_q_trk_settings_a08800ed7809dc4bde16d0a6fee08ecdd}{qi\_angular\_coverage} = 0.7f;
1013     cfg.\hyperlink{struct_q_trk_settings_ab9567d21cc1517713a746c2173de4264}{qi\_roi\_coverage} = 1;
1014     cfg.\hyperlink{struct_q_trk_settings_abee59fa2f68d9e514500062f73b1d512}{qi\_radial\_coverage} = 1.5f;
1015     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}=0;
1016     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}=0;
1017     cfg.\hyperlink{struct_q_trk_settings_a8892aa193827371fc06ee94254e68b09}{zlut\_angular\_coverage} = 0.7f;
1018     cfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage} = 1;
1019     cfg.\hyperlink{struct_q_trk_settings_ae57544152a8a129bae6cb934feead1c7}{zlut\_radial\_coverage} = 1.5f;
1020     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 0;
1021     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius} = 0;
1022     cfg.\hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection} = 0;
1023     cfg.\hyperlink{struct_q_trk_settings_a8f38457c4ec183f78a0191b247ab6b51}{xc1\_profileLength} = ROISize*0.8f;
1024     cfg.\hyperlink{struct_q_trk_settings_a80de240523eb79408593d26e6ef07ef7}{xc1\_profileWidth} = ROISize*0.2f;
1025     cfg.\hyperlink{struct_q_trk_settings_a0bc4efdffbb8ad272d1c9facfdf0e171}{xc1\_iterations} = 1;
1026     cfg.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
1027     cfg.\hyperlink{struct_q_trk_computed_config_a824634b46aeafc68c21d5951f92495c3}{WriteToFile}();
1028 
1029     \textcolor{keywordtype}{int} zplanes = 50;
1030 
1031     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}* \hyperlink{namespaceqtrk}{qtrk} = \textcolor{keyword}{new} \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}(cfg);
1032     qtrk->\hyperlink{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}{SetLocalizationMode}(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI});
1033     qtrk->\hyperlink{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}{SetRadialZLUT}(0, beads.size(), zplanes);
1034     qtrk->\hyperlink{class_queued_c_p_u_tracker_af4b7390a38d56cc45670a60586e20051}{BeginLUT}(0);
1035 
1036     \textcolor{keywordtype}{int} pxPerBead = ROISize*ROISize;
1037     \textcolor{keywordtype}{int} memSizePerBead = pxPerBead*\textcolor{keyword}{sizeof}(float);
1038     \textcolor{keywordtype}{int} startFrame = 400;
1039     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} plane = 0; plane < zplanes; plane++)\{
1040         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Frame %d/%d"},plane+1,zplanes),\textcolor{keyword}{true});
1041         \textcolor{keywordtype}{int} frameNum = startFrame+(int)(numImgInStack-startFrame)*((float)plane/zplanes);
1042         std::string file = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)img%05d.jpg"},folder.c\_str(),frameNum);
1043         
1044         \hyperlink{struct_t_image_data}{ImageData} frame = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(file.c\_str());
1045 
1046         \textcolor{keywordtype}{float}* data = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[beads.size()*pxPerBead];
1047 
1048         \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} ii = 0; ii < beads.size(); ii++)\{  
1049             \hyperlink{structvector2}{vector2f} pos;
1050             pos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} = beads.at(ii).x - ROISize/2;
1051             pos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} = beads.at(ii).y - ROISize/2;
1052             \hyperlink{struct_t_image_data}{ImageData} crop = \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{CropImage}(frame,pos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},pos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y},ROISize,ROISize);
1053             \textcolor{comment}{//output->outputImage(crop,SPrintf("%d-%05d",ii,plane));}
1054             memcpy(data+ii*pxPerBead,crop.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},memSizePerBead);
1055             crop.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1056         \}
1057         
1058         \textcolor{comment}{/*}
1059 \textcolor{comment}{        // To verify seperate frame bead stack generation}
1060 \textcolor{comment}{        output->newFile(SPrintf("data-plane-%d",plane));}
1061 \textcolor{comment}{        output->outputArray(data,beads.size()*pxPerBead);}
1062 \textcolor{comment}{}
1063 \textcolor{comment}{        ImageData allBeads = ImageData(data,ROISize,ROISize*beads.size());}
1064 \textcolor{comment}{        output->outputImage(allBeads,SPrintf("allBeads-%05d",frameNum));//*/}
1065         
1066         qtrk->\hyperlink{class_queued_c_p_u_tracker_ac73750c7446b69b070ab24742b02660f}{BuildLUT}(data, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*ROISize, \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0bafeece00bcf1a42419e686ef0cf006a4e}{QTrkFloat}, plane);
1067         
1068         frame.free();
1069         \textcolor{keyword}{delete}[] data;
1070     \}
1071 
1072     qtrk->\hyperlink{class_queued_c_p_u_tracker_a9d94101b69e1f514473bfedc012ec785}{FinalizeLUT}();
1073     
1074     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0; ii < beads.size(); ii++)\{
1075         \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(cfg.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps},zplanes);
1076         memcpy(lut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},qtrk->\hyperlink{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}{GetZLUTByIndex}(ii),cfg.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}*zplanes*\textcolor{keyword}{sizeof}(float));
1077         \textcolor{comment}{//output->outputImage(lut,SPrintf("lut%03d,%d",beads.at(ii).x,beads.at(ii).y));}
1078         output->\hyperlink{classoutputter_a8a9f6716fd8a503c8ded2412dfe36c7c}{outputImage}(lut,\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"lut%03d"},ii));
1079         lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1080     \}
1081 
1082     qtrk->\hyperlink{class_queued_c_p_u_tracker_a9b332b6fb228e9c655eb2fb12d8dfbc6}{Flush}();
1083     \textcolor{keyword}{delete} qtrk;
1084 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Compute\+Radial\+Weights@{Compute\+Radial\+Weights}}
\index{Compute\+Radial\+Weights@{Compute\+Radial\+Weights}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Compute\+Radial\+Weights(int rsteps, float min\+Radius, float max\+Radius)}{ComputeRadialWeights(int rsteps, float minRadius, float maxRadius)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$float$>$ Compute\+Radial\+Weights (
\begin{DoxyParamCaption}
\item[{int}]{rsteps, }
\item[{float}]{min\+Radius, }
\item[{float}]{max\+Radius}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_aa7491e288f13c4d2ce49084cf10a30e8}{}\label{main_8cpp_aa7491e288f13c4d2ce49084cf10a30e8}

\begin{DoxyCode}
366 \{
367     std::vector<float> wnd(rsteps);
368     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x=0;x<rsteps;x++)
369         wnd[x]=\hyperlink{utils_8h_a19361b487ecc29968d6a8924f5601bfa}{Lerp}(minRadius, maxRadius, x/(\textcolor{keywordtype}{float})rsteps) / (0.5f * (minRadius+maxRadius));
370     \textcolor{keywordflow}{return} wnd;
371 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Corrected\+Radial\+Profile\+Test@{Corrected\+Radial\+Profile\+Test}}
\index{Corrected\+Radial\+Profile\+Test@{Corrected\+Radial\+Profile\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Corrected\+Radial\+Profile\+Test()}{CorrectedRadialProfileTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Corrected\+Radial\+Profile\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_ae29d46fa158997e0134b81f54678efe6}{}\label{main_8cpp_ae29d46fa158997e0134b81f54678efe6}

\begin{DoxyCode}
320 \{
321     \textcolor{comment}{// read image}
322     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* imgname = \textcolor{stringliteral}{"SingleBead.jpg"};
323     \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(imgname);
324 
325     \textcolor{comment}{// localize}
326     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
327     trk.SetImageFloat(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
328     \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
329     \textcolor{keywordtype}{bool} boundaryHit;
330     \hyperlink{structvector2}{vector2f} qi = trk.ComputeQI(com, 4, 64, 64,\hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 1, 30, boundaryHit);
331     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"%s: COM: %f, %f. QI: %f, %f\(\backslash\)n"}, imgname, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}, qi.
      \hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
332 
333     std::vector<float> angularProfile(128);
334     \textcolor{keywordtype}{float} asym = trk.ComputeAsymmetry(qi, 64, angularProfile.size(), 1, 30, &angularProfile[0]);
335 \textcolor{comment}{//  ComputeAngularProfile(&angularProfile[0], 64, angularProfile.size(), 1, 30, qi, &img, trk.mean);}
336     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\textcolor{stringliteral}{"angprof.csv"}, &angularProfile[0], angularProfile.size(), 1);
337     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Asymmetry value: %f\(\backslash\)n"}, asym);
338     std::vector<float> crp(128);
339     \textcolor{keywordtype}{float}* crpmap = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[angularProfile.size()*crp.size()];
340     \hyperlink{utils_8cpp_ab6d583c937db5602a34e949fcf64805d}{ComputeCRP}(&crp[0], crp.size(), angularProfile.size(), 1, 30, qi, &img, 0.0f); 
341     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\textcolor{stringliteral}{"crpmap.csv"}, crpmap, crp.size(), angularProfile.size());
342     \textcolor{keyword}{delete}[] crpmap;
343     \textcolor{keyword}{delete}[] img.data;
344 
345     \textcolor{comment}{//CRP\_TestGeneratedData();}
346 
347 \textcolor{comment}{//  GenerateImageFromLUT(ImageData(img,w,h), ImageData}
348 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!C\+R\+P\+\_\+\+Test\+Generated\+Data@{C\+R\+P\+\_\+\+Test\+Generated\+Data}}
\index{C\+R\+P\+\_\+\+Test\+Generated\+Data@{C\+R\+P\+\_\+\+Test\+Generated\+Data}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{C\+R\+P\+\_\+\+Test\+Generated\+Data()}{CRP_TestGeneratedData()}}]{\setlength{\rightskip}{0pt plus 5cm}void C\+R\+P\+\_\+\+Test\+Generated\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a4fd82881e2bc095738fd5bee6949d1f6}{}\label{main_8cpp_a4fd82881e2bc095738fd5bee6949d1f6}

\begin{DoxyCode}
307 \{
308     \textcolor{keywordtype}{int} w=64,h=64;
309     \textcolor{keywordtype}{float}* img = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[w*h];
310     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* lutname = \textcolor{stringliteral}{"LUTexample25X.jpg"};
311     std::vector<uchar> lutdata = \hyperlink{utils_8cpp_afc3a35e21ebcc6c29a05f25c58c74157}{ReadToByteBuffer}(lutname);
312 
313     \textcolor{keywordtype}{int} lutw,luth;
314     \hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}* lut;
315     \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(&lutdata[0], lutdata.size(), &lut, &lutw, &luth);
316     \textcolor{keyword}{delete}[] img;
317 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Generate\+Z\+L\+U\+T\+Fitting\+Curve@{Generate\+Z\+L\+U\+T\+Fitting\+Curve}}
\index{Generate\+Z\+L\+U\+T\+Fitting\+Curve@{Generate\+Z\+L\+U\+T\+Fitting\+Curve}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Generate\+Z\+L\+U\+T\+Fitting\+Curve(const char $\ast$lutfile)}{GenerateZLUTFittingCurve(const char *lutfile)}}]{\setlength{\rightskip}{0pt plus 5cm}void Generate\+Z\+L\+U\+T\+Fitting\+Curve (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{lutfile}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a33c4c5760d4fa7f0408fa1bb7195caf3}{}\label{main_8cpp_a33c4c5760d4fa7f0408fa1bb7195caf3}

\begin{DoxyCode}
729 \{
730     \hyperlink{struct_q_trk_settings}{QTrkSettings} settings;
731     settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 80;
732 
733     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker} qt(settings);
734     \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(lutfile);
735     \hyperlink{struct_t_image_data}{ImageData} nlut;
736     \hyperlink{_shared_tests_8h_a6a1246e8a5604b97c4f6dff6d3790272}{ResampleLUT}(&qt, &lut, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, &nlut);
737 
738     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
739 
740     \hyperlink{struct_t_image_data}{ImageData} smp = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},settings.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
741 
742     trk.SetRadialZLUT(nlut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, nlut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, nlut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 1, qt.cfg.zlut\_minradius, qt.cfg.zlut\_maxradius, \textcolor{keyword}{
      false}, \textcolor{keyword}{false});
743 
744     \textcolor{keywordtype}{int} N=8;
745     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z=0;z<6;z++) \{
746         \hyperlink{structvector3}{vector3f} pos(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}/2,settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}/2, nlut.
      \hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} * (1+z) / (\textcolor{keywordtype}{float})N + 0.123f);
747         \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&smp, &nlut, qt.cfg.zlut\_minradius, qt.cfg.zlut\_maxradius,
       pos);
748         \hyperlink{utils_8cpp_ac2ddbf383f4539cdec45a8001a435a1a}{ApplyPoissonNoise}(smp, 10000);
749         \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}( \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"zlutfitcurve-smpimg-z%d.jpg"}, z).c\_str(), smp);
750         trk.SetImageFloat(smp.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
751         std::vector<float> profile(qt.cfg.zlut\_radialsteps), cmpProf(nlut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}), fitted(nlut.
      \hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
752         trk.ComputeRadialProfile(&profile[0], qt.cfg.zlut\_radialsteps, qt.cfg.zlut\_angularsteps, qt.cfg.
      zlut\_minradius, qt.cfg.zlut\_maxradius, pos.xy(), \textcolor{keyword}{false});
753         trk.LUTProfileCompare(&profile[0], 0, &cmpProf[0], 
      \hyperlink{class_c_p_u_tracker_a196ac690351a7a8449fe21012de9efdfa699b606aff628359036eef4585adba0e}{CPUTracker::LUTProfMaxQuadraticFit}, &fitted[0]);
754 
755         \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"zlutfitcurve-profile.txt"}, &profile[0], profile.size(), z>0);
756         \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"zlutfitcurve-cmpprof.txt"}, &cmpProf[0], cmpProf.size(), z>0);
757         \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"zlutfitcurve-fitted.txt"}, &fitted[0], fitted.size(), z>0);
758     \}
759 
760     smp.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
761     nlut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
762     lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
763 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!main@{main}}
\index{main@{main}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{main()}{main()}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{}\label{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}

\begin{DoxyCode}
1510 \{
1511 \textcolor{preprocessor}{#ifdef \_DEBUG}
1512 \textcolor{comment}{//  Matrix3X3::test();}
1513 \textcolor{preprocessor}{#endif}
1514     \hyperlink{main_8cpp_a012d4c158be25aa1273de6a295031d4c}{SelectTests}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)img00095.jpg"}, \hyperlink{testutils_8h_aea9b255b3e6f4b82762a3c35b821b2b1a49ce9e101fea37ab1954e5b3b9975c09}{Files}+\hyperlink{testutils_8h_aea9b255b3e6f4b82762a3c35b821b2b1a1f15ca9cb9525af532f13906e1d05651}{Images});
1515 \textcolor{comment}{//  ManTest();}
1516 
1517 \textcolor{comment}{//  SimpleTest();}
1518 
1519 \textcolor{comment}{//  GenerateZLUTFittingCurve("lut000.jpg");}
1520 
1521     \textcolor{comment}{/*TestBias();}
1522 \textcolor{comment}{    TestZRangeBias("ref169-norm", "zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", true);}
1523 \textcolor{comment}{    TestZRangeBias("ref169-raw", "zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", false);}
1524 \textcolor{comment}{}
1525 \textcolor{comment}{//  SmallROITest("lut000.jpg");}
1526 \textcolor{comment}{}
1527 \textcolor{comment}{    //TestZRange("lut227-ref","lut227.jpg", 0, 0, RWStetson);}
1528 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut169ref-biasmap-c","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", 0, 0, RWStetson, true, true);}
1529 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut169ref-biasmap","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", 0, 0, RWStetson, true, false);}
1530 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut169ref","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", 0, 0, RWStetson, false, false);}
1531 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut169ref-c","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#169", 0, 0, RWStetson, false, true);}
1532 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut013tether","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#13", 0, 0, RWStetson, false, false);}
1533 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)lut013tether-c","zrange\(\backslash\)\(\backslash\)exp\_qi.radialzlut#13", 0, 0, RWStetson, false, true);*/}
1534 \textcolor{comment}{/*}
1535 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)longlut1-c","zrange\(\backslash\)\(\backslash\)long.radialzlut#1", 0,0, RWStetson, false, true);}
1536 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)longlut1","zrange\(\backslash\)\(\backslash\)long.radialzlut#1", 0,0, RWStetson, false, false);}
1537 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)longlut3-c","zrange\(\backslash\)\(\backslash\)long.radialzlut#3", 0,0, RWStetson, false, true);}
1538 \textcolor{comment}{    TestZRange("zrange\(\backslash\)\(\backslash\)longlut3","zrange\(\backslash\)\(\backslash\)long.radialzlut#3", 0,0, RWStetson, false, false);}
1539 \textcolor{comment}{*/}
1540     \textcolor{comment}{//TestZRange("cleanlut1", "lut000.jpg", LT\_LocalizeZWeighted, 0);}
1541     \textcolor{comment}{//TestZRange("cleanlut1", "lut000.jpg", LT\_LocalizeZWeighted, 1);}
1542     \textcolor{comment}{//TestZRange("cleanlut10", "lut10.jpg", LT\_LocalizeZWeighted, 1);}
1543     \textcolor{comment}{//TestZRange("cleanlut10", "lut10.jpg", LT\_LocalizeZWeighted, 1);}
1544     
1545 \textcolor{comment}{//  BenchmarkParams();}
1546 \textcolor{comment}{//  int N=50;}
1547     \textcolor{comment}{/*ScatterBiasArea(80, 4, 100, N, 3, 1);}
1548 \textcolor{comment}{    ScatterBiasArea(80, 4, 100, N, 4, 1);}
1549 \textcolor{comment}{    ScatterBiasArea(80, 4, 100, N, 1, 1);}
1550 \textcolor{comment}{    ScatterBiasArea(80, 4, 100, N, 2, 1);}
1551 \textcolor{comment}{    ScatterBiasArea(80, 4, 100, N, 0, 1);}
1552 \textcolor{comment}{    ScatterBiasArea(80, 4, 100, N, -1, 1);}
1553 \textcolor{comment}{    */}
1554 \textcolor{comment}{/*}
1555 \textcolor{comment}{    ImageData img=ReadLUTFile("lut000.jpg");}
1556 \textcolor{comment}{    img.mean();}
1557 \textcolor{comment}{}
1558 \textcolor{comment}{    TestZRange("rbin1x", "1x.radialzlut#4", 0, 0, RWUniform);}
1559 \textcolor{comment}{    TestZRange("rbin1x", "1x.radialzlut#4", 0, 0, RWRadial);}
1560 \textcolor{comment}{    TestZRange("rbin1x", "1x.radialzlut#4", 0, 0, RWDerivative);}
1561 \textcolor{comment}{}
1562 \textcolor{comment}{    TestZRange("rbin10x", "10x.radialzlut#4", 0, 0, RWUniform);}
1563 \textcolor{comment}{    TestZRange("rbin10x", "10x.radialzlut#4", 0, 0, RWRadial);}
1564 \textcolor{comment}{    TestZRange("rbin10x", "10x.radialzlut#4", 0, 0, RWDerivative);}
1565 \textcolor{comment}{    */}
1566 \textcolor{comment}{//  QTrkTest();}
1567 \textcolor{comment}{//  TestCMOSNoiseInfluence<QueuedCPUTracker>("lut000.jpg");}
1568 
1569     \textcolor{comment}{//AutoBeadFindTest();}
1570 \textcolor{comment}{//  Gauss2DTest<QueuedCPUTracker>();}
1571     
1572     \textcolor{comment}{//SpeedTest();}
1573     \textcolor{comment}{//PixelationErrorTest();}
1574     \textcolor{comment}{//ZTrackingTest();}
1575     \textcolor{comment}{//Test2DTracking();}
1576     \textcolor{comment}{//TestBoundCheck();}
1577     \textcolor{comment}{//QTrkTest();}
1578     \textcolor{comment}{//for (int i=1;i<8;i++)}
1579     \textcolor{comment}{//  BuildConvergenceMap(i);}
1580 
1581     \textcolor{comment}{//TestFourierLUT();}
1582 \textcolor{comment}{//  TestQuadrantAlign();}
1583     \textcolor{comment}{//TestZLUTAlign();}
1584     \textcolor{comment}{//TestImageLUT();}
1585 \textcolor{comment}{//  TestBuildRadialZLUT<QueuedCPUTracker>( "lut000.jpg" );}
1586     \textcolor{comment}{//TestImageLUT();}
1587 
1588     \textcolor{comment}{//CorrectedRadialProfileTest();}
1589     
1590     \textcolor{comment}{//system("pause");}
1591     \textcolor{keywordflow}{return} 0;
1592 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Man\+Test@{Man\+Test}}
\index{Man\+Test@{Man\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Man\+Test()}{ManTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Man\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a01cd171810983f79bf6ff0c5f4973207}{}\label{main_8cpp_a01cd171810983f79bf6ff0c5f4973207}

\begin{DoxyCode}
1314 \{
1315     \textcolor{keywordtype}{int} ROISize = 101;
1316     \textcolor{keywordtype}{float} displacement = 0;
1317     \textcolor{keywordtype}{float} skewFact = 0.0f;
1318     \textcolor{keywordtype}{float} bgCorr = 2;
1319     \textcolor{keywordtype}{int} imgSel = 0;
1320 
1321     \textcolor{keywordtype}{char} inChar;
1322     \textcolor{keywordflow}{do}
1323     \{
1324         \textcolor{keywordtype}{char} selChar;
1325         \textcolor{keywordflow}{do}\{
1326             printf\_s(\textcolor{stringliteral}{"Current settings: image %s\(\backslash\)nROI %d, skewFact %f, displacement %f, bgCorr %f\(\backslash\)n\(\backslash\)n"}, (
      imgSel == 0)? \textcolor{stringliteral}{"generated"}:\textcolor{stringliteral}{"CroppedBead.jpg"}, ROISize, skewFact, displacement, bgCorr);
1327             std::cout << \textcolor{stringliteral}{"What setting to change? (? for list, 0 to run)\(\backslash\)n"};
1328             std::cin >> selChar;
1329             \textcolor{keywordflow}{switch}(selChar)\{
1330             \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:
1331                 printf(\textcolor{stringliteral}{"i: imgSel (0: Generated, 1: CroppedBead.jpg)\(\backslash\)nr: ROISize\(\backslash\)nb: COM Background
       correction\(\backslash\)n"});
1332                 printf(\textcolor{stringliteral}{"\(\backslash\)nOnly for generated image:\(\backslash\)n\(\backslash\)ts: skewFact\(\backslash\)n\(\backslash\)td: displacement\(\backslash\)n"});
1333                 \textcolor{keywordflow}{break};
1334             \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:
1335                 std::cin >> imgSel;
1336                 \textcolor{keywordflow}{break};
1337             \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:
1338                 std::cin >> ROISize;
1339                 \textcolor{keywordflow}{break};
1340             \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}:
1341                 std::cin >> skewFact;
1342                 \textcolor{keywordflow}{break};
1343             \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}:
1344                 std::cin >> displacement;
1345                 \textcolor{keywordflow}{break};
1346             \textcolor{keywordflow}{case} \textcolor{charliteral}{'b'}:
1347                 std::cin >> bgCorr;
1348                 \textcolor{keywordflow}{break};
1349             \textcolor{keywordflow}{default}:
1350                 \textcolor{keywordflow}{break};
1351             \}
1352             std::cout << std::endl;
1353         \} \textcolor{keywordflow}{while}(selChar != \textcolor{charliteral}{'0'});
1354         \hyperlink{struct_t_image_data}{ImageData} img;
1355         \textcolor{keywordflow}{if}(imgSel == 1)\{
1356             \hyperlink{struct_t_image_data}{ImageData} imgRaw = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)CroppedBead.jpg"});
1357             ROISize = imgRaw.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w};
1358             img = \hyperlink{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}{SkewImage}(imgRaw,skewFact);
1359             img.\hyperlink{struct_t_image_data_ac987182fb87787d7d274a30cf4a198d4}{normalize}();
1360             imgRaw.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1361         \} \textcolor{keywordflow}{else} \{
1362             \hyperlink{struct_t_image_data}{ImageData} imgRaw = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(ROISize,ROISize);
1363             \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(imgRaw,(\textcolor{keywordtype}{float})ROISize/2+displacement,(\textcolor{keywordtype}{float})ROISize/2+
      displacement,5,0);
1364             img = \hyperlink{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}{SkewImage}(imgRaw,skewFact);
1365             img.\hyperlink{struct_t_image_data_ac987182fb87787d7d274a30cf4a198d4}{normalize}();
1366             imgRaw.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1367         \}
1368         \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)test.jpg"},img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},ROISize,ROISize);
1369 
1370         \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} cfg;
1371         cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = ROISize;
1372         cfg.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor} = 1;
1373         cfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = 10;
1374         cfg.\hyperlink{struct_q_trk_settings_a08800ed7809dc4bde16d0a6fee08ecdd}{qi\_angular\_coverage} = 0.7f;
1375         cfg.\hyperlink{struct_q_trk_settings_ab9567d21cc1517713a746c2173de4264}{qi\_roi\_coverage} = 1.0f;
1376         cfg.\hyperlink{struct_q_trk_settings_abee59fa2f68d9e514500062f73b1d512}{qi\_radial\_coverage} = 1.5f;
1377         cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius} = 0;
1378         cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 2;
1379         cfg.\hyperlink{struct_q_trk_settings_ae57544152a8a129bae6cb934feead1c7}{zlut\_radial\_coverage} = 2;
1380         cfg.\hyperlink{struct_q_trk_settings_a8892aa193827371fc06ee94254e68b09}{zlut\_angular\_coverage} = 0.7f;
1381         cfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage} = 1;
1382         cfg.\hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection} = bgCorr;
1383         cfg.\hyperlink{struct_q_trk_settings_a8f38457c4ec183f78a0191b247ab6b51}{xc1\_profileLength} = ROISize*0.8f;
1384         cfg.\hyperlink{struct_q_trk_settings_a80de240523eb79408593d26e6ef07ef7}{xc1\_profileWidth} = ROISize*0.2f;
1385         cfg.\hyperlink{struct_q_trk_settings_a0bc4efdffbb8ad272d1c9facfdf0e171}{xc1\_iterations} = 4;   
1386         cfg.\hyperlink{struct_q_trk_settings_aef52bd8e2fdba83af4ce3b4367180d9f}{testRun} = \textcolor{keyword}{true};
1387     
1388         cfg.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
1389 
1390         \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}* \hyperlink{namespaceqtrk}{qtrk} = \textcolor{keyword}{new} \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}(cfg);
1391         qtrk->\hyperlink{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}{SetLocalizationMode}(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile});
1392         \hyperlink{struct_localization_job}{LocalizationJob} job(0, 0, 0, 0);
1393         \hyperlink{struct_r_o_i_position}{ROIPosition} pos;
1394         pos.\hyperlink{struct_r_o_i_position_a7ec9344e32faa05e10a72705ed24e9f5}{x} = 0;
1395         pos.\hyperlink{struct_r_o_i_position_aa790f0665220dffa8d196003f6c01b47}{y} = 0;
1396         \textcolor{keywordtype}{int} queued = qtrk->\hyperlink{class_queued_tracker_ab80776ec6e8b2202d858f1c9cb989240}{ScheduleFrame}(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*img.
      \hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h},&pos,1,\hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0bafeece00bcf1a42419e686ef0cf006a4e}{QTrkFloat},&job);
1397         printf(\textcolor{stringliteral}{"q: %d\(\backslash\)n"},queued);
1398         \textcolor{keywordflow}{while}(qtrk->\hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{GetQueueLength}() != 0);
1399         \textcolor{keywordflow}{while}(qtrk->\hyperlink{class_queued_c_p_u_tracker_a0424c92dec3952cf9197a5a9161e2188}{GetResultCount}() != 0) \{
1400             \hyperlink{struct_localization_result}{LocalizationResult} lr;
1401             qtrk->\hyperlink{class_queued_c_p_u_tracker_a8e74a4528a84ac83624d217e62cdef05}{FetchResults}(&lr,1);
1402             
1403             printf(\textcolor{stringliteral}{"%f %f %f %f\(\backslash\)n"},lr.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess}.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},lr.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess}.
      \hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y},lr.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x},lr.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y});
1404             
1405             \textcolor{keywordtype}{float}* prof = \hyperlink{std__incl_8h_a37dbccb865134ee3a70c5044b365ded7}{ALLOCA\_ARRAY}(\textcolor{keywordtype}{float},cfg.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps});
1406             \textcolor{keywordtype}{bool} boundaryHit;
1407             \hyperlink{struct_t_image_data}{ImageData} imgData (img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},ROISize,ROISize);
1408             \hyperlink{utils_8cpp_a58b8cd6cf896ba78d6e23d6ead96d1fb}{ComputeRadialProfile}(prof,cfg.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, cfg.
      \hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, cfg.
      \hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, lr.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a08becc53916249d8c8bf6eb5a83ac21e}{xy}(), &imgData, lr.\hyperlink{struct_localization_result_aba2a42711bc890c8620419f7dc906db9}{imageMean}, \textcolor{keyword}{false});
1409             \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)RadialProfile.txt"},prof,cfg.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps},\textcolor{keyword}{false});
1410             \hyperlink{utils_8cpp_a58b8cd6cf896ba78d6e23d6ead96d1fb}{ComputeRadialProfile}(prof,cfg.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, cfg.
      \hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, cfg.
      \hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, lr.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a08becc53916249d8c8bf6eb5a83ac21e}{xy}(), &imgData, lr.\hyperlink{struct_localization_result_aba2a42711bc890c8620419f7dc906db9}{imageMean}, \textcolor{keyword}{true});
1411             \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)RadialProfile.txt"},prof,cfg.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps},\textcolor{keyword}{true});
1412         \}
1413 
1414         img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1415         qtrk->\hyperlink{class_queued_c_p_u_tracker_a9b332b6fb228e9c655eb2fb12d8dfbc6}{Flush}();
1416         \textcolor{keyword}{delete} qtrk;
1417         std::cout << \textcolor{stringliteral}{"\(\backslash\)nContinue?\(\backslash\)n"};
1418         std::cin >> inChar;
1419     \} \textcolor{keywordflow}{while}(inChar != \textcolor{charliteral}{'0'});
1420 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!One\+Pixel\+Test@{One\+Pixel\+Test}}
\index{One\+Pixel\+Test@{One\+Pixel\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{One\+Pixel\+Test()}{OnePixelTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void One\+Pixel\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_add360cd8780989cdd86ae0c367e09285}{}\label{main_8cpp_add360cd8780989cdd86ae0c367e09285}

\begin{DoxyCode}
132 \{
133     \hyperlink{class_c_p_u_tracker}{CPUTracker}* tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(32,32, 16);
134 
135     tracker->\hyperlink{class_c_p_u_tracker_afd0e07572adc7f6f70e5e130ff01402b}{GetPixel}(15,15) = 1;
136     \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Pixel at 15,15\(\backslash\)n"}));
137     \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}();
138     \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"COM: %f,%f\(\backslash\)n"}, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}));
139     
140     \hyperlink{structvector2}{vector2f} initial(15,15);
141     \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
142     \hyperlink{structvector2}{vector2f} xcor = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial,2, 16, 
      boundaryHit);
143     \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"XCor: %f,%f\(\backslash\)n"}, xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}));
144 
145     assert(xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} == 15.0f && xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} == 15.0f);
146     \textcolor{keyword}{delete} tracker;
147 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Output\+Profile\+Img@{Output\+Profile\+Img}}
\index{Output\+Profile\+Img@{Output\+Profile\+Img}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Output\+Profile\+Img()}{OutputProfileImg()}}]{\setlength{\rightskip}{0pt plus 5cm}void Output\+Profile\+Img (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a6bc0f4441e530042229fca5329016838}{}\label{main_8cpp_a6bc0f4441e530042229fca5329016838}

\begin{DoxyCode}
179 \{
180     \hyperlink{class_c_p_u_tracker}{CPUTracker} *tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(128,128, 16);
181     \textcolor{keywordtype}{bool} boundaryHit;
182 
183     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<10;i++) \{
184         \textcolor{keywordtype}{float} xp = tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2+(rand\_uniform<float>() - 0.5) * 20;
185         \textcolor{keywordtype}{float} yp = tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()/2+(rand\_uniform<float>() - 0.5) * 20;
186         
187         \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), xp, yp, 1, 0.0f);
188 
189         \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}();
190         \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"COM: %f,%f\(\backslash\)n"}, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp));
191     
192         \hyperlink{structvector2}{vector2f} initial = com;
193         boundaryHit=\textcolor{keyword}{false};
194         \hyperlink{structvector2}{vector2f} xcor = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial, 3, 16, 
      boundaryHit);
195         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"XCor: %f,%f. Err: %d\(\backslash\)n"}, xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp, boundaryHit);
196 
197         boundaryHit=\textcolor{keyword}{false};
198         \hyperlink{structvector2}{vector2f} qi = tracker->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(initial, 3, 64, 32, 
      \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 1, 10, boundaryHit);
199         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"QI: %f,%f. Err: %d\(\backslash\)n"}, qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp, boundaryHit);
200     \}
201 
202     \textcolor{keyword}{delete} tracker;
203 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Pixelation\+Error\+Test@{Pixelation\+Error\+Test}}
\index{Pixelation\+Error\+Test@{Pixelation\+Error\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Pixelation\+Error\+Test()}{PixelationErrorTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Pixelation\+Error\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_af54759018db57821aa5c9c0631e7cc02}{}\label{main_8cpp_af54759018db57821aa5c9c0631e7cc02}

\begin{DoxyCode}
233 \{
234     \hyperlink{class_c_p_u_tracker}{CPUTracker} *tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(128,128, 64);
235 
236     \textcolor{keywordtype}{float} X = tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2;
237     \textcolor{keywordtype}{float} Y = tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()/2;
238     \textcolor{keywordtype}{int} N = 20;
239     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<N;x++)  \{
240         \textcolor{keywordtype}{float} xpos = X + 2.0f * x / (float)N;
241         \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), xpos, X, 1, 0.0f);
242 
243         \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}();
244         \textcolor{comment}{//dbgout(SPrintf("COM: %f,%f\(\backslash\)n", com.x, com.y));}
245 
246         \hyperlink{structvector2}{vector2f} initial(X,Y);
247         \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
248         \hyperlink{structvector2}{vector2f} xcorInterp = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial, 3, 3
      2, boundaryHit);
249         \hyperlink{structvector2}{vector2f} qipos = tracker->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(initial, 3, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), 128, 1, 2.0f, tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2-10, boundaryHit);
250         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"xpos:%f, COM err: %f, XCorInterp err: %f. QI err: %f\(\backslash\)n"}, xpos, com.
      \hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xpos, xcorInterp.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xpos, qipos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xpos);
251 
252     \}
253     \textcolor{keyword}{delete} tracker;
254 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Print\+Menu@{Print\+Menu}}
\index{Print\+Menu@{Print\+Menu}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Print\+Menu(outputter $\ast$output)}{PrintMenu(outputter *output)}}]{\setlength{\rightskip}{0pt plus 5cm}void Print\+Menu (
\begin{DoxyParamCaption}
\item[{{\bf outputter} $\ast$}]{output}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a488248e7213caea7e93f0c203a7822fd}{}\label{main_8cpp_a488248e7213caea7e93f0c203a7822fd}

\begin{DoxyCode}
1423 \{
1424     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"0. Quit"},\textcolor{keyword}{true});
1425     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"1. ROI Displacement"},\textcolor{keyword}{true});
1426     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"2. Interference"},\textcolor{keyword}{true});
1427     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"3. Skew"},\textcolor{keyword}{true});
1428     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"4. Background"},\textcolor{keyword}{true});
1429     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"5. Build ZLUTs"},\textcolor{keyword}{true});
1430     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"6. Run Trace"},\textcolor{keyword}{true});
1431     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"m. Manual"},\textcolor{keyword}{true});
1432     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"r. Change ROI size"},\textcolor{keyword}{true});
1433     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"?. Menu"},\textcolor{keyword}{true});
1434 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Rescale\+L\+UT@{Rescale\+L\+UT}}
\index{Rescale\+L\+UT@{Rescale\+L\+UT}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Rescale\+L\+U\+T(\+C\+P\+U\+Tracker $\ast$trk, Image\+Data $\ast$lut)}{RescaleLUT(CPUTracker *trk, ImageData *lut)}}]{\setlength{\rightskip}{0pt plus 5cm}void Rescale\+L\+UT (
\begin{DoxyParamCaption}
\item[{{\bf C\+P\+U\+Tracker} $\ast$}]{trk, }
\item[{{\bf Image\+Data} $\ast$}]{lut}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a813099f634b837f0a61bd7f3b96f8362}{}\label{main_8cpp_a813099f634b837f0a61bd7f3b96f8362}

\begin{DoxyCode}
32 \{
33 
34 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Run\+C\+O\+M\+And\+QI@{Run\+C\+O\+M\+And\+QI}}
\index{Run\+C\+O\+M\+And\+QI@{Run\+C\+O\+M\+And\+QI}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Run\+C\+O\+M\+And\+Q\+I(\+Image\+Data img, outputter $\ast$output)}{RunCOMAndQI(ImageData img, outputter *output)}}]{\setlength{\rightskip}{0pt plus 5cm}void Run\+C\+O\+M\+And\+QI (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img, }
\item[{{\bf outputter} $\ast$}]{output}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}{}\label{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}

\begin{DoxyCode}
876                                                   \{
877     \textcolor{keywordtype}{char} buf[256];
878     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
879     trk.SetImageFloat(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
880     \textcolor{keywordtype}{double} t = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
881     \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
882     t = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}() - t;
883     \textcolor{comment}{//float asym = trk.ComputeAsymmetry(com,64,64,5,50,dstAngProf);}
884     sprintf(buf,\textcolor{stringliteral}{"%f %f %f"},com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y},t);
885     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(buf);
886 
887     \hyperlink{structvector2}{vector2f} initial(com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
888     
889     \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
890     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} qi\_iterations = 1; qi\_iterations < 10; qi\_iterations++)\{
891         t = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
892         \hyperlink{structvector2}{vector2f} qi = trk.ComputeQI(initial, qi\_iterations, 64, 16,
      \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 5,50, boundaryHit);
893         t = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}() - t;
894         \textcolor{comment}{//float asym = trk.ComputeAsymmetry(qi,64,64,5,50,dstAngProf);}
895         sprintf(buf,\textcolor{stringliteral}{"%f %f %f"},qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y},t);
896         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(buf);
897         boundaryHit = \textcolor{keyword}{false};
898     \}
899 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Run\+Test@{Run\+Test}}
\index{Run\+Test@{Run\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Run\+Test(\+Tests test, const char $\ast$image, outputter $\ast$output, int R\+O\+I\+Size)}{RunTest(Tests test, const char *image, outputter *output, int ROISize)}}]{\setlength{\rightskip}{0pt plus 5cm}void Run\+Test (
\begin{DoxyParamCaption}
\item[{{\bf Tests}}]{test, }
\item[{const char $\ast$}]{image, }
\item[{{\bf outputter} $\ast$}]{output, }
\item[{int}]{R\+O\+I\+Size}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a83902d645b299c0d8152510bba162dbf}{}\label{main_8cpp_a83902d645b299c0d8152510bba162dbf}

\begin{DoxyCode}
1275 \{
1276     \hyperlink{struct_t_image_data}{ImageData} source = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(image);
1277     std::vector<BeadPos> beads = read\_beadlist(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)beadlist.txt"});
1278     output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(\textcolor{stringliteral}{"TestInfo"},\textcolor{stringliteral}{"a"});
1279 
1280     \textcolor{keywordflow}{if}(test == \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{ROIDis})
1281         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"ROI Displacement test"});
1282     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(test == \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{Inter})
1283         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Interference test"});
1284     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(test == \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{Skew})
1285         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Skew test"});
1286     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(test == \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{Backg})
1287         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Background test"});
1288     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Image %s\(\backslash\)nBeadlist D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)beadlist.txt\(\backslash\)n
      NumBeads %d\(\backslash\)nROISize %d"},image,beads.size(),ROISize));
1289     
1290     \textcolor{keywordtype}{double} t0 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
1291 
1292     \textcolor{keywordflow}{switch}(test)\{
1293     \textcolor{keywordflow}{case} \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{ROIDis}:
1294         \hyperlink{main_8cpp_a31785cc889c695dfd66612b8300f925e}{TestROIDisplacement}(beads,source,output,ROISize);
1295         \textcolor{keywordflow}{break};
1296     \textcolor{keywordflow}{case} \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{Inter}:
1297         \hyperlink{main_8cpp_af086aec2ff408671afec5155937d80c3}{TestInterference}(beads,source,output,ROISize);
1298         \textcolor{keywordflow}{break};
1299     \textcolor{keywordflow}{case} \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{Skew}:
1300         \hyperlink{main_8cpp_ae500d6bb59316854a376397054af7211}{TestSkew}(beads,source,output,ROISize);
1301         \textcolor{keywordflow}{break};
1302     \textcolor{keywordflow}{case} \hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{Backg}:
1303         \hyperlink{main_8cpp_a2021c4cbd776eecfa1f7b18745eb2e51}{TestBackground}(beads,source,output,ROISize);
1304         \textcolor{keywordflow}{break};
1305     \};
1306 
1307     \textcolor{keywordtype}{double} t1 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
1308     output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(\textcolor{stringliteral}{"TestInfo"},\textcolor{stringliteral}{"a"});
1309     output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Duration %f\(\backslash\)n"},t1-t0));
1310     source.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
1311 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Run\+Z\+Trace@{Run\+Z\+Trace}}
\index{Run\+Z\+Trace@{Run\+Z\+Trace}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Run\+Z\+Trace(std\+::string image\+Path, std\+::string zlut\+Path, outputter $\ast$output)}{RunZTrace(std::string imagePath, std::string zlutPath, outputter *output)}}]{\setlength{\rightskip}{0pt plus 5cm}void Run\+Z\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{image\+Path, }
\item[{std\+::string}]{zlut\+Path, }
\item[{{\bf outputter} $\ast$}]{output}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_ae1d5528bfe8ecbce90856075bc41eff2}{}\label{main_8cpp_ae1d5528bfe8ecbce90856075bc41eff2}

\begin{DoxyCode}
1087 \{
1088     \textcolor{keywordtype}{int} ROISize = 100;
1089     std::vector<BeadPos> beads = read\_beadlist(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%sbeadlist.txt"},imagePath.c\_str()));
1090     \textcolor{comment}{//std::vector<BeadPos> beads = read\_labview\_beadlist(SPrintf("%sbeadlist.txt",imagePath.c\_str()));}
1091     \textcolor{keywordflow}{if}(beads.size() == 0)\{
1092         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Empty beadlist!"},\textcolor{keyword}{true});
1093         \textcolor{keywordflow}{return};
1094     \}
1095     
1096     \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} cfg;
1097     \textcolor{comment}{/*}
1098 \textcolor{comment}{    output->outputString("Enter used ZLUT settings.",true);}
1099 \textcolor{comment}{    output->outputString(SPrintf("ROI size (currently %d)",ROISize),true);}
1100 \textcolor{comment}{    std::cin >> ROISize;}
1101 \textcolor{comment}{    output->outputString("ZLUT radial sample density (default 1)",true);}
1102 \textcolor{comment}{    std::cin >> cfg.zlut\_radial\_coverage;}
1103 \textcolor{comment}{    output->outputString("ZLUT minradius (default 2)",true);}
1104 \textcolor{comment}{    std::cin >> cfg.zlut\_minradius;}
1105 \textcolor{comment}{    output->outputString("ZLUT ROI coverage (default 1)",true);}
1106 \textcolor{comment}{    std::cin >> cfg.zlut\_roi\_coverage;}
1107 \textcolor{comment}{    output->outputString("ZLUT angular coverage (default 0.7)",true);}
1108 \textcolor{comment}{    std::cin >> cfg.zlut\_angular\_coverage;}
1109 \textcolor{comment}{    */}
1110     \textcolor{comment}{/*}
1111 \textcolor{comment}{    cfg.width = cfg.height = ROISize;}
1112 \textcolor{comment}{    cfg.qi\_angstep\_factor = 1;}
1113 \textcolor{comment}{    cfg.qi\_iterations = 6;}
1114 \textcolor{comment}{    cfg.qi\_angular\_coverage = 0.7f;}
1115 \textcolor{comment}{    cfg.qi\_roi\_coverage = 1;}
1116 \textcolor{comment}{    cfg.qi\_radial\_coverage = 1.5f;}
1117 \textcolor{comment}{    cfg.qi\_minradius = 0;}
1118 \textcolor{comment}{    cfg.zlut\_minradius = 2;}
1119 \textcolor{comment}{    cfg.zlut\_radial\_coverage = 2;}
1120 \textcolor{comment}{    cfg.zlut\_angular\_coverage = 0.7f;}
1121 \textcolor{comment}{    cfg.zlut\_roi\_coverage = 1;}
1122 \textcolor{comment}{    cfg.com\_bgcorrection = 0;}
1123 \textcolor{comment}{    cfg.xc1\_profileLength = ROISize*0.8f;}
1124 \textcolor{comment}{    cfg.xc1\_profileWidth = ROISize*0.2f;}
1125 \textcolor{comment}{    cfg.xc1\_iterations = 1;}
1126 \textcolor{comment}{    cfg.testRun = true;}
1127 \textcolor{comment}{    */}
1128     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}=cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = ROISize;
1129     cfg.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor} = 1;
1130     cfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = 6;
1131     cfg.\hyperlink{struct_q_trk_settings_a08800ed7809dc4bde16d0a6fee08ecdd}{qi\_angular\_coverage} = 0.7f;
1132     cfg.\hyperlink{struct_q_trk_settings_ab9567d21cc1517713a746c2173de4264}{qi\_roi\_coverage} = 1;
1133     cfg.\hyperlink{struct_q_trk_settings_abee59fa2f68d9e514500062f73b1d512}{qi\_radial\_coverage} = 1.5f;
1134     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}=0;
1135     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}=0;
1136     cfg.\hyperlink{struct_q_trk_settings_a8892aa193827371fc06ee94254e68b09}{zlut\_angular\_coverage} = 0.7f;
1137     cfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage} = 1;
1138     cfg.\hyperlink{struct_q_trk_settings_ae57544152a8a129bae6cb934feead1c7}{zlut\_radial\_coverage} = 1.5f;
1139     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 0;
1140     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius} = 0;
1141     cfg.\hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection} = 0;
1142     cfg.\hyperlink{struct_q_trk_settings_a8f38457c4ec183f78a0191b247ab6b51}{xc1\_profileLength} = ROISize*0.8f;
1143     cfg.\hyperlink{struct_q_trk_settings_a80de240523eb79408593d26e6ef07ef7}{xc1\_profileWidth} = ROISize*0.2f;
1144     cfg.\hyperlink{struct_q_trk_settings_a0bc4efdffbb8ad272d1c9facfdf0e171}{xc1\_iterations} = 1;
1145     cfg.\hyperlink{struct_q_trk_settings_aef52bd8e2fdba83af4ce3b4367180d9f}{testRun} = \textcolor{keyword}{true};
1146     cfg.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
1147     cfg.\hyperlink{struct_q_trk_computed_config_a824634b46aeafc68c21d5951f92495c3}{WriteToFile}();
1148 
1149     std::string file = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)lut%03d.jpg"},zlutPath.c\_str(),0);
1150     \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(file.c\_str());
1151 
1152     \textcolor{keywordflow}{if}(cfg.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps} != lut.w)\{
1153         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"ZLUT settings do not match LUT image sizes!"},\textcolor{keyword}{true});
1154         lut.free();
1155         \textcolor{keywordflow}{return};
1156     \}
1157 
1158     \textcolor{keywordtype}{int} zplanes = lut.h;
1159     lut.free();
1160     \textcolor{keywordtype}{int} res = cfg.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps};
1161         
1162     \textcolor{keywordtype}{float}* zluts = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[zplanes*res*beads.size()];
1163     \hyperlink{struct_r_o_i_position}{ROIPosition}* positions = \textcolor{keyword}{new} \hyperlink{struct_r_o_i_position}{ROIPosition}[beads.size()];
1164     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0; ii < beads.size(); ii++)\{
1165         std::string file = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)lut%03d.jpg"},zlutPath.c\_str(),ii);
1166         \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(file.c\_str());
1167         memcpy(zluts+ii*res*zplanes,lut.data,res*zplanes*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));
1168         
1169         lut.free();
1170 
1171         positions[ii].\hyperlink{struct_r_o_i_position_a7ec9344e32faa05e10a72705ed24e9f5}{x} = beads.at(ii).x - ROISize/2;
1172         positions[ii].\hyperlink{struct_r_o_i_position_aa790f0665220dffa8d196003f6c01b47}{y} = beads.at(ii).y - ROISize/2;
1173     \}
1174 
1175     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}* \hyperlink{namespaceqtrk}{qtrk} = \textcolor{keyword}{new} \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}(cfg);
1176     qtrk->\hyperlink{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}{SetRadialZLUT}(zluts,beads.size(),zplanes);
1177     qtrk->\hyperlink{class_queued_c_p_u_tracker_a9d94101b69e1f514473bfedc012ec785}{FinalizeLUT}();
1178     
1179     \textcolor{comment}{/*for(int ii = 0; ii < beads.size(); ii++)\{}
1180 \textcolor{comment}{        ImageData lut = ImageData::alloc(cfg.zlut\_radialsteps,zplanes);}
1181 \textcolor{comment}{        memcpy(lut.data,qtrk->GetZLUTByIndex(ii),cfg.zlut\_radialsteps*zplanes*sizeof(float));}
1182 \textcolor{comment}{        output->outputImage(lut,SPrintf("lut-%d,%d",beads.at(ii).x,beads.at(ii).y));}
1183 \textcolor{comment}{        lut.free();}
1184 \textcolor{comment}{    \}*/}
1185     \textcolor{comment}{//qtrk->ZLUTSelfTest();}
1186 
1187     qtrk->\hyperlink{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}{SetLocalizationMode}(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile});
1188 
1189     \hyperlink{struct_result_manager_config}{ResultManagerConfig} RMcfg;
1190     RMcfg.\hyperlink{struct_result_manager_config_a790ecadd32a0c0242cb002752af806af}{numBeads} = beads.size();
1191     RMcfg.\hyperlink{struct_result_manager_config_a97e9e26724a91e3a6757957f18b8f8b7}{numFrameInfoColumns} = 0;
1192     RMcfg.\hyperlink{struct_result_manager_config_abb553f047043e2bd16b27ba6221f358e}{scaling} = \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(1.0f,1.0f,1.0f);
1193     RMcfg.\hyperlink{struct_result_manager_config_ac7b28e680c90bc2a882a6e064d919a40}{offset}  = \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(0.0f,0.0f,0.0f);
1194     RMcfg.\hyperlink{struct_result_manager_config_a24c57e2403e5012fc5900924db770611}{writeInterval} = 25;
1195     RMcfg.\hyperlink{struct_result_manager_config_a11b7dd434bb6477aad45198b76593f59}{maxFramesInMemory} = 100;
1196     RMcfg.\hyperlink{struct_result_manager_config_a292ca1e5db1a9599d5dc52e14e83c2eb}{binaryOutput} = \textcolor{keyword}{false};
1197 
1198     std::vector<std::string> colnames;
1199     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0;ii<RMcfg.\hyperlink{struct_result_manager_config_a97e9e26724a91e3a6757957f18b8f8b7}{numFrameInfoColumns};ii++)\{
1200         colnames.push\_back(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d"},ii));
1201     \}
1202 
1203     \hyperlink{class_result_manager}{ResultManager}* RM = \textcolor{keyword}{new} \hyperlink{class_result_manager}{ResultManager}(
1204         \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)\(\backslash\)RMOutput.txt"},output->\hyperlink{classoutputter_a9b6253616c21272f51875f7be5f72861}{folder}.c\_str()).c\_str(),
1205         \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)\(\backslash\)RMFrameInfo.txt"},output->\hyperlink{classoutputter_a9b6253616c21272f51875f7be5f72861}{folder}.c\_str()).c\_str(),
1206         &RMcfg, colnames);
1207     
1208     RM->\hyperlink{class_result_manager_a415bd4a67729b4347866be136dd413b5}{SetTracker}(qtrk);
1209 
1210     \textcolor{keywordtype}{int} numFramesToTrack = \hyperlink{testutils_8cpp_aada7cca60290a9533e8f1ff0eb19516e}{NumJpgInDir}(imagePath + \textcolor{stringliteral}{"*"});
1211     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0; ii < numFramesToTrack; ii++)\{
1212         std::string file = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\(\backslash\)img%05d.jpg"},imagePath.c\_str(),ii);
1213         \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{fastjpg_8cpp_aca9c9daac87f0810622bb7e207e4587f}{ReadJPEGFile}(file.c\_str());
1214 
1215         \hyperlink{struct_localization_job}{LocalizationJob} job(ii, 0, 0, 0);
1216         \textcolor{keywordtype}{int} queued = qtrk->\hyperlink{class_queued_tracker_ab80776ec6e8b2202d858f1c9cb989240}{ScheduleFrame}(img.data,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*img.w,img.w,img.h,positions,
      beads.size(),\hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0bafeece00bcf1a42419e686ef0cf006a4e}{QTrkFloat},&job);
1217         \textcolor{comment}{//output->outputString(SPrintf("Queueing frame %d. Current Queue size: %d. Added:
       %d.",ii,qtrk->GetQueueLength(),queued),true);}
1218         \hyperlink{struct_result_manager_1_1_frame_counters}{ResultManager::FrameCounters} cnt = RM->
      \hyperlink{class_result_manager_af0e807e271c8626bcc1a01c498e2ad38}{GetFrameCounters}();
1219         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Queueing frame %d. Current Queue size: %d.\(\backslash\)n\(\backslash\)t
      captured: %d\(\backslash\)n\(\backslash\)tprocessed: %d\(\backslash\)n\(\backslash\)tlocalizations: %d\(\backslash\)n\(\backslash\)tLOST: %d\(\backslash\)n"},ii,qtrk->
      \hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{GetQueueLength}(),cnt.\hyperlink{struct_result_manager_1_1_frame_counters_ae9b12ed92f9c0a9e72a51beaf9cca61f}{capturedFrames},cnt.
      \hyperlink{struct_result_manager_1_1_frame_counters_a9170beb3735c4d08f00050377eeebef5}{processedFrames},cnt.\hyperlink{struct_result_manager_1_1_frame_counters_a9ab895a45863f01089a4fa47629e3998}{localizationsDone},cnt.
      \hyperlink{struct_result_manager_1_1_frame_counters_a843774dd839c1edc8c0245b830b9f469}{lostFrames}),\textcolor{keyword}{true});
1220 
1221         img.free();
1222     \}
1223 
1224     \textcolor{keywordflow}{while}(qtrk->\hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{GetQueueLength}() != 0);
1225     RM->\hyperlink{class_result_manager_af33fd9c1dda86151405a08d826320794}{Flush}();
1226     \textcolor{keyword}{delete} RM;
1227     
1228     \textcolor{comment}{/*  NO RESULT MANAGER}
1229 \textcolor{comment}{}
1230 \textcolor{comment}{    int numFramesToTrack = NumJpgInDir(imagePath + "*");}
1231 \textcolor{comment}{    for(int ii = 0; ii < numFramesToTrack; ii++)\{}
1232 \textcolor{comment}{        std::string file = SPrintf("%s\(\backslash\)img%05d.jpg",imagePath.c\_str(),ii);}
1233 \textcolor{comment}{        ImageData img = ReadJPEGFile(file.c\_str());}
1234 \textcolor{comment}{}
1235 \textcolor{comment}{        LocalizationJob job(ii, 0, 0, 0);}
1236 \textcolor{comment}{        int queued = qtrk->ScheduleFrame(img.data,sizeof(float)*
      img.w,img.w,img.h,positions,beads.size(),QTrkFloat,&job);}
1237 \textcolor{comment}{        output->outputString(SPrintf("Queueing frame %d. Current Queue size: %d. Added:
       %d.",ii,qtrk->GetQueueLength(),queued),true);}
1238 \textcolor{comment}{        img.free();}
1239 \textcolor{comment}{        }
1240 \textcolor{comment}{        while(qtrk->GetResultCount() != 0) \{}
1241 \textcolor{comment}{            LocalizationResult lr;}
1242 \textcolor{comment}{            qtrk->FetchResults(&lr,1);}
1243 \textcolor{comment}{            output->outputString(SPrintf("frame %d, bead %d: %f %f
       %f",lr.job.frame,lr.job.zlutIndex,lr.pos.x,lr.pos.y,lr.pos.z));}
1244 \textcolor{comment}{            //delete &(lr.job);}
1245 \textcolor{comment}{        \}}
1246 \textcolor{comment}{    \}   }
1247 \textcolor{comment}{}
1248 \textcolor{comment}{    while(qtrk->GetQueueLength() != 0) \{}
1249 \textcolor{comment}{        if(qtrk->GetResultCount() != 0) \{}
1250 \textcolor{comment}{            LocalizationResult lr;}
1251 \textcolor{comment}{            qtrk->FetchResults(&lr,1);}
1252 \textcolor{comment}{            output->outputString(SPrintf("frame %d, bead %d: %f %f
       %f",lr.job.frame,lr.job.zlutIndex,lr.pos.x,lr.pos.y,lr.pos.z));}
1253 \textcolor{comment}{        \}}
1254 \textcolor{comment}{    \}}
1255 \textcolor{comment}{    */}
1256     \textcolor{comment}{/*ImageData allLuts = ImageData::alloc(res,zplanes*beads.size());}
1257 \textcolor{comment}{    memcpy(allLuts.data,zluts,res*zplanes*beads.size()*sizeof(float));}
1258 \textcolor{comment}{    output->outputImage(allLuts,"allLuts");}
1259 \textcolor{comment}{    allLuts.free();//*/}
1260 
1261     qtrk->\hyperlink{class_queued_c_p_u_tracker_a24f0731281b361dfb857448ce98d0aa3}{ClearResults}();
1262     \textcolor{keyword}{delete} qtrk;
1263     \textcolor{keyword}{delete} positions;
1264     \textcolor{keyword}{delete}[] zluts; 
1265 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Scatter\+Bias\+Area@{Scatter\+Bias\+Area}}
\index{Scatter\+Bias\+Area@{Scatter\+Bias\+Area}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Scatter\+Bias\+Area(int roi, float scan\+\_\+width, int steps, int samples, int qi\+\_\+it, float angstep)}{ScatterBiasArea(int roi, float scan_width, int steps, int samples, int qi_it, float angstep)}}]{\setlength{\rightskip}{0pt plus 5cm}void Scatter\+Bias\+Area (
\begin{DoxyParamCaption}
\item[{int}]{roi, }
\item[{float}]{scan\+\_\+width, }
\item[{int}]{steps, }
\item[{int}]{samples, }
\item[{int}]{qi\+\_\+it, }
\item[{float}]{angstep}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a70226fbfa00f4214664d330d859b1cd8}{}\label{main_8cpp_a70226fbfa00f4214664d330d859b1cd8}

\begin{DoxyCode}
818 \{
819     std::vector<float> u=\hyperlink{_shared_tests_8h_adf5d79804192aad8817712eee6474e34}{linspace}(roi/2-scan\_width/2,roi/2+scan\_width/2, steps);
820     
821     \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} cfg;
822     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}=cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}=roi;
823     cfg.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor} = angstep;
824     cfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = qi\_it;
825     cfg.\hyperlink{struct_q_trk_settings_a08800ed7809dc4bde16d0a6fee08ecdd}{qi\_angular\_coverage} = 0.7f;
826     cfg.\hyperlink{struct_q_trk_settings_ab9567d21cc1517713a746c2173de4264}{qi\_roi\_coverage} = 1;
827     cfg.\hyperlink{struct_q_trk_settings_abee59fa2f68d9e514500062f73b1d512}{qi\_radial\_coverage} = 1.5f;
828     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}=0;
829     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}=0;
830     cfg.\hyperlink{struct_q_trk_settings_a8892aa193827371fc06ee94254e68b09}{zlut\_angular\_coverage} = 0.7f;
831     cfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage} = 1;
832     cfg.\hyperlink{struct_q_trk_settings_ae57544152a8a129bae6cb934feead1c7}{zlut\_radial\_coverage} = 1.5f;
833     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 0;
834     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius} = 0;
835     cfg.\hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection} = 0;
836     cfg.\hyperlink{struct_q_trk_settings_a8f38457c4ec183f78a0191b247ab6b51}{xc1\_profileLength} = roi*0.8f;
837     cfg.\hyperlink{struct_q_trk_settings_a80de240523eb79408593d26e6ef07ef7}{xc1\_profileWidth} = roi*0.2f;
838     cfg.\hyperlink{struct_q_trk_settings_a0bc4efdffbb8ad272d1c9facfdf0e171}{xc1\_iterations} = 1;
839     cfg.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
840 
841     \hyperlink{struct_t_image_data}{ImageData} lut,orglut = \hyperlink{utils_8cpp_afa12308b716c890001e2b072f45d4a74}{ReadLUTFile}(\textcolor{stringliteral}{"10x.radialzlut#4"});
842     \hyperlink{structvector3}{vector3f} ct(roi/2,roi/2,lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2 + 0.123f);
843     \textcolor{keywordtype}{float} dx = scan\_width/steps;
844 
845     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker} trk(cfg);
846     \hyperlink{_shared_tests_8h_a6a1246e8a5604b97c4f6dff6d3790272}{ResampleLUT}(&trk, &orglut, orglut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, &lut);
847     \textcolor{keywordtype}{int} maxval = 10000;
848 
849     \hyperlink{struct_t_image_data}{ImageData} tmp=\hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(roi,roi);
850     \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&tmp, &lut, 0, cfg.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, 
      \hyperlink{structvector3}{vector3f}(roi/2,roi/2,lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2));
851     \hyperlink{utils_8cpp_ac2ddbf383f4539cdec45a8001a435a1a}{ApplyPoissonNoise}(tmp, maxval);
852 
853     std::string fn = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}( \textcolor{stringliteral}{"sb\_area\_roi%d\_scan%d\_steps%d\_qit%d\_N%d"}, roi, (\textcolor{keywordtype}{int})scan\_width, steps,
       qi\_it, samples);
854     \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}( (fn + \textcolor{stringliteral}{".jpg"}).c\_str(), tmp);
855     tmp.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
856 
857     fn += \textcolor{stringliteral}{".txt"};
858     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y=0;y<steps;y++)  \{
859         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<steps;x++)
860         \{
861             \hyperlink{structvector3}{vector3f} cpos( (x+0.5f-steps/2) * dx, (y+0.5f-steps/2) * dx, 0 );
862 
863             cfg.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = qi\_it;
864             \textcolor{keyword}{auto} r= \hyperlink{main_8cpp_a7332fef59550614786aaf55f8e366d3f}{AccBiasTest}(orglut, &trk, samples, cpos+ct, 
      \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(), 0, maxval, qi\_it < 0 ? \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba3c14d24d83bc2358bf41e071861620d2}{LT\_XCor1D} : 0);
865             
866             \textcolor{keywordtype}{float} row[] = \{ r.acc.x, r.acc.y, r.acc.z, r.bias.x, r.bias.y, r.bias.z,  r.crlb.x, r.crlb.z, 
      samples \};
867             \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(fn.c\_str(), row, 9, x+y>0);
868 
869             \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"X=%d,Y=%d\(\backslash\)n"}, x,y);
870         \}
871     \}
872     orglut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
873     lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
874 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Select\+Tests@{Select\+Tests}}
\index{Select\+Tests@{Select\+Tests}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Select\+Tests(const char $\ast$image, int Output\+Mode)}{SelectTests(const char *image, int OutputMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void Select\+Tests (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{image, }
\item[{int}]{Output\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a012d4c158be25aa1273de6a295031d4c}{}\label{main_8cpp_a012d4c158be25aa1273de6a295031d4c}

\begin{DoxyCode}
1437 \{
1438     \hyperlink{classoutputter}{outputter}* output = \textcolor{keyword}{new} \hyperlink{classoutputter}{outputter}(OutputMode);
1439     \textcolor{keywordtype}{int} testNum = 1;
1440     \textcolor{keywordtype}{int} ROISize = 120;
1441     
1442     \hyperlink{main_8cpp_a488248e7213caea7e93f0c203a7822fd}{PrintMenu}(output);
1443     \textcolor{keywordtype}{char} inChar;
1444     \textcolor{keywordflow}{do}
1445     \{
1446         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Select test or ? for menu:"},\textcolor{keyword}{true});
1447         std::string imagesPath, LUTPath;
1448         std::cin >> inChar;
1449         \textcolor{keywordflow}{switch}(inChar)
1450         \{
1451             \textcolor{keywordflow}{case} \textcolor{charliteral}{'0'}:
1452                 \textcolor{keywordflow}{break};
1453             \textcolor{keywordflow}{case} \textcolor{charliteral}{'1'}:
1454                 \hyperlink{main_8cpp_a83902d645b299c0d8152510bba162dbf}{RunTest}(\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a00df22d90650aae18bcee851c3e3ef82}{ROIDis},image,output,ROISize);
1455                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Test done!"},\textcolor{keyword}{true});
1456                 \textcolor{keywordflow}{break};
1457             \textcolor{keywordflow}{case} \textcolor{charliteral}{'2'}:
1458                 \hyperlink{main_8cpp_a83902d645b299c0d8152510bba162dbf}{RunTest}(\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a810c3984dbe36b21b53256b839579fd8}{Inter},image,output,ROISize);
1459                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Test done!"},\textcolor{keyword}{true});
1460                 \textcolor{keywordflow}{break};
1461             \textcolor{keywordflow}{case} \textcolor{charliteral}{'3'}:
1462                 \hyperlink{main_8cpp_a83902d645b299c0d8152510bba162dbf}{RunTest}(\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0aed8f900c8b5a442257e9931e44577bbf}{Skew},image,output,ROISize);
1463                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Test done!"},\textcolor{keyword}{true});
1464                 \textcolor{keywordflow}{break};
1465             \textcolor{keywordflow}{case} \textcolor{charliteral}{'4'}:
1466                 \hyperlink{main_8cpp_a83902d645b299c0d8152510bba162dbf}{RunTest}(\hyperlink{main_8cpp_a44111c317cc6bb28715701cc508210a0a1c92ee41fad99ccd54ac84fda30e29da}{Backg},image,output,ROISize);
1467                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Test done!"},\textcolor{keyword}{true});
1468                 \textcolor{keywordflow}{break};
1469             \textcolor{keywordflow}{case} \textcolor{charliteral}{'5'}:
1470                 \textcolor{comment}{//BuildZLUT("L:\(\backslash\)\(\backslash\)BN\(\backslash\)\(\backslash\)ND\(\backslash\)\(\backslash\)Shared\(\backslash\)\(\backslash\)Jordi\(\backslash\)\(\backslash\)TestMovie150507\_2\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)jpg\(\backslash\)\(\backslash\)Zstack\(\backslash\)\(\backslash\)",output);}
1471                 \hyperlink{main_8cpp_a4f42565c78afe260ab6c48197a692712}{BuildZLUT}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)TestMovie150507\_2\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)jpg\(\backslash\)\(\backslash\)Zstack\(\backslash\)\(\backslash\)"},output);
1472                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"ZLUTs Built"},\textcolor{keyword}{true});
1473                 \textcolor{keywordflow}{break};
1474             \textcolor{keywordflow}{case} \textcolor{charliteral}{'6'}:
1475                 \textcolor{comment}{/*while(!(DirExists(imagesPath) && NumJpgInDir(imagesPath) > 0))\{}
1476 \textcolor{comment}{                    output->outputString("Enter image folder (with beadlist):",true);}
1477 \textcolor{comment}{                    std::cin >> imagesPath;}
1478 \textcolor{comment}{                    output->outputString(SPrintf("%d jpgs in folder",NumJpgInDir(imagesPath)),true);}
1479 \textcolor{comment}{                \}}
1480 \textcolor{comment}{                while(!(DirExists(LUTPath) && NumJpgInDir(LUTPath) > 0))\{}
1481 \textcolor{comment}{                    output->outputString("Enter LUT folder:",true);}
1482 \textcolor{comment}{                    std::cin >> LUTPath;}
1483 \textcolor{comment}{                    output->outputString(SPrintf("%d jpgs in folder",NumJpgInDir(LUTPath)),true);}
1484 \textcolor{comment}{                \}}
1485 \textcolor{comment}{                RunZTrace(imagesPath,LUTPath,output);*/}
1486                 \textcolor{comment}{//
      RunZTrace("L:\(\backslash\)\(\backslash\)BN\(\backslash\)\(\backslash\)ND\(\backslash\)\(\backslash\)Shared\(\backslash\)\(\backslash\)Jordi\(\backslash\)\(\backslash\)20150804\_TestMovie\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)jordi\_test\(\backslash\)\(\backslash\)jpg\(\backslash\)\(\backslash\)","L:\(\backslash\)\(\backslash\)BN\(\backslash\)\(\backslash\)ND\(\backslash\)\(\backslash\)Shared\(\backslash\)\(\backslash\)Jordi\(\backslash\)\(\backslash\)20150804\_TestMovie\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)lut\(\backslash\)\(\backslash\)",output);}
1487                 \textcolor{comment}{//
      RunZTrace("D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)20150804\_TestMovie\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)jordi\_test\(\backslash\)\(\backslash\)jpg\(\backslash\)\(\backslash\)","D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)20150804\_TestMovie\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)lut\(\backslash\)\(\backslash\)",output);}
1488                 \hyperlink{main_8cpp_ae1d5528bfe8ecbce90856075bc41eff2}{RunZTrace}(\textcolor{stringliteral}{"C:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)TestMovie150507\_2\(\backslash\)\(\backslash\)images\(\backslash\)\(\backslash\)jpg\(\backslash\)\(\backslash\)Zstack\(\backslash\)\(\backslash\)"},\textcolor{stringliteral}{"C:\(\backslash\)\(\backslash\)
      TestImages\(\backslash\)\(\backslash\)TestMovie150507\_2\(\backslash\)\(\backslash\)ZLUTS\_50planes\(\backslash\)\(\backslash\)"},output);
1489                 \textcolor{keywordflow}{break};
1490             \textcolor{keywordflow}{case} \textcolor{charliteral}{'m'}:
1491                 \hyperlink{main_8cpp_a01cd171810983f79bf6ff0c5f4973207}{ManTest}();
1492                 \textcolor{keywordflow}{break};
1493             \textcolor{keywordflow}{case} \textcolor{charliteral}{'R'}:
1494             \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:
1495                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"Enter new ROI size (currently %d)"},ROISize
      ),\textcolor{keyword}{true});
1496                 std::cin >> ROISize;
1497                 \textcolor{keywordflow}{break};
1498             \textcolor{keywordflow}{default}:
1499                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{"Wrong input"},\textcolor{keyword}{true});
1500             \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:
1501                 \hyperlink{main_8cpp_a488248e7213caea7e93f0c203a7822fd}{PrintMenu}(output);
1502                 \textcolor{keywordflow}{break};
1503         \}
1504     \} \textcolor{keywordflow}{while}(inChar != \textcolor{charliteral}{'0'});
1505     
1506     \textcolor{keyword}{delete} output;
1507 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Simple\+Test@{Simple\+Test}}
\index{Simple\+Test@{Simple\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Simple\+Test()}{SimpleTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Simple\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a6edb955f584bcbddfc4aee183c7df8ce}{}\label{main_8cpp_a6edb955f584bcbddfc4aee183c7df8ce}

\begin{DoxyCode}
704 \{
705     \hyperlink{struct_q_trk_settings}{QTrkSettings} cfg;
706     cfg.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}=0;
707     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 0;
708     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 30;
709     \textcolor{keyword}{auto} locModeQI = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
710     \textcolor{keyword}{auto} results = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qi"}, locModeQI, 1000, 10000/
      255 );
711 
712     results.computeStats();
713     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, 
714         results.meanErr.x, results.stdev.x, results.meanErr.z, results.stdev.z);
715 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Skew\+Param@{Skew\+Param}}
\index{Skew\+Param@{Skew\+Param}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Skew\+Param(\+Image\+Data img)}{SkewParam(ImageData img)}}]{\setlength{\rightskip}{0pt plus 5cm}float Skew\+Param (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_ab46d55f91395e4179bdee41400ff713a}{}\label{main_8cpp_ab46d55f91395e4179bdee41400ff713a}

\begin{DoxyCode}
901                               \{
902     \textcolor{keywordtype}{int} size = img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} * 2 + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} * 2 - 4;
903     \textcolor{keywordtype}{float}* outeredge = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[size];
904     \hyperlink{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{GetOuterEdges}(outeredge,size,img);
905     \textcolor{keywordtype}{float}* max = std::max\_element(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}+(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}*img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}));
906     \textcolor{keywordtype}{float}* min = std::min\_element(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data},img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}+(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}*img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}));
907     \textcolor{keywordtype}{float}* outer\_max = std::max\_element(outeredge,outeredge+size);
908     \textcolor{keywordtype}{float}* outer\_min = std::min\_element(outeredge,outeredge+size);
909 
910     \textcolor{keywordtype}{float} out = (*outer\_max-*outer\_min)/(*max-*min);
911     \textcolor{keyword}{delete}[] outeredge;
912     \textcolor{keywordflow}{return} out;
913 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Small\+Image\+Test@{Small\+Image\+Test}}
\index{Small\+Image\+Test@{Small\+Image\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Small\+Image\+Test()}{SmallImageTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Small\+Image\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a372425eb3c684f07002e7d6f8fd2a4d1}{}\label{main_8cpp_a372425eb3c684f07002e7d6f8fd2a4d1}

\begin{DoxyCode}
150 \{
151     \hyperlink{class_c_p_u_tracker}{CPUTracker} *tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(50,50, 16);
152 
153     \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), tracker->\hyperlink{class_c_p_u_tracker_afb77fe1c7e1a38d25d5aadded5a36fb9}{width}/2,tracker->
      \hyperlink{class_c_p_u_tracker_a5d1e01c6a878ff7f0c138f011b0ca5d3}{height}/2, 9, 0.0f);
154     \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}(\textcolor{stringliteral}{"smallimg.jpg"}, tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_afb77fe1c7e1a38d25d5aadded5a36fb9}{width}, tracker->\hyperlink{class_c_p_u_tracker_a5d1e01c6a878ff7f0c138f011b0ca5d3}{height});
155 
156     \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}(0);
157     \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"COM: %f,%f\(\backslash\)n"}, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}));
158     
159     \hyperlink{structvector2}{vector2f} initial(25,25);
160     \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
161     \hyperlink{structvector2}{vector2f} xcor = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial, 2, 16, 
      boundaryHit);
162     \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"XCor: %f,%f\(\backslash\)n"}, xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}));
163     \textcolor{comment}{//assert(fabsf(xcor.x-15.0f) < 1e-6 && fabsf(xcor.y-15.0f) < 1e-6);}
164 
165     \textcolor{keywordtype}{int} I=4;
166     \hyperlink{structvector2}{vector2f} pos = initial;
167     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<I;i++) \{
168         \textcolor{keywordtype}{bool} bhit;
169         \hyperlink{structvector2}{vector2f} np = tracker->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(pos, 1, 32, 4, 1, 1, 16, bhit);
170         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"qi[%d]. New=%.4f, %.4f;\(\backslash\)tOld=%.4f, %.4f\(\backslash\)n"}, i, np.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, np.
      \hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}, pos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, pos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
171     \}
172 
173 
174     \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}(\textcolor{stringliteral}{"debugimg.jpg"}, tracker->\hyperlink{class_c_p_u_tracker_ac0c9033626a30f3b8d1eccf02b7efa82}{GetDebugImage}(), tracker->
      \hyperlink{class_c_p_u_tracker_afb77fe1c7e1a38d25d5aadded5a36fb9}{width}, tracker->\hyperlink{class_c_p_u_tracker_a5d1e01c6a878ff7f0c138f011b0ca5d3}{height});
175     \textcolor{keyword}{delete} tracker;
176 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Speed\+Test@{Speed\+Test}}
\index{Speed\+Test@{Speed\+Test}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Speed\+Test()}{SpeedTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Speed\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_aed5a480dfa6d13c6f72ee21b78a4aab0}{}\label{main_8cpp_aed5a480dfa6d13c6f72ee21b78a4aab0}

\begin{DoxyCode}
37 \{
38 \textcolor{preprocessor}{#ifdef \_DEBUG}
39     \textcolor{keywordtype}{int} N = 20;
40 \textcolor{preprocessor}{#else}
41     \textcolor{keywordtype}{int} N = 1000;
42 \textcolor{preprocessor}{#endif}
43     \textcolor{keywordtype}{int} qi\_iterations = 7;
44     \textcolor{keywordtype}{int} xcor\_iterations = 7;
45     \hyperlink{class_c_p_u_tracker}{CPUTracker}* tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(150,150, 128);
46 
47     \textcolor{keywordtype}{int} radialSteps = 64, zplanes = 120;
48     \textcolor{keywordtype}{float} zmin = 2, zmax = 8;
49     \textcolor{keywordtype}{float} zradius = tracker->\hyperlink{class_c_p_u_tracker_a31994d45332742dd422f876f5897233b}{xcorw}/2;
50 
51     \textcolor{keywordtype}{float}* zlut = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[radialSteps*zplanes];
52     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<zplanes;x++)  \{
53         \hyperlink{structvector2}{vector2f} center (tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2, tracker->
      \hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()/2);
54         \textcolor{keywordtype}{float} s = zmin + (zmax-zmin) * x/(\textcolor{keywordtype}{float})(zplanes-1);
55         \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), center.x, center.y, s, 0.0f);
56         tracker->\hyperlink{class_c_p_u_tracker_a611986d18c52010b79815a9cb920b00d}{mean} = 0.0f;
57         tracker->\hyperlink{class_c_p_u_tracker_a425db1a2a66d9635d2b4b565ecfdc3b0}{ComputeRadialProfile}(&zlut[x*radialSteps], radialSteps, 64, 1, zradius
      , center, \textcolor{keyword}{false});    
58     \}
59     tracker->\hyperlink{class_c_p_u_tracker_a4ce07a1fc9189a4bdd66f5e6917af28b}{SetRadialZLUT}(zlut, zplanes, radialSteps, 1,1, zradius, \textcolor{keyword}{true}, \textcolor{keyword}{true});
60     \textcolor{keyword}{delete}[] zlut;
61 
62     \textcolor{comment}{// Speed test}
63     \hyperlink{structvector2}{vector2f} comdist, xcordist, qidist;
64     \textcolor{keywordtype}{float} zdist=0.0f;
65     \textcolor{keywordtype}{double} zerrsum=0.0f;
66     \textcolor{keywordtype}{double} tcom = 0.0, tgen=0.0, tz = 0.0, tqi=0.0, txcor=0.0;
67     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0;k<N;k++)
68     \{
69         \textcolor{keywordtype}{double} t0 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
70         \textcolor{keywordtype}{float} xp = tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2+(rand\_uniform<float>() - 0.5) * 5;
71         \textcolor{keywordtype}{float} yp = tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()/2+(rand\_uniform<float>() - 0.5) * 5;
72         \textcolor{keywordtype}{float} z = zmin + 0.1f + (zmax-zmin-0.2f) * rand\_uniform<float>();
73 
74         \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), xp, yp, z, 0);
75 
76         \textcolor{keywordtype}{double} t1 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
77         \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}();
78         \hyperlink{structvector2}{vector2f} initial(com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
79         \textcolor{keywordtype}{double} t2 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
80         \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
81         \hyperlink{structvector2}{vector2f} xcor = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial, 
      xcor\_iterations, 16, boundaryHit);
82         \textcolor{keywordflow}{if} (boundaryHit)
83             \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"xcor boundaryhit!!\(\backslash\)n"});
84 
85         comdist.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} += fabsf(com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} - xp);
86         comdist.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} += fabsf(com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} - yp);
87 
88         xcordist.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} +=fabsf(xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} - xp);
89         xcordist.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} +=fabsf(xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} - yp);
90         \textcolor{keywordtype}{double} t3 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
91         boundaryHit = \textcolor{keyword}{false};
92         \hyperlink{structvector2}{vector2f} qi = tracker->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(initial, qi\_iterations, 64, 16,
      \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 5,50, boundaryHit);
93         qidist.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} += fabsf(qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} - xp);
94         qidist.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} += fabsf(qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} - yp);
95         \textcolor{keywordtype}{double} t4 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
96         \textcolor{keywordflow}{if} (boundaryHit)
97             \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"qi boundaryhit!!\(\backslash\)n"});
98 
99         boundaryHit = \textcolor{keyword}{false};
100         \textcolor{keywordtype}{float} est\_z = zmin + (zmax-zmin)*tracker->\hyperlink{class_c_p_u_tracker_a8aaf20eab116d030a8549dadc5e2fb03}{ComputeZ}(qi, 64, 0, &boundaryHit, 0) / (zplanes-1
      );
101         zdist += fabsf(est\_z-z);
102         zerrsum += est\_z-z;
103 
104         \textcolor{keywordflow}{if} (boundaryHit)
105             \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"computeZ boundaryhit!!\(\backslash\)n"});
106         \textcolor{keywordtype}{double} t5 = \hyperlink{utils_8cpp_a11abc9edca3542dd4e74dadf99340fa1}{GetPreciseTime}();
107     \textcolor{comment}{//  dbgout(SPrintf("xpos:%f, COM err: %f, XCor err: %f\(\backslash\)n", xp, com.x-xp, xcor.x-xp));}
108         \textcolor{keywordflow}{if} (k>0) \{ \textcolor{comment}{// skip first initialization round}
109             tgen+=t1-t0;
110             tcom+=t2-t1;
111             txcor+=t3-t2;
112             tqi+=t4-t3;
113             tz+=t5-t4;
114         \}
115     \}
116 
117     \textcolor{keywordtype}{int} Nns = N-1;
118     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Image gen. (img/s): %f\(\backslash\)nCenter-of-Mass speed (img/s): %f\(\backslash\)n"}, Nns/tgen, Nns/tcom);
119     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"XCor estimation (img*it/s): %f\(\backslash\)n"}, (Nns*xcor\_iterations)/txcor);
120     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"COM+XCor(%d) (img/s): %f\(\backslash\)n"}, xcor\_iterations, Nns/(tcom+txcor));
121     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Z estimation (img/s): %f\(\backslash\)n"}, Nns/tz);
122     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"QI speed: %f (img*it/s)\(\backslash\)n"}, (Nns*qi\_iterations)/tqi);
123     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Average dist: COM x: %f, y: %f\(\backslash\)n"}, comdist.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}/N, comdist.
      \hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}/N);
124     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Average dist: Cross-correlation x: %f, y: %f\(\backslash\)n"}, xcordist.
      \hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}/N, xcordist.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}/N);
125     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Average dist: QI x: %f, y: %f\(\backslash\)n"}, qidist.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}/N, qidist.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}/N);
126     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Average dist: Z: %f. Mean error:%f\(\backslash\)n"}, zdist/N, zerrsum/N); 
127     
128     \textcolor{keyword}{delete} tracker;
129 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Background@{Test\+Background}}
\index{Test\+Background@{Test\+Background}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Background(std\+::vector$<$ Bead\+Pos $>$ beads, Image\+Data ori\+Img, outputter $\ast$output, int R\+O\+I\+Size)}{TestBackground(std::vector< BeadPos > beads, ImageData oriImg, outputter *output, int ROISize)}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Background (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ Bead\+Pos $>$}]{beads, }
\item[{{\bf Image\+Data}}]{ori\+Img, }
\item[{{\bf outputter} $\ast$}]{output, }
\item[{int}]{R\+O\+I\+Size}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a2021c4cbd776eecfa1f7b18745eb2e51}{}\label{main_8cpp_a2021c4cbd776eecfa1f7b18745eb2e51}

\begin{DoxyCode}
977 \{
978     std::string out;
979     
980     out = \textcolor{stringliteral}{"Beads-Background"};
981     output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(out);
982     
983     \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} ii = 0; ii < beads.size(); ii++)\{
984         \textcolor{keywordtype}{int} x = beads.at(ii).x - ROISize/2;
985         \textcolor{keywordtype}{int} y = beads.at(ii).y - ROISize/2;
986         \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{CropImage}(oriImg,x,y,ROISize,ROISize);
987         output->\hyperlink{classoutputter_a8a9f6716fd8a503c8ded2412dfe36c7c}{outputImage}(img,\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Crop"},beads.at(ii).x, beads.at(ii).y));
988         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Crop"},beads.at(ii).x, beads.at(ii).y));
989         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"median: %f"},
      \hyperlink{testutils_8cpp_ad224a122bf384101f6263659d0e4d3e6}{BackgroundMedian}(img)));
990         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"sigma: %f"},
      \hyperlink{testutils_8cpp_a3e118846f856e59e1219c45f087857e7}{BackgroundStdDev}(img)));
991         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"rms: %f"},\hyperlink{testutils_8cpp_a5916626e8879283cb7c7698e392f03a7}{BackgroundRMS}(img)));
992         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\textcolor{stringliteral}{""});
993         img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}(); 
994     \}
995 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Bias@{Test\+Bias}}
\index{Test\+Bias@{Test\+Bias}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Bias()}{TestBias()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Bias (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a9687cca7b7cc4af4c23014fdd66857d6}{}\label{main_8cpp_a9687cca7b7cc4af4c23014fdd66857d6}

\begin{DoxyCode}
374 \{
375     \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{utils_8cpp_afa12308b716c890001e2b072f45d4a74}{ReadLUTFile}(\textcolor{stringliteral}{"lut000.jpg"});
376 
377     \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(80,80);
378     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
379 
380     \textcolor{keywordtype}{float} o = 2.03f;
381     \hyperlink{structvector3}{vector3f} pos (img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2+o, img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2+o, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2);
382     \hyperlink{utils_8cpp_a394f1ad70cd62465e18850f87c93351c}{NormalizeZLUT}(lut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, 1, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, lut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
383     lut.\hyperlink{struct_t_image_data_ac987182fb87787d7d274a30cf4a198d4}{normalize}();
384 
385     srand(time(0));
386     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<10;i++) \{
387         \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&img, &lut, 0, img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2, pos, \textcolor{keyword}{true});
388         \hyperlink{utils_8cpp_ac2ddbf383f4539cdec45a8001a435a1a}{ApplyPoissonNoise}(img, 11050);
389         \textcolor{keywordtype}{float} stdev = \hyperlink{utils_8h_a94a47cedcb61227f25c64c5157508e85}{StdDeviation}(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data} + img.
      \hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
390         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Noise level std: %f\(\backslash\)n"},stdev);
391     \}
392 
393     \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}(\textcolor{stringliteral}{"TestBias-smp.jpg"}, img);
394     trk.SetImageFloat(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
395 
396     \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
397     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"COM: x:%f, y:%f\(\backslash\)n"}, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
398     \textcolor{keywordtype}{bool} bhit;
399     \textcolor{keyword}{auto} rw = \hyperlink{utils_8cpp_a8657c1536ca3621943042411f4644e21}{ComputeRadialBinWindow}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
400     \hyperlink{structvector2}{vector2f} qi = trk.ComputeQI(com, 3, img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 3*img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/4, 1, 0, img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2, bhit, &rw[0]);
401     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"QI: x: %f, y:%f\(\backslash\)n"}, qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y});
402 
403     trk.SetRadialZLUT(lut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, lut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 1, 0, img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2, \textcolor{keyword}{true}, \textcolor{keyword}{false});
404     \textcolor{keywordtype}{float} z = trk.ComputeZ(qi,3*img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 0, 0, 0, 0, \textcolor{keyword}{false});
405     \textcolor{keywordtype}{float} znorm = trk.ComputeZ(qi,3*img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 0, 0, 0, 0, \textcolor{keyword}{true});
406 
407     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Z: %f, ZNorm: %f, true:%f\(\backslash\)n"}, z, znorm, pos.z);
408 
409     img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
410     lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
411 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Bound\+Check@{Test\+Bound\+Check}}
\index{Test\+Bound\+Check@{Test\+Bound\+Check}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Bound\+Check()}{TestBoundCheck()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Bound\+Check (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a5b09aa979bbfe19bda62123375186f73}{}\label{main_8cpp_a5b09aa979bbfe19bda62123375186f73}

\begin{DoxyCode}
206 \{
207     \hyperlink{class_c_p_u_tracker}{CPUTracker} *tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(32,32, 16);
208     \textcolor{keywordtype}{bool} boundaryHit;
209 
210     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<10;i++) \{
211         \textcolor{keywordtype}{float} xp = tracker->\hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}()/2+(rand\_uniform<float>() - 0.5) * 20;
212         \textcolor{keywordtype}{float} yp = tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()/2+(rand\_uniform<float>() - 0.5) * 20;
213         
214         \hyperlink{utils_8cpp_a2bb752417033483e1acda83da3bc800e}{GenerateTestImage}(\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{ImageData}(tracker->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}, tracker->
      \hyperlink{class_c_p_u_tracker_a1f380a0c3d1826e7ef6f7299ce9e5999}{GetWidth}(), tracker->\hyperlink{class_c_p_u_tracker_a6da03daaee4bcdfdf8439f3adbc36aa7}{GetHeight}()), xp, yp, 1, 0.0f);
215 
216         \hyperlink{structvector2}{vector2f} com = tracker->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}();
217         \hyperlink{utils_8cpp_a5b94ae341d9ebca67ebec2e52e6cc800}{dbgout}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"COM: %f,%f\(\backslash\)n"}, com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp));
218     
219         \hyperlink{structvector2}{vector2f} initial = com;
220         boundaryHit=\textcolor{keyword}{false};
221         \hyperlink{structvector2}{vector2f} xcor = tracker->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(initial, 3, 16, 
      boundaryHit);
222         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"XCor: %f,%f. Err: %d\(\backslash\)n"}, xcor.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, xcor.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp, boundaryHit);
223 
224         boundaryHit=\textcolor{keyword}{false};
225         \hyperlink{structvector2}{vector2f} qi = tracker->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(initial, 3, 64, 32, 
      \hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 1, 10, boundaryHit);
226         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"QI: %f,%f. Err: %d\(\backslash\)n"}, qi.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-xp, qi.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-yp, boundaryHit);
227     \}
228 
229     \textcolor{keyword}{delete} tracker;
230 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+B\+Spline\+Max@{Test\+B\+Spline\+Max}}
\index{Test\+B\+Spline\+Max@{Test\+B\+Spline\+Max}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+B\+Spline\+Max(float maxpos)}{TestBSplineMax(float maxpos)}}]{\setlength{\rightskip}{0pt plus 5cm}static void Test\+B\+Spline\+Max (
\begin{DoxyParamCaption}
\item[{float}]{maxpos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{main_8cpp_abebf2b53a71487375f35612650e97cba}{}\label{main_8cpp_abebf2b53a71487375f35612650e97cba}

\begin{DoxyCode}
718 \{
719     \textcolor{keyword}{const} \textcolor{keywordtype}{int} N=100;
720     \textcolor{keywordtype}{float} v[N];
721 
722     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)
723         v[i] = -\hyperlink{std__incl_8h_a8a38721046513951c4bfc32bf101e180}{sqrt}(1+(i-maxpos)*(i-maxpos));
724     \textcolor{keywordtype}{float} max = \hyperlink{_cubic_b_spline_8h_a0ef36a18640354badceb901eaee34557}{ComputeSplineFitMaxPos}(v, N);
725     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Max: %f, true: %f\(\backslash\)n"}, max, maxpos); 
726 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Fourier\+L\+UT@{Test\+Fourier\+L\+UT}}
\index{Test\+Fourier\+L\+UT@{Test\+Fourier\+L\+UT}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Fourier\+L\+U\+T()}{TestFourierLUT()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Fourier\+L\+UT (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a1d3b58213a1e1e4835bfb1db57efa897}{}\label{main_8cpp_a1d3b58213a1e1e4835bfb1db57efa897}

\begin{DoxyCode}
613 \{
614     \hyperlink{struct_q_trk_settings}{QTrkSettings} cfg;
615     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 60;
616     cfg.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}=3;
617     cfg.\hyperlink{struct_q_trk_settings_a33db8dee144b4a042f5440fa1f210e6a}{zlut\_roi\_coverage}=1;
618     
619 \textcolor{comment}{//  auto locMode = (LocMode\_t)(LT\_ZLUTAlign | LT\_NormalizeProfile | LT\_LocalizeZ);}
620 \textcolor{comment}{//  auto resultsCOM = RunTracker<QueuedCPUTracker> ("lut000.jpg", &cfg, false, "com-zlutalign", locMode,
       100 );}
621 
622     \textcolor{keyword}{const} \textcolor{keywordtype}{float} NF=28;
623     \textcolor{keywordtype}{float} zpos=10;
624     
625     \textcolor{keyword}{auto} locMode = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3baa412dc6660a1d4896acff68e660a77d2}{LT\_FourierLUT} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
626     \textcolor{keyword}{auto} resultsZA = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qi-fourierlut"},  locMode, 
      200, NF,zpos);
627 
628     \textcolor{keyword}{auto} locModeQI = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
629     \textcolor{keyword}{auto} resultsQI = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qi"}, locModeQI, 200, NF, 
      zpos);
630 
631     resultsZA.computeStats(); 
632     resultsQI.computeStats();
633 
634     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"FourierLUT: X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsZA.meanErr.x, resultsZA.
      stdev.x, resultsZA.meanErr.z, resultsZA.stdev.z);
635     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Only QI:   X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsQI.meanErr.x, resultsQI.
      stdev.x, resultsQI.meanErr.z, resultsQI.stdev.z);
636 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Fourier\+L\+U\+T\+On\+Dataset@{Test\+Fourier\+L\+U\+T\+On\+Dataset}}
\index{Test\+Fourier\+L\+U\+T\+On\+Dataset@{Test\+Fourier\+L\+U\+T\+On\+Dataset}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Fourier\+L\+U\+T\+On\+Dataset()}{TestFourierLUTOnDataset()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Fourier\+L\+U\+T\+On\+Dataset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_adb7504aa0646ddbb44aabc455f16d451}{}\label{main_8cpp_adb7504aa0646ddbb44aabc455f16d451}

\begin{DoxyCode}
639 \{
640     \textcolor{keyword}{const} \textcolor{keywordtype}{char}*basepath= \textcolor{stringliteral}{"D:/jcnossen1/datasets/RefBeads 2013-09-02/2013-09-02/"};
641 
642     process\_bead\_dir(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s/%s"}, basepath, \textcolor{stringliteral}{"tmp\_001"}).c\_str(), 80, [&] (
      \hyperlink{struct_t_image_data}{ImageData} *img, \textcolor{keywordtype}{int} bead, \textcolor{keywordtype}{int} frame) \{
643         
644 
645 
646     \}, 1000);
647 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Interference@{Test\+Interference}}
\index{Test\+Interference@{Test\+Interference}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Interference(std\+::vector$<$ Bead\+Pos $>$ beads, Image\+Data ori\+Img, outputter $\ast$output, int R\+O\+I\+Size, vector2f displacement=vector2f(60, 0))}{TestInterference(std::vector< BeadPos > beads, ImageData oriImg, outputter *output, int ROISize, vector2f displacement=vector2f(60, 0))}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Interference (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ Bead\+Pos $>$}]{beads, }
\item[{{\bf Image\+Data}}]{ori\+Img, }
\item[{{\bf outputter} $\ast$}]{output, }
\item[{int}]{R\+O\+I\+Size, }
\item[{{\bf vector2f}}]{displacement = {\ttfamily {\bf vector2f}(60,0)}}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_af086aec2ff408671afec5155937d80c3}{}\label{main_8cpp_af086aec2ff408671afec5155937d80c3}

\begin{DoxyCode}
936 \{
937     \hyperlink{struct_t_image_data}{ImageData} added = \hyperlink{testutils_8cpp_a2058e40586f779f005e0fa4aed649474}{AddImages}(oriImg,oriImg,displacement);
938     \textcolor{comment}{//output->outputImage(added,"Added");}
939 
940     \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} ii = 0; ii < beads.size(); ii++)\{
941         output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Inter"},beads.at(ii).x,beads.at(ii).y));
942 
943         \textcolor{keywordtype}{int} x = beads.at(ii).x - ROISize/2;
944         \textcolor{keywordtype}{int} y = beads.at(ii).y - ROISize/2;
945 
946         \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{CropImage}(added,x,y,ROISize,ROISize);
947         output->\hyperlink{classoutputter_a8a9f6716fd8a503c8ded2412dfe36c7c}{outputImage}(img,\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Inter"},beads.at(ii).x,beads.at(ii).y));
948 
949         \hyperlink{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}{RunCOMAndQI}(img,output);
950         img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
951     \}
952 
953     added.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
954 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Quadrant\+Align@{Test\+Quadrant\+Align}}
\index{Test\+Quadrant\+Align@{Test\+Quadrant\+Align}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Quadrant\+Align()}{TestQuadrantAlign()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Quadrant\+Align (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_aa9384199eb708e1b48be44041f2db601}{}\label{main_8cpp_aa9384199eb708e1b48be44041f2db601}

\begin{DoxyCode}
673 \{
674     \hyperlink{struct_q_trk_settings}{QTrkSettings} cfg;
675     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 60;
676     cfg.\hyperlink{struct_q_trk_settings_a8c6f1c671b527155afd5dad894c152da}{numThreads}=1;
677     
678 \textcolor{comment}{//  auto locMode = (LocMode\_t)(LT\_ZLUTAlign | LT\_NormalizeProfile | LT\_LocalizeZ);}
679 \textcolor{comment}{//  auto resultsCOM = RunTracker<QueuedCPUTracker> ("lut000.jpg", &cfg, false, "com-zlutalign", locMode,
       100 );}
680 
681     \textcolor{keyword}{const} \textcolor{keywordtype}{float} NF=10;
682 
683 \textcolor{preprocessor}{#ifdef \_DEBUG}
684     \textcolor{keywordtype}{int} N=1;
685     cfg.\hyperlink{struct_q_trk_settings_a8c6f1c671b527155afd5dad894c152da}{numThreads}=1;
686 \textcolor{preprocessor}{#else}
687     \textcolor{keywordtype}{int} N=2000;
688 \textcolor{preprocessor}{#endif}
689 
690     \textcolor{keyword}{auto} locModeQI = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
691     \textcolor{keyword}{auto} resultsQI = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qa"}, locModeQI, N, NF);
692 
693     \textcolor{keyword}{auto} locMode = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba85b5a8778da421d97ac8bf55dd0cf076}{LT\_ZLUTAlign} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
694     \textcolor{keyword}{auto} resultsZA = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qa-qalign"}, locMode, N, NF )
      ;
695     
696     resultsZA.computeStats(); 
697     resultsQI.computeStats();
698 
699     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"QuadrantAlign: X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsZA.meanErr.x, 
      resultsZA.stdev.x, resultsZA.meanErr.z, resultsZA.stdev.z);
700     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Only QI:   X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsQI.meanErr.x, resultsQI.
      stdev.x, resultsQI.meanErr.z, resultsQI.stdev.z);
701 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+R\+O\+I\+Displacement@{Test\+R\+O\+I\+Displacement}}
\index{Test\+R\+O\+I\+Displacement@{Test\+R\+O\+I\+Displacement}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+R\+O\+I\+Displacement(std\+::vector$<$ Bead\+Pos $>$ beads, Image\+Data ori\+Img, outputter $\ast$output, int R\+O\+I\+Size, int maxdisplacement=0)}{TestROIDisplacement(std::vector< BeadPos > beads, ImageData oriImg, outputter *output, int ROISize, int maxdisplacement=0)}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+R\+O\+I\+Displacement (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ Bead\+Pos $>$}]{beads, }
\item[{{\bf Image\+Data}}]{ori\+Img, }
\item[{{\bf outputter} $\ast$}]{output, }
\item[{int}]{R\+O\+I\+Size, }
\item[{int}]{maxdisplacement = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a31785cc889c695dfd66612b8300f925e}{}\label{main_8cpp_a31785cc889c695dfd66612b8300f925e}

\begin{DoxyCode}
916 \{
917     \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} ii = 0; ii < beads.size(); ii++)\{
918 
919         output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-ROI-%d"},beads.at(ii).x,beads.at(ii).y,ROISize));
920         
921         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i = -maxdisplacement; x\_i <= maxdisplacement; x\_i++)\{
922             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i = -maxdisplacement; y\_i <= maxdisplacement; y\_i++)\{
923                 \textcolor{keywordtype}{int} x = beads.at(ii).x + x\_i - ROISize/2;
924                 \textcolor{keywordtype}{int} y = beads.at(ii).y + y\_i - ROISize/2;
925                 \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{CropImage}(oriImg,x,y,ROISize,ROISize);
926                 output->\hyperlink{classoutputter_a8a9f6716fd8a503c8ded2412dfe36c7c}{outputImage}(img,\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Crop"},beads.at(ii).x + x\_i, beads.
      at(ii).y + y\_i));
927                 output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d - ROI (%d,%d) -> (%d,%d)"},x\_i,y\_i,x,
      y,x+ROISize,y+ROISize));
928                 \hyperlink{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}{RunCOMAndQI}(img,output);
929                 img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}(); 
930             \}
931         \}
932     \}
933 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Skew@{Test\+Skew}}
\index{Test\+Skew@{Test\+Skew}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Skew(std\+::vector$<$ Bead\+Pos $>$ beads, Image\+Data ori\+Img, outputter $\ast$output, int R\+O\+I\+Size)}{TestSkew(std::vector< BeadPos > beads, ImageData oriImg, outputter *output, int ROISize)}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Skew (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ Bead\+Pos $>$}]{beads, }
\item[{{\bf Image\+Data}}]{ori\+Img, }
\item[{{\bf outputter} $\ast$}]{output, }
\item[{int}]{R\+O\+I\+Size}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_ae500d6bb59316854a376397054af7211}{}\label{main_8cpp_ae500d6bb59316854a376397054af7211}

\begin{DoxyCode}
957 \{
958     \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} ii = 0; ii < beads.size(); ii++)\{
959         output->\hyperlink{classoutputter_afab1703273f2af21817699fa68381d5a}{newFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Skew"},beads.at(ii).x,beads.at(ii).y));
960 
961         \textcolor{keywordtype}{int} x = beads.at(ii).x - ROISize/2;
962         \textcolor{keywordtype}{int} y = beads.at(ii).y - ROISize/2;
963 
964         \hyperlink{struct_t_image_data}{ImageData} img = \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{CropImage}(oriImg,x,y,ROISize,ROISize);
965         \hyperlink{struct_t_image_data}{ImageData} skewImg = \hyperlink{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}{SkewImage}(img,20);
966         output->\hyperlink{classoutputter_a8a9f6716fd8a503c8ded2412dfe36c7c}{outputImage}(skewImg,\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%d,%d-Skew"},beads.at(ii).x,beads.at(ii).y));
967         \textcolor{keywordtype}{float} imgSkew     = \hyperlink{main_8cpp_ab46d55f91395e4179bdee41400ff713a}{SkewParam}(img);
968         \textcolor{keywordtype}{float} skewImgSkew = \hyperlink{main_8cpp_ab46d55f91395e4179bdee41400ff713a}{SkewParam}(skewImg);
969         output->\hyperlink{classoutputter_ab83efb14176854f486bea2b514f39918}{outputString}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%f %f"},imgSkew,skewImgSkew));
970         \hyperlink{main_8cpp_aa31d450c1fa4e9c96cd7ebb64818a07b}{RunCOMAndQI}(skewImg,output);
971         img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
972         skewImg.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
973     \}
974 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Z\+L\+U\+T\+Align@{Test\+Z\+L\+U\+T\+Align}}
\index{Test\+Z\+L\+U\+T\+Align@{Test\+Z\+L\+U\+T\+Align}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Z\+L\+U\+T\+Align()}{TestZLUTAlign()}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Z\+L\+U\+T\+Align (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a1d9e203dc8a02b9d263126326c984a10}{}\label{main_8cpp_a1d9e203dc8a02b9d263126326c984a10}

\begin{DoxyCode}
650 \{
651     \hyperlink{struct_q_trk_settings}{QTrkSettings} cfg;
652     cfg.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = cfg.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 60;
653     
654 \textcolor{comment}{//  auto locMode = (LocMode\_t)(LT\_ZLUTAlign | LT\_NormalizeProfile | LT\_LocalizeZ);}
655 \textcolor{comment}{//  auto resultsCOM = RunTracker<QueuedCPUTracker> ("lut000.jpg", &cfg, false, "com-zlutalign", locMode,
       100 );}
656 
657     \textcolor{keyword}{const} \textcolor{keywordtype}{float} NF=28;
658 
659     \textcolor{keyword}{auto} locModeQI = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
660     \textcolor{keyword}{auto} resultsQI = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qi"}, locModeQI, 200, NF);
661 
662     \textcolor{keyword}{auto} locMode = (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{LocMode\_t})(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba85b5a8778da421d97ac8bf55dd0cf076}{LT\_ZLUTAlign} | 
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile} | \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ});
663     \textcolor{keyword}{auto} resultsZA = RunTracker<QueuedCPUTracker> (\textcolor{stringliteral}{"lut000.jpg"}, &cfg, \textcolor{keyword}{false}, \textcolor{stringliteral}{"qi-zlutalign"}, locMode, 200,
       NF );
664 
665     resultsZA.computeStats(); 
666     resultsQI.computeStats();
667 
668     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"ZLUTAlign: X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsZA.meanErr.x, resultsZA.
      stdev.x, resultsZA.meanErr.z, resultsZA.stdev.z);
669     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Only QI:   X= %f. stdev: %f\(\backslash\)tZ=%f,  stdev: %f\(\backslash\)n"}, resultsQI.meanErr.x, resultsQI.
      stdev.x, resultsQI.meanErr.z, resultsQI.stdev.z);
670 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Z\+Range@{Test\+Z\+Range}}
\index{Test\+Z\+Range@{Test\+Z\+Range}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Z\+Range(const char $\ast$name, const char $\ast$lutfile, int extra\+Flags, int clean\+\_\+lut, R\+Weight\+Mode weight\+Mode=\+R\+W\+None, bool bias\+Map=false, bool bias\+Correct=false)}{TestZRange(const char *name, const char *lutfile, int extraFlags, int clean_lut, RWeightMode weightMode=RWNone, bool biasMap=false, bool biasCorrect=false)}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Z\+Range (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{const char $\ast$}]{lutfile, }
\item[{int}]{extra\+Flags, }
\item[{int}]{clean\+\_\+lut, }
\item[{{\bf R\+Weight\+Mode}}]{weight\+Mode = {\ttfamily {\bf R\+W\+None}}, }
\item[{bool}]{bias\+Map = {\ttfamily false}, }
\item[{bool}]{bias\+Correct = {\ttfamily false}}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a819933f5d01e6d35660313e4f8208304}{}\label{main_8cpp_a819933f5d01e6d35660313e4f8208304}

\begin{DoxyCode}
453 \{
454     \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{utils_8cpp_afa12308b716c890001e2b072f45d4a74}{ReadLUTFile}(lutfile);
455     \hyperlink{structvector3}{vector3f} delta(0.001f,0.001f, 0.001f);
456 
457     \textcolor{keywordflow}{if}(\hyperlink{struct_path_seperator}{PathSeperator}(lutfile).extension != \textcolor{stringliteral}{"jpg"})\{
458         \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s-lut.jpg"},name).c\_str(), lut);
459     \}
460 
461     \textcolor{keywordflow}{if} (clean\_lut) \{
462         \hyperlink{class_benchmark_l_u_t_a0603ca70a5218b22809d9956ef226905}{BenchmarkLUT::CleanupLUT}(lut);
463         \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}( std::string(lutfile).substr(0, strlen(lutfile)-4).append(\textcolor{stringliteral}{"\_bmlut.jpg"}).
      c\_str(), lut );
464     \}
465 
466     \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} settings;
467     settings.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations} = 2;
468     settings.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} = 1;
469     settings.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius} = 1;
470     settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width} = settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} = 100;
471     settings.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
472     
473     \textcolor{keywordtype}{float} maxVal=10000;
474     std::vector<float> stdv;
475     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"High-res LUT range...\(\backslash\)n"});
476     \hyperlink{class_sample_fisher_matrix}{SampleFisherMatrix} fm( maxVal);
477 
478     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker} trk(settings);
479     \hyperlink{struct_t_image_data}{ImageData} rescaledLUT;
480     \hyperlink{_shared_tests_8h_a6a1246e8a5604b97c4f6dff6d3790272}{ResampleLUT}(&trk, &lut, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, &rescaledLUT);
481 
482     \textcolor{keywordflow}{if} (biasCorrect) \{
483         \hyperlink{class_c_image_data}{CImageData} result;
484         trk.ComputeZBiasCorrection(lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}*10, &result, 4, \textcolor{keyword}{true});
485 
486         \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s-biasc.txt"}, name).c\_str(), result.
      \hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, result.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, result.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
487     \}
488 
489     \textcolor{keywordtype}{int} f = 0;
490     \textcolor{keywordflow}{if} (weightMode == \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a8501ede718160d9f23d00c1e401434d3}{RWDerivative})
491         f |= \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba4b74b9fec0fa98e60e03b783618111f4}{LT\_LocalizeZWeighted};
492     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(weightMode == \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a42d039711186f84ba7bea2d18a214e55}{RWRadial}) \{
493         std::vector<float> w(settings.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps});
494         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<settings.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps};i++)
495             w[i]= settings.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius} + i/(\textcolor{keywordtype}{float})settings.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}*settings.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius};
496         trk.SetRadialWeights(&w[0]);
497     \}
498     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (weightMode == \hyperlink{main_8cpp_a8701d3fcfd86e6c94d9b3493daa8eaf5a28666d9629749977bd108fd5e13837e1}{RWStetson})
499         trk.SetRadialWeights( \hyperlink{utils_8cpp_a8657c1536ca3621943042411f4644e21}{ComputeRadialBinWindow}(settings.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}) );
500 
501     trk.SetLocalizationMode(\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI}|\hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ}|
      \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile}|extraFlags|f);
502 
503     \hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} nstep= \hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode} ? 20 : 1000;
504     \hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} smpPerStep = \hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode} ? 2 : 200;
505     \textcolor{keywordflow}{if} (biasMap) \{
506         smpPerStep=1;
507         nstep=\hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode}? 200 : 2000;
508     \}
509 
510     std::vector<vector3f> truepos, positions,crlb;
511     std::vector<float> stdevz;
512     \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<nstep;i++)
513     \{
514         \textcolor{keywordtype}{float} z = 1 + i / (float)nstep * (rescaledLUT.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}-2);
515         \hyperlink{structvector3}{vector3f} pos = \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}/2, settings.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}/2, z);
516         truepos.push\_back(pos);
517         \hyperlink{class_matrix3_x3}{Matrix3X3} invFisherLUT = fm.Compute(pos, delta, rescaledLUT, settings.
      \hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}, settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}, settings.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, settings.
      \hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}).\hyperlink{class_matrix3_x3_a67bea30b9734e1ecae9c9c0581150dc5}{Inverse}();
518         crlb.push\_back(\hyperlink{std__incl_8h_a8a38721046513951c4bfc32bf101e180}{sqrt}(invFisherLUT.\hyperlink{class_matrix3_x3_a9ae9d007341bbf8b82f0043d3e791ba7}{diag}()));
519 
520         \hyperlink{struct_t_image_data}{ImageData} img=\hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},settings.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
521 
522         \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} j=0;j<smpPerStep; j++) \{
523             \hyperlink{structvector3}{vector3f} rndvec(rand\_uniform<float>(), rand\_uniform<float>(), rand\_uniform<float>());
524             \textcolor{keywordflow}{if} (biasMap) rndvec=\hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}();
525             \hyperlink{structvector3}{vector3f} rndpos = pos + \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(1,1,0.1) * (rndvec-0.5f); \textcolor{comment}{// 0.1 plane is
       still a lot larger than the 0.02 typical accuracy}
526             \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&img, &rescaledLUT, settings.
      \hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, settings.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, rndpos, \textcolor{keyword}{true});
527             img.\hyperlink{struct_t_image_data_ac987182fb87787d7d274a30cf4a198d4}{normalize}();
528             \textcolor{keywordflow}{if} (!biasMap) \hyperlink{utils_8cpp_ac2ddbf383f4539cdec45a8001a435a1a}{ApplyPoissonNoise}(img, maxVal);
529             \hyperlink{struct_localization_job}{LocalizationJob} job(positions.size(), 0, 0, 0);
530             trk.ScheduleImageData(&img, &job);
531             positions.push\_back(rndpos);
532             \textcolor{keywordflow}{if}(j==0 && \hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode}) \{
533                 \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s-sampleimg.jpg"},name).c\_str(), img);
534             \}
535         \}
536         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"[%d] z=%f Min std deviation: X=%f, Y=%f, Z=%f.\(\backslash\)n"}, i, z, crlb[i].x,crlb[i].y,
      crlb[i].z);
537         img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
538     \}
539     \hyperlink{_shared_tests_8h_ad10b5a63fc1239e5638eae0f0ea30f84}{WaitForFinish}(&trk, positions.size());
540     std::vector<vector3f> trkmean(nstep), trkstd(nstep);
541     std::vector<vector3f> resultpos(nstep*smpPerStep);
542     \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<positions.size();i++) \{
543         \hyperlink{struct_localization_result}{LocalizationResult} lr;
544         trk.FetchResults(&lr, 1);
545         resultpos[lr.\hyperlink{struct_localization_result_a9a6b25c5cc92fe13bae3d0a5d37360f3}{job}.\hyperlink{struct_localization_job_a54df1ba33ab48b20dca664142a8cf619}{frame}]=lr.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos};
546     \} 
547     \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<nstep;i++) \{
548         \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} j=0;j<smpPerStep;j ++) \{
549             \hyperlink{structvector3}{vector3f} err=resultpos[i*smpPerStep+j]-positions[i*smpPerStep+j];
550             trkmean[i]+=err;
551         \}
552         trkmean[i]/=smpPerStep;
553         \hyperlink{structvector3}{vector3f} variance;
554         \textcolor{keywordflow}{for} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} j=0;j<smpPerStep;j ++) \{
555             \hyperlink{structvector3}{vector3f} r = resultpos[i*smpPerStep+j];
556             \hyperlink{structvector3}{vector3f} t = positions[i*smpPerStep+j];;
557             \hyperlink{structvector3}{vector3f} err=r-t;
558             err -= trkmean[i];
559             variance += err*err;
560 
561             \textcolor{keywordflow}{if} (\hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode}) \{
562                 \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Result: x=%f,y=%f,z=%f. True: x=%f,y=%f,z=%f\(\backslash\)n"}, r.
      \hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x},r.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y},r.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z},t.x,t.y,t.z);
563             \}
564         \}
565         \textcolor{keywordflow}{if} (biasMap) trkstd[i]=\hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}();
566         \textcolor{keywordflow}{else} trkstd[i] = \hyperlink{std__incl_8h_a8a38721046513951c4bfc32bf101e180}{sqrt}(variance / (smpPerStep-1));
567     \}
568 
569     \hyperlink{structvector3}{vector3f} mean\_std;
570     std::vector<float> output;
571     \textcolor{keywordflow}{for}(\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} i=0;i<nstep;i++) \{
572         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"trkstd[%d]:%f crlb=%f bias=%f true=%f\(\backslash\)n"}, i, trkstd[i].z, crlb[i].z, trkmean[i]
      .z, truepos[i].z);
573         output.push\_back(truepos[i].z);
574         output.push\_back(trkmean[i].x);
575         output.push\_back(trkstd[i].x);
576         output.push\_back(trkmean[i].z);
577         output.push\_back(trkstd[i].z);
578         output.push\_back(crlb[i].x);
579         output.push\_back(crlb[i].z);
580         
581         mean\_std += trkstd[i];
582     \}
583     \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"mean z err: %f\(\backslash\)n"}, (mean\_std/nstep).z);
584     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}( \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s\_%d\_flags%d\_cl%d.txt"},name, weightMode, extraFlags,
      clean\_lut).c\_str(), &output[0], 7, output.size()/7);
585     lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
586     rescaledLUT.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
587 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Test\+Z\+Range\+Bias@{Test\+Z\+Range\+Bias}}
\index{Test\+Z\+Range\+Bias@{Test\+Z\+Range\+Bias}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Test\+Z\+Range\+Bias(const char $\ast$name, const char $\ast$lutfile, bool norm\+Prof)}{TestZRangeBias(const char *name, const char *lutfile, bool normProf)}}]{\setlength{\rightskip}{0pt plus 5cm}void Test\+Z\+Range\+Bias (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name, }
\item[{const char $\ast$}]{lutfile, }
\item[{bool}]{norm\+Prof}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a1f1b401accf07b6fb82b39bc812da9e3}{}\label{main_8cpp_a1f1b401accf07b6fb82b39bc812da9e3}

\begin{DoxyCode}
414 \{
415     \hyperlink{struct_t_image_data}{ImageData} lut = \hyperlink{utils_8cpp_afa12308b716c890001e2b072f45d4a74}{ReadLUTFile}(lutfile);
416 
417     \hyperlink{struct_q_trk_computed_config}{QTrkComputedConfig} settings;
418     settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}=settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}=100;
419     settings.\hyperlink{struct_q_trk_computed_config_a26980879d30db548c6b2a2589616d7ee}{Update}();
420     \hyperlink{struct_t_image_data}{ImageData} img=\hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},settings.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
421 
422     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
423     \hyperlink{utils_8cpp_a394f1ad70cd62465e18850f87c93351c}{NormalizeZLUT}(lut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, 1, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, lut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
424     trk.SetRadialZLUT(lut.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data}, lut.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}, lut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}, 1, 1, settings.\hyperlink{struct_q_trk_computed_config_a9784dbeb638bde1f3204f9ca5af720c6}{qi\_maxradius}, \textcolor{keyword}{true}, \textcolor{keyword}{false});
425     \textcolor{keywordtype}{float}* prof= \hyperlink{std__incl_8h_a37dbccb865134ee3a70c5044b365ded7}{ALLOCA\_ARRAY}(\textcolor{keywordtype}{float},lut.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
426 
427     \textcolor{keywordtype}{int} N=1000;
428     std::vector< vector2f> results (N);
429     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++) \{
430         \hyperlink{structvector3}{vector3f} pos (settings.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}/2, settings.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}/2, i/(\textcolor{keywordtype}{float})N*lut.
      \hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
431         \hyperlink{utils_8cpp_af574edb94793976b749c0240c79b1c48}{GenerateImageFromLUT}(&img, &lut, 1, settings.
      \hyperlink{struct_q_trk_computed_config_a9784dbeb638bde1f3204f9ca5af720c6}{qi\_maxradius}, pos);
432         \textcolor{keywordflow}{if}(\hyperlink{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{InDebugMode}&&i==0)\{
433             \hyperlink{fastjpg_8cpp_a77db3a4044f8f77b5a550b6f05962172}{WriteJPEGFile}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s-smp.jpg"},name).c\_str(),img);
434         \}
435 
436         trk.SetImageFloat(img.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
437         \textcolor{comment}{//trk.ComputeRadialProfile(prof,lut.w,settings.zlut\_angularsteps, settings.zlut\_minradius,
       settings.zlut\_maxradius, pos.xy(), false);}
438         \textcolor{comment}{//float z=trk.LUTProfileCompare(prof, 0, 0, normProf ? CPUTracker::LUTProfMaxSplineFit :
       CPUTracker::LUTProfMaxQuadraticFit); result: splines no go!}
439         \textcolor{keywordtype}{float} z = trk.ComputeZ(pos.xy(), settings.\hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, 0, 0, 0, 0,\textcolor{keyword}{true});
440         results[i].x = pos.z;
441         results[i].y = z-pos.z;
442     \}
443 
444     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(\hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s-results.txt"}, name).c\_str(),(\textcolor{keywordtype}{float}*) &results[0], 2, 
      N);
445 
446     lut.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
447     img.\hyperlink{struct_t_image_data_a60a60e309657216a2e35809fdc582b11}{free}();
448 \}
\end{DoxyCode}
\index{main.\+cpp@{main.\+cpp}!Write\+Radial\+Prof@{Write\+Radial\+Prof}}
\index{Write\+Radial\+Prof@{Write\+Radial\+Prof}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{Write\+Radial\+Prof(const char $\ast$file, Image\+Data \&d)}{WriteRadialProf(const char *file, ImageData &d)}}]{\setlength{\rightskip}{0pt plus 5cm}void Write\+Radial\+Prof (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{file, }
\item[{{\bf Image\+Data} \&}]{d}
\end{DoxyParamCaption}
)}\hypertarget{main_8cpp_a5a3cf50568ec0e71f025a83420c6fb33}{}\label{main_8cpp_a5a3cf50568ec0e71f025a83420c6fb33}

\begin{DoxyCode}
351 \{
352     \hyperlink{class_c_p_u_tracker}{CPUTracker} trk(d.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},d.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
353     trk.SetImageFloat(d.\hyperlink{struct_t_image_data_a78c7415ecee3965da7e25149cea6f4d8}{data});
354     \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
355     \textcolor{keywordtype}{bool} bhit;
356     \hyperlink{structvector2}{vector2f} qipos = trk.ComputeQI(com, 4, 64, 64,\hyperlink{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{ANGSTEPF}, 5, 50, bhit);
357 
358     \textcolor{keyword}{const} \textcolor{keywordtype}{int} radialsteps=64;
359     \textcolor{keywordtype}{float} radprof[radialsteps];
360     trk.ComputeRadialProfile(radprof, radialsteps, 128, 5, 40, qipos, \textcolor{keyword}{false});
361 
362     \hyperlink{utils_8cpp_ad594d63fab5898e75c6eeb533368aba8}{WriteImageAsCSV}(file, radprof, radialsteps, 1);
363 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\index{main.\+cpp@{main.\+cpp}!A\+N\+G\+S\+T\+E\+PF@{A\+N\+G\+S\+T\+E\+PF}}
\index{A\+N\+G\+S\+T\+E\+PF@{A\+N\+G\+S\+T\+E\+PF}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{A\+N\+G\+S\+T\+E\+PF}{ANGSTEPF}}]{\setlength{\rightskip}{0pt plus 5cm}const float A\+N\+G\+S\+T\+E\+PF = 1.\+5f}\hypertarget{main_8cpp_a1b7853708431123d1a6b7868e0d63830}{}\label{main_8cpp_a1b7853708431123d1a6b7868e0d63830}
\index{main.\+cpp@{main.\+cpp}!In\+Debug\+Mode@{In\+Debug\+Mode}}
\index{In\+Debug\+Mode@{In\+Debug\+Mode}!main.\+cpp@{main.\+cpp}}
\subsubsection[{\texorpdfstring{In\+Debug\+Mode}{InDebugMode}}]{\setlength{\rightskip}{0pt plus 5cm}const bool In\+Debug\+Mode}\hypertarget{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}{}\label{main_8cpp_a6b657569c85f548bb37c94326f1c3f7a}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= 



    \textcolor{keyword}{false}
\end{DoxyCode}
