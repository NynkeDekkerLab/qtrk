\hypertarget{class_compute_max_interp}{}\section{Compute\+Max\+Interp$<$ T, num\+Pts $>$ Class Template Reference}
\label{class_compute_max_interp}\index{Compute\+Max\+Interp$<$ T, num\+Pts $>$@{Compute\+Max\+Interp$<$ T, num\+Pts $>$}}


{\ttfamily \#include $<$Lsq\+Quadratic\+Fit.\+h$>$}

\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{gpu__utils_8h_a69f41cb6c15f0e34b0889a5f6d5aae32}{C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T \hyperlink{class_compute_max_interp_aca1d7eb7e01f35799fb57a6ba12703a2}{max\+\_\+} (T a, T b)
\item 
static \hyperlink{gpu__utils_8h_a69f41cb6c15f0e34b0889a5f6d5aae32}{C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T \hyperlink{class_compute_max_interp_a7182479e13541d98b5d0ba6f65eff902}{min\+\_\+} (T a, T b)
\item 
static \hyperlink{gpu__utils_8h_a69f41cb6c15f0e34b0889a5f6d5aae32}{C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T \hyperlink{class_compute_max_interp_aa1ec2481d8a866f624f05ba53fb2d3bc}{Compute} (T $\ast$data, int len, const T $\ast$weights, \hyperlink{class_lsq_sq_quad_fit}{Lsq\+Sq\+Quad\+Fit}$<$ T $>$ $\ast$fit=0)
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\index{Compute\+Max\+Interp@{Compute\+Max\+Interp}!Compute@{Compute}}
\index{Compute@{Compute}!Compute\+Max\+Interp@{Compute\+Max\+Interp}}
\subsubsection[{\texorpdfstring{Compute(\+T $\ast$data, int len, const T $\ast$weights, Lsq\+Sq\+Quad\+Fit$<$ T $>$ $\ast$fit=0)}{Compute(T *data, int len, const T *weights, LsqSqQuadFit< T > *fit=0)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , int num\+Pts = 3$>$ static {\bf C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T {\bf Compute\+Max\+Interp}$<$ T, num\+Pts $>$\+::Compute (
\begin{DoxyParamCaption}
\item[{T $\ast$}]{data, }
\item[{int}]{len, }
\item[{const T $\ast$}]{weights, }
\item[{{\bf Lsq\+Sq\+Quad\+Fit}$<$ T $>$ $\ast$}]{fit = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_compute_max_interp_aa1ec2481d8a866f624f05ba53fb2d3bc}{}\label{class_compute_max_interp_aa1ec2481d8a866f624f05ba53fb2d3bc}

\begin{DoxyCode}
147     \{
148         \textcolor{keywordtype}{int} iMax=0;
149         T vMax=data[0];
150         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=1;k<len;k++) \{
151             \textcolor{keywordflow}{if} (data[k]>vMax) \{
152                 vMax = data[k];
153                 iMax = k;
154             \}
155         \}
156         T xs[numPts];
157         \textcolor{keywordtype}{int} startPos = \hyperlink{class_compute_max_interp_aca1d7eb7e01f35799fb57a6ba12703a2}{max\_}(iMax-numPts/2, 0);
158         \textcolor{keywordtype}{int} endPos = \hyperlink{class_compute_max_interp_a7182479e13541d98b5d0ba6f65eff902}{min\_}(iMax+(numPts-numPts/2), len);
159         \textcolor{keywordtype}{int} numpoints = endPos - startPos;
160 
161         \textcolor{keywordflow}{if} (numpoints<3)
162             \textcolor{keywordflow}{return} iMax;
163         \textcolor{keywordflow}{else} \{
164             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=startPos;i<endPos;i++)
165                 xs[i-startPos] = i-iMax;
166 
167             \hyperlink{class_lsq_sq_quad_fit}{LsqSqQuadFit<T>} qfit(numpoints, xs, &data[startPos], weights);
168             \textcolor{keywordflow}{if} (fit) *fit = qfit;
169             \textcolor{comment}{//printf("iMax: %d. qfit: data[%d]=%f\(\backslash\)n", iMax, startPos, data[startPos]);}
170             \textcolor{comment}{//for (int k=0;k<numpoints;k++) \{}
171         \textcolor{comment}{//      printf("data[%d]=%f\(\backslash\)n", startPos+k, data[startPos]);}
172             \textcolor{comment}{//\}}
173 
174             \textcolor{keywordflow}{if} (fabs(qfit.a)<1e-9f)
175                 \textcolor{keywordflow}{return} (T)iMax;
176             \textcolor{keywordflow}{else} \{
177                 T interpMax = qfit.\hyperlink{class_lsq_sq_quad_fit_a91c3733e1e6485615966eb64e61305ae}{maxPos}();
178                 \textcolor{keywordflow}{return} (T)iMax + interpMax;
179             \}
180         \}
181     \}
\end{DoxyCode}
\index{Compute\+Max\+Interp@{Compute\+Max\+Interp}!max\+\_\+@{max\+\_\+}}
\index{max\+\_\+@{max\+\_\+}!Compute\+Max\+Interp@{Compute\+Max\+Interp}}
\subsubsection[{\texorpdfstring{max\+\_\+(\+T a, T b)}{max_(T a, T b)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , int num\+Pts = 3$>$ static {\bf C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T {\bf Compute\+Max\+Interp}$<$ T, num\+Pts $>$\+::max\+\_\+ (
\begin{DoxyParamCaption}
\item[{T}]{a, }
\item[{T}]{b}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_compute_max_interp_aca1d7eb7e01f35799fb57a6ba12703a2}{}\label{class_compute_max_interp_aca1d7eb7e01f35799fb57a6ba12703a2}

\begin{DoxyCode}
143 \{ \textcolor{keywordflow}{return} a>b ? a : b; \}
\end{DoxyCode}
\index{Compute\+Max\+Interp@{Compute\+Max\+Interp}!min\+\_\+@{min\+\_\+}}
\index{min\+\_\+@{min\+\_\+}!Compute\+Max\+Interp@{Compute\+Max\+Interp}}
\subsubsection[{\texorpdfstring{min\+\_\+(\+T a, T b)}{min_(T a, T b)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , int num\+Pts = 3$>$ static {\bf C\+U\+D\+A\+\_\+\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+F\+U\+NC} T {\bf Compute\+Max\+Interp}$<$ T, num\+Pts $>$\+::min\+\_\+ (
\begin{DoxyParamCaption}
\item[{T}]{a, }
\item[{T}]{b}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_compute_max_interp_a7182479e13541d98b5d0ba6f65eff902}{}\label{class_compute_max_interp_a7182479e13541d98b5d0ba6f65eff902}

\begin{DoxyCode}
144 \{ \textcolor{keywordflow}{return} a<b ? a : b; \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cputrack/\hyperlink{_lsq_quadratic_fit_8h}{Lsq\+Quadratic\+Fit.\+h}\end{DoxyCompactItemize}
