\hypertarget{class_queued_c_p_u_tracker}{}\section{Queued\+C\+P\+U\+Tracker Class Reference}
\label{class_queued_c_p_u_tracker}\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}


C\+PU implementation of the \hyperlink{class_queued_tracker}{Queued\+Tracker} interface.  




{\ttfamily \#include $<$Queued\+C\+P\+U\+Tracker.\+h$>$}

Inheritance diagram for Queued\+C\+P\+U\+Tracker\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_queued_c_p_u_tracker}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job}
\item 
struct \hyperlink{struct_queued_c_p_u_tracker_1_1_thread}{Thread}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_queued_c_p_u_tracker_a596570348d7ddc545c3823a10ac21c56}{Queued\+C\+P\+U\+Tracker} (const \hyperlink{struct_q_trk_computed_config}{Q\+Trk\+Computed\+Config} \&cc)
\item 
\hyperlink{class_queued_c_p_u_tracker_a27569181cf04bf0872aadd72a0c5560a}{$\sim$\+Queued\+C\+P\+U\+Tracker} ()
\item 
void \hyperlink{class_queued_c_p_u_tracker_a1094604fc95b81cd43327606001d84ec}{Start} ()
\item 
void \hyperlink{class_queued_c_p_u_tracker_a3ae7b15c688e8a632ff10a0a5b8ccdd0}{Break} (bool pause)
\item 
void \hyperlink{class_queued_c_p_u_tracker_a0901736328051388ed2dceb94a3b378f}{Generate\+Test\+Image} (float $\ast$dst, float xp, float yp, float z, float photoncount)
\item 
int \hyperlink{class_queued_c_p_u_tracker_ab72dd2ac1e12de11115f1cd96c9e51cd}{Num\+Threads} ()
\item 
void \hyperlink{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}{Set\+Localization\+Mode} (\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{Loc\+Mode\+\_\+t} lt) override
\begin{DoxyCompactList}\small\item\em Select which algorithm is to be used. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}{Set\+Radial\+Z\+L\+UT} (float $\ast$data, int num\+\_\+zluts, int planes) override
\begin{DoxyCompactList}\small\item\em Set the radial lookup tables to be used for z tracking. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a9c4f1687ca9347508594a9df46defad8}{Get\+Radial\+Z\+L\+UT} (float $\ast$zlut) override
\begin{DoxyCompactList}\small\item\em Get the radial lookup tables used for z tracking. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a57c77fc0ceada2aeffc018970d9d18d8}{Get\+Radial\+Z\+L\+U\+T\+Size} (int \&count, int \&planes, int \&rsteps) override
\begin{DoxyCompactList}\small\item\em Get the dimensions of the radial lookup table data. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a070149d1ecf38176ae2cc84a71f3851f}{Set\+Radial\+Weights} (float $\ast$rweights) override
\begin{DoxyCompactList}\small\item\em Set radial weights used for comparing L\+UT profiles. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_ab16da04344186411198d646df47f1218}{Set\+Radial\+Weights} (std\+::vector$<$ float $>$ weights)
\item 
void \hyperlink{class_queued_c_p_u_tracker_aefc2afb79c4347dbbbd66d84cfd8787f}{Schedule\+Localization} (void $\ast$data, int pitch, \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0b}{Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type} pdt, const \hyperlink{struct_localization_job}{Localization\+Job} $\ast$job\+Info) override
\begin{DoxyCompactList}\small\item\em Add a job to the queue to be processed. A job entails running the required algorithms on a single region of interest. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_accb203fae1a724f6ac870c4dc402dda7}{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile} (bool enabled)
\begin{DoxyCompactList}\small\item\em Set a flag to enable saving of error curves. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_afdc97ea9b0e7eba6d2678a0536c39c37}{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile} (float $\ast$dst)
\begin{DoxyCompactList}\small\item\em Get saved error curve. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_adc3feb62a374abea02f4f9502c08c42c}{Z\+L\+U\+T\+Self\+Test} ()
\item 
void \hyperlink{class_queued_c_p_u_tracker_af4b7390a38d56cc45670a60586e20051}{Begin\+L\+UT} (\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} flags)
\item 
void \hyperlink{class_queued_c_p_u_tracker_ac73750c7446b69b070ab24742b02660f}{Build\+L\+UT} (void $\ast$data, int pitch, \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0b}{Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type} pdt, int plane, \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f} $\ast$known\+\_\+pos=0) override
\item 
void \hyperlink{class_queued_c_p_u_tracker_a9d94101b69e1f514473bfedc012ec785}{Finalize\+L\+UT} () override
\item 
void \hyperlink{class_queued_c_p_u_tracker_a399b87fd1542b05fc9e9c80c1dd6b664}{Get\+Image\+Z\+L\+U\+T\+Size} (int $\ast$dims)
\begin{DoxyCompactList}\small\item\em Get the dimensions of the image lookup table data. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a53b0d922963c771e804fb624f7d39821}{Get\+Image\+Z\+L\+UT} (float $\ast$dst)
\begin{DoxyCompactList}\small\item\em Get the image lookup tables used. \end{DoxyCompactList}\item 
bool \hyperlink{class_queued_c_p_u_tracker_a151a19c5ba686c62d1fc47fa0eb1ef95}{Set\+Image\+Z\+L\+UT} (float $\ast$dst, float $\ast$radial\+\_\+zlut, int $\ast$dims)
\begin{DoxyCompactList}\small\item\em Set the image lookup tables to be used for z tracking. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a7574f92390c674ddcbb35cefc6e87da5}{Set\+Pixel\+Calibration\+Images} (float $\ast$offset, float $\ast$gain) override
\item 
void \hyperlink{class_queued_c_p_u_tracker_a94903982ee31eced25b4640b12a4bc56}{Set\+Pixel\+Calibration\+Factors} (float offset\+Factor, float gain\+Factor) override
\item 
int \hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{Get\+Queue\+Length} (int $\ast$max\+Queue\+Length=0) override
\item 
int \hyperlink{class_queued_c_p_u_tracker_a8e74a4528a84ac83624d217e62cdef05}{Fetch\+Results} (\hyperlink{struct_localization_result}{Localization\+Result} $\ast$\hyperlink{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}{results}, int max\+Results) override
\item 
void \hyperlink{class_queued_c_p_u_tracker_a24f0731281b361dfb857448ce98d0aa3}{Clear\+Results} () override
\begin{DoxyCompactList}\small\item\em Clear results. \end{DoxyCompactList}\item 
void \hyperlink{class_queued_c_p_u_tracker_a9b332b6fb228e9c655eb2fb12d8dfbc6}{Flush} () override
\begin{DoxyCompactList}\small\item\em Stop waiting for more jobs to do, and just process the current batch. \end{DoxyCompactList}\item 
bool \hyperlink{class_queued_c_p_u_tracker_a16ec7c17782c4f001dec0dab12970cba}{Is\+Idle} () override
\item 
int \hyperlink{class_queued_c_p_u_tracker_a0424c92dec3952cf9197a5a9161e2188}{Get\+Result\+Count} () override
\item 
bool \hyperlink{class_queued_c_p_u_tracker_a4db75a5bfcb5ee2891177da9f6448557}{Get\+Debug\+Image} (int id, int $\ast$w, int $\ast$h, float $\ast$$\ast$data)
\item 
\hyperlink{class_queued_tracker_af6073682cd9e87e6f3e84f93cf9be373}{Config\+Value\+Map} \hyperlink{class_queued_c_p_u_tracker_af06013bc5f92d5570aa6244ca1768fcf}{Get\+Config\+Values} () override
\item 
void \hyperlink{class_queued_c_p_u_tracker_a1d67ecf808b54866d49babb654d32894}{Set\+Config\+Value} (std\+::string name, std\+::string value) override
\item 
std\+::string \hyperlink{class_queued_c_p_u_tracker_a241d002353241975d49c1e80cd967524}{Get\+Profile\+Report} ()
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}{Get\+Z\+L\+U\+T\+By\+Index} (int index)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_queued_c_p_u_tracker_ab140a55e7bb53cb4c5ad75e686d11621}{Update\+Z\+L\+U\+Ts} ()
\item 
int \hyperlink{class_queued_c_p_u_tracker_abc03e0debdfed1f1dcf17b2fe548ed55}{Image\+L\+U\+T\+Num\+Beads} ()
\item 
int \hyperlink{class_queued_c_p_u_tracker_a7c66d7294271781f726fc37a8778ac38}{Image\+L\+U\+T\+Width} ()
\item 
int \hyperlink{class_queued_c_p_u_tracker_a2cbe22c62e73f8c14bfe8fedf679a747}{Image\+L\+U\+T\+Height} ()
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a93bcd0a51e3ad99eea9c1a2c89aad5ca}{Get\+Image\+L\+U\+T\+By\+Index} (int index, int plane=0)
\item 
void \hyperlink{class_queued_c_p_u_tracker_a2ac0a94b7cef62813fe1698ebc3b6a3d}{Job\+Finished} (\hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$j)
\item 
\hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$ \hyperlink{class_queued_c_p_u_tracker_a2839a72ef9815ce32465a47ca8bfd01b}{Get\+Next\+Job} ()
\item 
\hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$ \hyperlink{class_queued_c_p_u_tracker_a5791133fa3b770a231d91b91d27bfed7}{Allocate\+Job} ()
\item 
void \hyperlink{class_queued_c_p_u_tracker_aa71806abbaa3a586aa0be750af7514bf}{Add\+Job} (\hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$j)
\item 
void \hyperlink{class_queued_c_p_u_tracker_a3c827ffb590b8e80b7e5a585f432ace9}{Process\+Job} (\hyperlink{struct_queued_c_p_u_tracker_1_1_thread}{Thread} $\ast$th, \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$j)
\item 
void \hyperlink{class_queued_c_p_u_tracker_a7817003628ae040aaed49716d6ad7d6c}{Set\+Tracker\+Image} (\hyperlink{class_c_p_u_tracker}{C\+P\+U\+Tracker} $\ast$trk, \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$job)
\item 
void \hyperlink{class_queued_c_p_u_tracker_af20f1af3e29c62b0e16f3803b9c9ad43}{Apply\+Offset\+Gain} (\hyperlink{class_c_p_u_tracker}{C\+P\+U\+Tracker} $\ast$trk, int bead\+Index)
\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{class_queued_c_p_u_tracker_ac6d5c0b441567c7da19bb864b885ecb3}{Worker\+Thread\+Main} (void $\ast$arg)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{qtrk__c__api_8h_a6ba72ec1daa19642f85a47defe8f0812}{Loc\+Mode\+\_\+t} \hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localize\+Mode}
\item 
\hyperlink{struct_threads_1_1_mutex}{Threads\+::\+Mutex} \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\+\_\+mutex}
\item 
\hyperlink{struct_threads_1_1_mutex}{Threads\+::\+Mutex} \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\+\_\+buffer\+\_\+mutex}
\item 
\hyperlink{struct_threads_1_1_mutex}{Threads\+::\+Mutex} \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\+\_\+mutex}
\item 
std\+::deque$<$ \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$ $>$ \hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs}
\item 
int \hyperlink{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{job\+Count}
\item 
std\+::vector$<$ \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{Job} $\ast$ $>$ \hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\+\_\+buffer}
\item 
std\+::deque$<$ \hyperlink{struct_localization_result}{Localization\+Result} $>$ \hyperlink{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}{results}
\item 
int \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{result\+Count}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{max\+Queue\+Size}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{jobs\+In\+Progress}
\item 
\hyperlink{struct_threads_1_1_mutex}{Threads\+::\+Mutex} \hyperlink{class_queued_c_p_u_tracker_aa132b16144343a84589cf8b5318f07b0}{gc\+\_\+mutex}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\+\_\+gain}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\+\_\+offset}
\item 
float \hyperlink{class_queued_c_p_u_tracker_a286e6579f5a35ad2b1b935bb473621b5}{gc\+\_\+gain\+Factor}
\item 
float \hyperlink{class_queued_c_p_u_tracker_a0b88b6b96bb6afa945383bf1dc2a764d}{gc\+\_\+offset\+Factor}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a61d134a809e2c7917be42af542922870}{downsample\+Width}
\item 
int \hyperlink{class_queued_c_p_u_tracker_aa4819d54f418b04de8da8a14b8a9af7d}{downsample\+Height}
\item 
std\+::vector$<$ \hyperlink{struct_queued_c_p_u_tracker_1_1_thread}{Thread} $>$ \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\+\_\+cmpprofiles}
\item 
bool \hyperlink{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}{zlut\+\_\+enablecmpprof}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\+\_\+count}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\+\_\+planes}
\item 
\hyperlink{std__incl_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} \hyperlink{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}{zlut\+\_\+buildflags}
\item 
std\+::vector$<$ float $>$ \hyperlink{class_queued_c_p_u_tracker_a318963eb81d408fa2d94335448b8207c}{zcmp}
\item 
std\+::vector$<$ float $>$ \hyperlink{class_queued_c_p_u_tracker_ab770ea114960e88426fa030cb93ea3c1}{qi\+\_\+radialbinweights}
\item 
int \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\+\_\+lut\+\_\+dims} \mbox{[}4\mbox{]}
\item 
int \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\+\_\+lut}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\+\_\+lut\+\_\+dz}
\item 
float $\ast$ \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\+\_\+lut\+\_\+dz2}
\item 
bool \hyperlink{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{quit\+Work}
\item 
bool \hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{process\+Jobs}
\item 
bool \hyperlink{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{dbg\+Print\+Results}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
C\+PU implementation of the \hyperlink{class_queued_tracker}{Queued\+Tracker} interface. 

Creates and maintains multiple threads (one per available core by default) and schedules localizations over them. Each thread has its own \hyperlink{class_c_p_u_tracker}{C\+P\+U\+Tracker} instance which provides the actual calculations. 

\subsection{Constructor \& Destructor Documentation}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Queued\+C\+P\+U\+Tracker(const Q\+Trk\+Computed\+Config \&cc)}{QueuedCPUTracker(const QTrkComputedConfig &cc)}}]{\setlength{\rightskip}{0pt plus 5cm}Queued\+C\+P\+U\+Tracker\+::\+Queued\+C\+P\+U\+Tracker (
\begin{DoxyParamCaption}
\item[{const {\bf Q\+Trk\+Computed\+Config} \&}]{cc}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_a596570348d7ddc545c3823a10ac21c56}{}\label{class_queued_c_p_u_tracker_a596570348d7ddc545c3823a10ac21c56}

\begin{DoxyCode}
97     : \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}(\textcolor{stringliteral}{"jobs"}), \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\_buffer\_mutex}(\textcolor{stringliteral}{"jobs\_buffer"}), 
      \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}(\textcolor{stringliteral}{"results"})
98 \{
99     \textcolor{keywordflow}{if}(0)\{\textcolor{comment}{//cc.testRun)\{}
100         std::string folder = \hyperlink{utils_8cpp_a5db0cac9cdabe121a5e8f63bb22c3cc4}{GetCurrentOutputPath}();
101         \textcolor{keywordflow}{if}(GetFileAttributesA(folder.c\_str()) & FILE\_ATTRIBUTE\_DIRECTORY)
102             CreateDirectory((LPCTSTR)folder.c\_str(),NULL);
103     \}
104     
105     \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg} = cc;
106     \hyperlink{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{quitWork} = \textcolor{keyword}{false};
107 
108     \textcolor{keywordflow}{if} (cfg.numThreads < 0) \{
109         cfg.numThreads = \hyperlink{struct_threads_acb1d9a14cf18f2fcbc1bf07f51b4ba81}{Threads::GetCPUCount}();
110         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"Using %d threads\(\backslash\)n"}, cfg.numThreads);
111     \} 
112 
113     \hyperlink{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{maxQueueSize} = std::max(2,cfg.numThreads) * 250;
114     \hyperlink{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{jobCount} = 0;
115     \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{resultCount} = 0;
116 
117     \hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles} = 0;
118     \hyperlink{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}{zlut\_enablecmpprof} = \textcolor{keyword}{false};
119     \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts} = 0;
120     \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count} = \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes} = 0;
121     \hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{processJobs} = \textcolor{keyword}{false};
122     \hyperlink{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{jobsInProgress} = 0;
123     \hyperlink{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{dbgPrintResults} = \textcolor{keyword}{false};
124 
125     \hyperlink{class_queued_c_p_u_tracker_ab770ea114960e88426fa030cb93ea3c1}{qi\_radialbinweights} = \hyperlink{utils_8cpp_a8657c1536ca3621943042411f4644e21}{ComputeRadialBinWindow}(cfg.
      qi\_radialsteps);
126     
127     \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} = \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} = 0;
128     \hyperlink{class_queued_c_p_u_tracker_a286e6579f5a35ad2b1b935bb473621b5}{gc\_gainFactor} = \hyperlink{class_queued_c_p_u_tracker_a0b88b6b96bb6afa945383bf1dc2a764d}{gc\_offsetFactor} = 1.0f;
129     \hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} = \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bab236233599e4b1d5ab369a574d63181d}{LT\_OnlyCOM};
130 
131     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<4;i++) \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[i]=0;
132     \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead}=0;
133     \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut} = 0;
134     \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz} = \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2} = 0;
135 
136     \hyperlink{class_queued_c_p_u_tracker_a61d134a809e2c7917be42af542922870}{downsampleWidth} = cfg.width >> cfg.downsample;
137     \hyperlink{class_queued_c_p_u_tracker_aa4819d54f418b04de8da8a14b8a9af7d}{downsampleHeight} = cfg.height >> cfg.downsample;
138 
139     \hyperlink{class_queued_c_p_u_tracker_a1094604fc95b81cd43327606001d84ec}{Start}();
140 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!````~Queued\+C\+P\+U\+Tracker@{$\sim$\+Queued\+C\+P\+U\+Tracker}}
\index{````~Queued\+C\+P\+U\+Tracker@{$\sim$\+Queued\+C\+P\+U\+Tracker}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{$\sim$\+Queued\+C\+P\+U\+Tracker()}{~QueuedCPUTracker()}}]{\setlength{\rightskip}{0pt plus 5cm}Queued\+C\+P\+U\+Tracker\+::$\sim$\+Queued\+C\+P\+U\+Tracker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_a27569181cf04bf0872aadd72a0c5560a}{}\label{class_queued_c_p_u_tracker_a27569181cf04bf0872aadd72a0c5560a}

\begin{DoxyCode}
143 \{
144     \textcolor{comment}{// wait for threads to finish}
145     \hyperlink{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{quitWork} = \textcolor{keyword}{true};
146 
147     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0;k<\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.size();k++) \{
148         \textcolor{keyword}{delete} \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].mutex;
149         \hyperlink{struct_threads_a66c81807dee0d29c5ae6d254860e94d2}{Threads::WaitAndClose}(\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].thread);
150         \textcolor{keyword}{delete} \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].tracker;
151     \}
152 
153     \textcolor{comment}{// free job memory}
154     \hyperlink{utils_8h_a79b36225c16ffe10c47c2aae8bee2d99}{DeleteAllElems}(\hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs});
155     \hyperlink{utils_8h_a79b36225c16ffe10c47c2aae8bee2d99}{DeleteAllElems}(\hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\_buffer});
156 
157     \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain};
158     \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset};
159     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts};
160     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles};
161     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut};
162     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz};
163     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2};
164 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Add\+Job@{Add\+Job}}
\index{Add\+Job@{Add\+Job}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Add\+Job(\+Job $\ast$j)}{AddJob(Job *j)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Add\+Job (
\begin{DoxyParamCaption}
\item[{{\bf Job} $\ast$}]{j}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_aa71806abbaa3a586aa0be750af7514bf}{}\label{class_queued_c_p_u_tracker_aa71806abbaa3a586aa0be750af7514bf}

\begin{DoxyCode}
76 \{
77     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
78     \hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs}.push\_back(j);
79     \hyperlink{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{jobCount}++;
80     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
81 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Allocate\+Job@{Allocate\+Job}}
\index{Allocate\+Job@{Allocate\+Job}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Allocate\+Job()}{AllocateJob()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Queued\+C\+P\+U\+Tracker\+::\+Job} $\ast$ Queued\+C\+P\+U\+Tracker\+::\+Allocate\+Job (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a5791133fa3b770a231d91b91d27bfed7}{}\label{class_queued_c_p_u_tracker_a5791133fa3b770a231d91b91d27bfed7}

\begin{DoxyCode}
63 \{
64     \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{QueuedCPUTracker::Job} *j;
65     \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\_buffer\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
66     \textcolor{keywordflow}{if} (!\hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\_buffer}.empty()) \{
67         j = \hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\_buffer}.back();
68         \hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\_buffer}.pop\_back();
69     \} \textcolor{keywordflow}{else} 
70         j = \textcolor{keyword}{new} Job;
71     \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\_buffer\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
72     \textcolor{keywordflow}{return} j;
73 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Apply\+Offset\+Gain@{Apply\+Offset\+Gain}}
\index{Apply\+Offset\+Gain@{Apply\+Offset\+Gain}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Apply\+Offset\+Gain(\+C\+P\+U\+Tracker $\ast$trk, int bead\+Index)}{ApplyOffsetGain(CPUTracker *trk, int beadIndex)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Apply\+Offset\+Gain (
\begin{DoxyParamCaption}
\item[{{\bf C\+P\+U\+Tracker} $\ast$}]{trk, }
\item[{int}]{bead\+Index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_af20f1af3e29c62b0e16f3803b9c9ad43}{}\label{class_queued_c_p_u_tracker_af20f1af3e29c62b0e16f3803b9c9ad43}

\begin{DoxyCode}
260 \{
261     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} || \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain}) \{
262         \textcolor{keywordtype}{int} index = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}*beadIndex;
263 
264         \textcolor{comment}{//gc\_mutex.lock();}
265         \textcolor{comment}{//float gf = gc\_gainFactor, of = gc\_offsetFactor;}
266         \textcolor{comment}{//gc\_mutex.unlock();}
267         \textcolor{keywordtype}{float} gf=1,of=1;
268 
269         trk->\hyperlink{class_c_p_u_tracker_a97e9bde337abe501b108f5aac09c7db9}{ApplyOffsetGain}(\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} ? &
      \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset}[index] : 0, \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} ? &\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain}[index] : 0, of, gf);
270 \textcolor{comment}{//      if (j->job.frame%100==0)}
271     \}
272 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Begin\+L\+UT@{Begin\+L\+UT}}
\index{Begin\+L\+UT@{Begin\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Begin\+L\+U\+T(uint flags)}{BeginLUT(uint flags)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Begin\+L\+UT (
\begin{DoxyParamCaption}
\item[{{\bf uint}}]{flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_af4b7390a38d56cc45670a60586e20051}{}\label{class_queued_c_p_u_tracker_af4b7390a38d56cc45670a60586e20051}


Implements \hyperlink{class_queued_tracker_aee4863d19778314cd30499cb85bd5251}{Queued\+Tracker}.


\begin{DoxyCode}
581 \{
582     \hyperlink{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}{zlut\_buildflags} = flags;
583 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Break@{Break}}
\index{Break@{Break}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Break(bool pause)}{Break(bool pause)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Break (
\begin{DoxyParamCaption}
\item[{bool}]{pause}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_a3ae7b15c688e8a632ff10a0a5b8ccdd0}{}\label{class_queued_c_p_u_tracker_a3ae7b15c688e8a632ff10a0a5b8ccdd0}

\begin{DoxyCode}
209 \{
210     \hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{processJobs} = !brk;
211 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Build\+L\+UT@{Build\+L\+UT}}
\index{Build\+L\+UT@{Build\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Build\+L\+U\+T(void $\ast$data, int pitch, Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type pdt, int plane, vector2f $\ast$known\+\_\+pos=0) override}{BuildLUT(void *data, int pitch, QTRK_PixelDataType pdt, int plane, vector2f *known_pos=0) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Build\+L\+UT (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data, }
\item[{int}]{pitch, }
\item[{{\bf Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type}}]{pdt, }
\item[{int}]{plane, }
\item[{{\bf vector2f} $\ast$}]{known\+\_\+pos = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_ac73750c7446b69b070ab24742b02660f}{}\label{class_queued_c_p_u_tracker_ac73750c7446b69b070ab24742b02660f}


Implements \hyperlink{class_queued_tracker_aaeb04a5a2a4fe47ef48b8aefabc1bdb7}{Queued\+Tracker}.


\begin{DoxyCode}
586 \{
587     \hyperlink{threads_8h_a6693c34b211b5d81e0d7a362457d0449}{parallel\_for}(\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count},[&] (\textcolor{keywordtype}{int} i) \{
588 \textcolor{comment}{//  for(int i=0;i<zlut\_count;i++) \{}
589         \hyperlink{class_c_p_u_tracker}{CPUTracker} trk (\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
590         \textcolor{keywordtype}{void} *img\_data = (\hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}*)data + pitch * \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height} * i;
591 
592         if (pdt == \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0bafeece00bcf1a42419e686ef0cf006a4e}{QTrkFloat}) \{
593             trk.SetImage((\textcolor{keywordtype}{float}*)img\_data, pitch);
594         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pdt == \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0baed6124f6daf00bc0e0f4817986bad3a1}{QTrkU8}) \{
595             trk.SetImage8Bit((\hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}*)img\_data, pitch);
596         \} \textcolor{keywordflow}{else} \{
597             trk.SetImage16Bit((\hyperlink{std__incl_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}*)img\_data,pitch);
598         \}
599         \hyperlink{class_queued_c_p_u_tracker_af20f1af3e29c62b0e16f3803b9c9ad43}{ApplyOffsetGain}(&trk, i);
600 
601         \hyperlink{structvector2}{vector2f} pos;
602 
603         \textcolor{keywordflow}{if} (known\_pos) \{
604             pos = known\_pos[i];
605         \} \textcolor{keywordflow}{else} \{
606             \hyperlink{structvector2}{vector2f} com = trk.ComputeMeanAndCOM();
607             \textcolor{keywordtype}{bool} bhit;
608             pos = trk.ComputeQI(com, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_ab1a11e7a567a3267c57f77626c6c9c93}{qi\_radialsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a1ba87257b24e5b7e427aa92dd4114792}{qi\_angstepspq}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_a9784dbeb638bde1f3204f9ca5af720c6}{qi\_maxradius}, bhit);
609             \textcolor{comment}{//dbgprintf("BuildLUT() COMPos: %f,%f, QIPos: x=%f, y=%f\(\backslash\)n", com.x,com.y, pos.x, pos.y);}
610         \}
611         \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}{zlut\_buildflags} & \hyperlink{_queued_tracker_8h_ae264b7a73c89ed4c64ebd3cb6d2fb7f2}{BUILDLUT\_IMAGELUT}) \{
612             \textcolor{keywordtype}{int} h=\hyperlink{class_queued_c_p_u_tracker_a2cbe22c62e73f8c14bfe8fedf679a747}{ImageLUTHeight}(), w=\hyperlink{class_queued_c_p_u_tracker_a7c66d7294271781f726fc37a8778ac38}{ImageLUTWidth}();
613             \textcolor{keywordtype}{float}* lut\_dst = &\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}[ i * \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} + w*
      h* plane ];
614 
615             \hyperlink{structvector2}{vector2f} ilut\_scale(1,1);
616             \textcolor{keywordtype}{float} startx = pos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} - w/2*ilut\_scale.x;
617             \textcolor{keywordtype}{float} starty = pos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} - h/2*ilut\_scale.y;
618 
619             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y=0;y<h;y++) \{
620                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<w;x++) \{
621 
622                     \textcolor{keywordtype}{float} px = startx + x*ilut\_scale.x;
623                     \textcolor{keywordtype}{float} py = starty + y*ilut\_scale.y;
624 
625                     \textcolor{keywordtype}{bool} outside=\textcolor{keyword}{false};
626                     \textcolor{keywordtype}{float} v = \hyperlink{utils_8h_aa9cfad3280334f04e799bb33b442f653}{Interpolate}(trk.srcImage, trk.width, trk.height, px, py, &outside)
      ;
627                     lut\_dst[y*w+x] += v - trk.mean;
628                 \}
629             \}
630         \}
631 
632         \textcolor{keywordtype}{float} *bead\_zlut=\hyperlink{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}{GetZLUTByIndex}(i);
633         \textcolor{keywordtype}{float} *tmp = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}];
634 
635         \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}{zlut\_buildflags}  & \hyperlink{_queued_tracker_8h_a7ac0cdfdebce92a9636d9ba1fcff35d7}{BUILDLUT\_FOURIER})\{
636             trk.FourierRadialProfile(tmp, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius});
637             \textcolor{keywordflow}{if} (plane==0) \{
638                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<trk.width*trk.height;i++)
639                     trk.srcImage[i]=sqrtf(trk.srcImage[i]);
640                 trk.SaveImage(\textcolor{stringliteral}{"freqimg.jpg"});
641             \}
642         \} \textcolor{keywordflow}{else} \{
643             trk.ComputeRadialProfile(tmp, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, pos, \textcolor{keyword}{false});
644         \}
645     \textcolor{comment}{//  WriteArrayAsCSVRow("rlut-test.csv", tmp, cfg.zlut\_radialsteps, plane>0);}
646         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps};i++) 
647             bead\_zlut[plane*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}+i] += tmp[i];
648         \textcolor{keyword}{delete}[] tmp;
649     \} );
650 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Clear\+Results@{Clear\+Results}}
\index{Clear\+Results@{Clear\+Results}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Clear\+Results() override}{ClearResults() override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Clear\+Results (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a24f0731281b361dfb857448ce98d0aa3}{}\label{class_queued_c_p_u_tracker_a24f0731281b361dfb857448ce98d0aa3}


Clear results. 



Implements \hyperlink{class_queued_tracker_a5e46c8ce4bd3b965bedd8aac095304c2}{Queued\+Tracker}.


\begin{DoxyCode}
30 \{
31     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
32     \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{resultCount} = 0;
33     \hyperlink{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}{results}.clear();
34     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
35 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile@{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile}}
\index{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile@{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile(bool enabled)}{EnableRadialZLUTCompareProfile(bool enabled)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile (
\begin{DoxyParamCaption}
\item[{bool}]{enabled}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_accb203fae1a724f6ac870c4dc402dda7}{}\label{class_queued_c_p_u_tracker_accb203fae1a724f6ac870c4dc402dda7}


Set a flag to enable saving of error curves. 

Errors obtained by comparing a radial profile to a Z\+L\+UT will be kept in memory rather than destroyed. Only saves for one localization. Error curve can be retreived by \hyperlink{class_queued_c_p_u_tracker_afdc97ea9b0e7eba6d2678a0536c39c37}{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile}.

\begin{DoxyNote}{Note}
Not implemented for C\+U\+DA. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em enabled} & Flag (boolean) to save error curves. Default is false. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_a53791fa740351a32ff707be9688aa99d}{Queued\+Tracker}.


\begin{DoxyCode}
539 \{
540     \hyperlink{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}{zlut\_enablecmpprof}=enabled;
541 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Fetch\+Results@{Fetch\+Results}}
\index{Fetch\+Results@{Fetch\+Results}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Fetch\+Results(\+Localization\+Result $\ast$results, int max\+Results) override}{FetchResults(LocalizationResult *results, int maxResults) override}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Fetch\+Results (
\begin{DoxyParamCaption}
\item[{{\bf Localization\+Result} $\ast$}]{results, }
\item[{int}]{max\+Results}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a8e74a4528a84ac83624d217e62cdef05}{}\label{class_queued_c_p_u_tracker_a8e74a4528a84ac83624d217e62cdef05}


Implements \hyperlink{class_queued_tracker_a171688832558d40838790c90ba9f8fc0}{Queued\+Tracker}.


\begin{DoxyCode}
464 \{
465     \textcolor{keywordtype}{int} numResults = 0;
466     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
467     \textcolor{keywordflow}{while} (numResults < maxResults && !results.empty()) \{
468         dstResults[numResults++] = results.back();
469         results.pop\_back();
470         \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{resultCount}--;
471     \}
472     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
473     \textcolor{keywordflow}{return} numResults;
474 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Finalize\+L\+UT@{Finalize\+L\+UT}}
\index{Finalize\+L\+UT@{Finalize\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Finalize\+L\+U\+T() override}{FinalizeLUT() override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Finalize\+L\+UT (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a9d94101b69e1f514473bfedc012ec785}{}\label{class_queued_c_p_u_tracker_a9d94101b69e1f514473bfedc012ec785}


Implements \hyperlink{class_queued_tracker_aa856650c99d15216ad3246d3485b9d9e}{Queued\+Tracker}.


\begin{DoxyCode}
653 \{
654     \textcolor{comment}{// normalize radial LUT?}
655 
656     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}) \{
657         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count}*\hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes};i++) \{
658 
659         \textcolor{comment}{//  WriteArrayAsCSVRow("finalize-lut.csv", &zluts[cfg.zlut\_radialsteps*i], cfg.zlut\_radialsteps,
       i>0);}
660             \hyperlink{utils_8cpp_a404fa660440d30ed70566aebf9f9e94a}{NormalizeRadialProfile}(&\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}[\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}*i], \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps});
661 
662         \}
663     \}
664 
665     \textcolor{keywordtype}{int} w = \hyperlink{class_queued_c_p_u_tracker_a7c66d7294271781f726fc37a8778ac38}{ImageLUTWidth}();
666     \textcolor{keywordtype}{int} h = \hyperlink{class_queued_c_p_u_tracker_a2cbe22c62e73f8c14bfe8fedf679a747}{ImageLUTHeight}();
667 
668     \textcolor{keywordflow}{if} (w * h > 0) \{
669 
670         \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz} = \textcolor{keyword}{new} \textcolor{keywordtype}{float} [\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * 
      \hyperlink{class_queued_c_p_u_tracker_abc03e0debdfed1f1dcf17b2fe548ed55}{ImageLUTNumBeads}()];
671         \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2} = \textcolor{keyword}{new} \textcolor{keywordtype}{float} [\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * 
      \hyperlink{class_queued_c_p_u_tracker_abc03e0debdfed1f1dcf17b2fe548ed55}{ImageLUTNumBeads}()];
672 
673         \textcolor{comment}{// Compute 1st and 2nd order derivatives}
674         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[0];i++) \{
675             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} z=1;z<image\_lut\_dims[1]-1;z++) \{
676                 \textcolor{keywordtype}{float} *img = &\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*
      h*z ]; \textcolor{comment}{// current plane}
677                 \textcolor{keywordtype}{float} *imgL = &\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w
      *h*(z-1) ]; \textcolor{comment}{// one plane below}
678                 \textcolor{keywordtype}{float} *imgU = &\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w
      *h*(z+1) ]; \textcolor{comment}{// one plane above}
679 
680                 \textcolor{keywordtype}{float} *img\_dz = &\hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}[ 
      \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*z ];
681                 \textcolor{keywordtype}{float} *img\_dz2 = &\hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}[ 
      \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*z ];
682 
683                 \textcolor{comment}{// Numerical approx of derivatives..}
684                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y=0;y<h;y++) \{
685                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x=0;x<w;x++) \{
686                         \textcolor{keyword}{const} \textcolor{keywordtype}{float} h = 1.0f;
687                         img\_dz[y*w+x] = 0.5f * ( imgU[y*w+x] - imgL[y*w+x] ) / h;
688                         img\_dz2[y*w+x] = (imgU[y*w+x] - 2*img[y*w+x] + imgL[y*w+x]) / (h*h);
689                     \}
690                 \}
691             \}
692             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0;k<w*h;k++) \{
693                 \textcolor{comment}{// Top and bottom planes are simply copied from the neighbouring planes}
694                 \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*0 + k]
       = \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*1 + k];
695                 \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*(
      image\_lut\_dims[1]-1) + k] = \hyperlink{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{image\_lut\_dz}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*
      (image\_lut\_dims[1]-2) + k];
696                 \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*0 + 
      k] = \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*1 + k];
697                 \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + w*h*(
      image\_lut\_dims[1]-1) + k] = \hyperlink{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{image\_lut\_dz2}[ \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} * i + 
      w*h*(image\_lut\_dims[1]-2) + k];
698             \}
699         \}
700     \}
701 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Flush@{Flush}}
\index{Flush@{Flush}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Flush() override}{Flush() override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Flush (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a9b332b6fb228e9c655eb2fb12d8dfbc6}{}\label{class_queued_c_p_u_tracker_a9b332b6fb228e9c655eb2fb12d8dfbc6}


Stop waiting for more jobs to do, and just process the current batch. 



Implements \hyperlink{class_queued_tracker_a97cf826c17ab9b3e55d8ecd513d58098}{Queued\+Tracker}.


\begin{DoxyCode}
52 \{ \};
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Generate\+Test\+Image@{Generate\+Test\+Image}}
\index{Generate\+Test\+Image@{Generate\+Test\+Image}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Generate\+Test\+Image(float $\ast$dst, float xp, float yp, float z, float photoncount)}{GenerateTestImage(float *dst, float xp, float yp, float z, float photoncount)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Generate\+Test\+Image (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{dst, }
\item[{float}]{xp, }
\item[{float}]{yp, }
\item[{float}]{z, }
\item[{float}]{photoncount}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_a0901736328051388ed2dceb94a3b378f}{}\label{class_queued_c_p_u_tracker_a0901736328051388ed2dceb94a3b378f}

\begin{DoxyCode}
478 \{
479     \hyperlink{struct_t_image_data}{ImageData} img(dst,\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
480     \hyperlink{class_queued_c_p_u_tracker_a0901736328051388ed2dceb94a3b378f}{::GenerateTestImage}(img,xp,yp,z,photoncount);
481 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Config\+Values@{Get\+Config\+Values}}
\index{Get\+Config\+Values@{Get\+Config\+Values}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Config\+Values() override}{GetConfigValues() override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Queued\+Tracker\+::\+Config\+Value\+Map} Queued\+C\+P\+U\+Tracker\+::\+Get\+Config\+Values (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_af06013bc5f92d5570aa6244ca1768fcf}{}\label{class_queued_c_p_u_tracker_af06013bc5f92d5570aa6244ca1768fcf}


Implements \hyperlink{class_queued_tracker_afdb95cbf31f14716b3872e15a2319d62}{Queued\+Tracker}.


\begin{DoxyCode}
505 \{
506     \hyperlink{class_queued_tracker_af6073682cd9e87e6f3e84f93cf9be373}{ConfigValueMap} cvm;
507     cvm[\textcolor{stringliteral}{"trace"}] = \hyperlink{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{dbgPrintResults} ? \textcolor{stringliteral}{"1"} : \textcolor{stringliteral}{"0"};
508     \textcolor{keywordflow}{return} cvm;
509 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Debug\+Image@{Get\+Debug\+Image}}
\index{Get\+Debug\+Image@{Get\+Debug\+Image}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Debug\+Image(int id, int $\ast$w, int $\ast$h, float $\ast$$\ast$data)}{GetDebugImage(int id, int *w, int *h, float **data)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::\+Get\+Debug\+Image (
\begin{DoxyParamCaption}
\item[{int}]{id, }
\item[{int $\ast$}]{w, }
\item[{int $\ast$}]{h, }
\item[{float $\ast$$\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a4db75a5bfcb5ee2891177da9f6448557}{}\label{class_queued_c_p_u_tracker_a4db75a5bfcb5ee2891177da9f6448557}


Reimplemented from \hyperlink{class_queued_tracker_aeae109b520ca5b15e008030edfc179c4}{Queued\+Tracker}.


\begin{DoxyCode}
486 \{
487     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} >= 0 && \textcolor{keywordtype}{id} < \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.size()) \{
488         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[id].lock();
489 
490         *w = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width};
491         *h = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height};
492 
493         *data = \textcolor{keyword}{new} \textcolor{keywordtype}{float} [\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}];
494         memcpy(*data, \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[\textcolor{keywordtype}{id}].tracker->GetDebugImage(), \textcolor{keyword}{sizeof}(float)* 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
495         
496         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[id].unlock();
497         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
498     \}
499 
500     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
501 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Image\+L\+U\+T\+By\+Index@{Get\+Image\+L\+U\+T\+By\+Index}}
\index{Get\+Image\+L\+U\+T\+By\+Index@{Get\+Image\+L\+U\+T\+By\+Index}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Image\+L\+U\+T\+By\+Index(int index, int plane=0)}{GetImageLUTByIndex(int index, int plane=0)}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::\+Get\+Image\+L\+U\+T\+By\+Index (
\begin{DoxyParamCaption}
\item[{int}]{index, }
\item[{int}]{plane = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a93bcd0a51e3ad99eea9c1a2c89aad5ca}{}\label{class_queued_c_p_u_tracker_a93bcd0a51e3ad99eea9c1a2c89aad5ca}

\begin{DoxyCode}
118                                                       \{ 
119         \textcolor{keywordflow}{return} &\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut} [ index * \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} + plane * (
      \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[2]*\hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[3]) ]; 
120     \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Image\+Z\+L\+UT@{Get\+Image\+Z\+L\+UT}}
\index{Get\+Image\+Z\+L\+UT@{Get\+Image\+Z\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Image\+Z\+L\+U\+T(float $\ast$dst)}{GetImageZLUT(float *dst)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Get\+Image\+Z\+L\+UT (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a53b0d922963c771e804fb624f7d39821}{}\label{class_queued_c_p_u_tracker_a53b0d922963c771e804fb624f7d39821}


Get the image lookup tables used. 

\begin{DoxyNote}{Note}
Use of image L\+UT is currently not clear. Radial Z\+L\+UT is always used.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em dst} & Pointer to the pre-\/allocated memory in which to save the data. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_queued_tracker_af7d71b3673778f83f6494328182519ad}{Queued\+Tracker}.


\begin{DoxyCode}
532 \{
533     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}) \{
534         memcpy(dst, \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead}*
      \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[0]);
535     \}
536 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Image\+Z\+L\+U\+T\+Size@{Get\+Image\+Z\+L\+U\+T\+Size}}
\index{Get\+Image\+Z\+L\+U\+T\+Size@{Get\+Image\+Z\+L\+U\+T\+Size}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Image\+Z\+L\+U\+T\+Size(int $\ast$dims)}{GetImageZLUTSize(int *dims)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Get\+Image\+Z\+L\+U\+T\+Size (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{dims}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a399b87fd1542b05fc9e9c80c1dd6b664}{}\label{class_queued_c_p_u_tracker_a399b87fd1542b05fc9e9c80c1dd6b664}


Get the dimensions of the image lookup table data. 

\begin{DoxyNote}{Note}
Use of image L\+UT is currently not clear. Radial Z\+L\+UT is always used.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em dims} & Reference to pre-\/allocated int array. Returns \mbox{[} count, planes, height, width \mbox{]}. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_queued_tracker_a29cd6f896d8bcdd93ee4a54bb7823f97}{Queued\+Tracker}.


\begin{DoxyCode}
525 \{
526     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<4;i++)
527         dims[i]=\hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[i];
528 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Next\+Job@{Get\+Next\+Job}}
\index{Get\+Next\+Job@{Get\+Next\+Job}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Next\+Job()}{GetNextJob()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Queued\+C\+P\+U\+Tracker\+::\+Job} $\ast$ Queued\+C\+P\+U\+Tracker\+::\+Get\+Next\+Job (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a2839a72ef9815ce32465a47ca8bfd01b}{}\label{class_queued_c_p_u_tracker_a2839a72ef9815ce32465a47ca8bfd01b}

\begin{DoxyCode}
49 \{
50     \hyperlink{struct_queued_c_p_u_tracker_1_1_job}{QueuedCPUTracker::Job} *j = 0;
51     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
52     \textcolor{keywordflow}{if} (!\hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs}.empty()) \{
53         j = \hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs}.front();
54         \hyperlink{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{jobs}.pop\_front();
55         \hyperlink{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{jobCount} --;
56         \hyperlink{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{jobsInProgress} ++;
57     \}
58     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
59     \textcolor{keywordflow}{return} j;
60 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Profile\+Report@{Get\+Profile\+Report}}
\index{Get\+Profile\+Report@{Get\+Profile\+Report}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Profile\+Report()}{GetProfileReport()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Queued\+C\+P\+U\+Tracker\+::\+Get\+Profile\+Report (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a241d002353241975d49c1e80cd967524}{}\label{class_queued_c_p_u_tracker_a241d002353241975d49c1e80cd967524}


Reimplemented from \hyperlink{class_queued_tracker_afb595aa118f6cd87b4502d2cdfe53215}{Queued\+Tracker}.


\begin{DoxyCode}
61 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"CPU tracker currently has no profile reporting"}; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Queue\+Length@{Get\+Queue\+Length}}
\index{Get\+Queue\+Length@{Get\+Queue\+Length}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Queue\+Length(int $\ast$max\+Queue\+Length=0) override}{GetQueueLength(int *maxQueueLength=0) override}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Get\+Queue\+Length (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{max\+Queue\+Length = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{}\label{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}


Implements \hyperlink{class_queued_tracker_a7109701fb33a1eb1f4a5512205cb7bde}{Queued\+Tracker}.


\begin{DoxyCode}
84 \{
85     \textcolor{keywordtype}{int} jc;
86     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
87     jc = \hyperlink{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{jobCount} + \hyperlink{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{jobsInProgress};
88     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
89 
90     \textcolor{keywordflow}{if} (maxQueueLength) 
91         *maxQueueLength = this->\hyperlink{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{maxQueueSize};
92 
93     \textcolor{keywordflow}{return} jc;
94 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Radial\+Z\+L\+UT@{Get\+Radial\+Z\+L\+UT}}
\index{Get\+Radial\+Z\+L\+UT@{Get\+Radial\+Z\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Radial\+Z\+L\+U\+T(float $\ast$zlut) override}{GetRadialZLUT(float *zlut) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Get\+Radial\+Z\+L\+UT (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a9c4f1687ca9347508594a9df46defad8}{}\label{class_queued_c_p_u_tracker_a9c4f1687ca9347508594a9df46defad8}


Get the radial lookup tables used for z tracking. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em dst} & Pointer to the pre-\/allocated memory in which to save the data. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_a7e92adfa46401d802eaff7687e43dad7}{Queued\+Tracker}.


\begin{DoxyCode}
431 \{
432     \textcolor{keywordtype}{int} nElem = \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}*
      \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count};
433     \textcolor{keywordflow}{if} (nElem>0) \{
434         \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
435         memcpy(zlut, \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})* nElem);
436         \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
437     \}
438 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile@{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile}}
\index{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile@{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile(float $\ast$dst)}{GetRadialZLUTCompareProfile(float *dst)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Get\+Radial\+Z\+L\+U\+T\+Compare\+Profile (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_afdc97ea9b0e7eba6d2678a0536c39c37}{}\label{class_queued_c_p_u_tracker_afdc97ea9b0e7eba6d2678a0536c39c37}


Get saved error curve. 

See \hyperlink{class_queued_c_p_u_tracker_accb203fae1a724f6ac870c4dc402dda7}{Enable\+Radial\+Z\+L\+U\+T\+Compare\+Profile}. \begin{DoxyNote}{Note}
Not implemented for C\+U\+DA. 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dst} & Pointer to the pre-\/allocated memory in which to save the error curve. Size is {\ttfamily count} $\ast$ {\ttfamily planes}. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_ae6cc12f988a4f99d03a9783b4f978e7e}{Queued\+Tracker}.


\begin{DoxyCode}
545 \{
546     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles})\{ 
547         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count}*\hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes};i++)
548             dst[i]=\hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles}[i];
549     \}
550 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Radial\+Z\+L\+U\+T\+Size@{Get\+Radial\+Z\+L\+U\+T\+Size}}
\index{Get\+Radial\+Z\+L\+U\+T\+Size@{Get\+Radial\+Z\+L\+U\+T\+Size}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Radial\+Z\+L\+U\+T\+Size(int \&count, int \&planes, int \&rsteps) override}{GetRadialZLUTSize(int &count, int &planes, int &rsteps) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Get\+Radial\+Z\+L\+U\+T\+Size (
\begin{DoxyParamCaption}
\item[{int \&}]{count, }
\item[{int \&}]{planes, }
\item[{int \&}]{radialsteps}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a57c77fc0ceada2aeffc018970d9d18d8}{}\label{class_queued_c_p_u_tracker_a57c77fc0ceada2aeffc018970d9d18d8}


Get the dimensions of the radial lookup table data. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em count} & Reference to pre-\/allocated int. Returns number of lookup tables. \\
\hline
\mbox{\tt in,out}  & {\em planes} & Reference to pre-\/allocated int. Returns number of planes per lookup table. \\
\hline
\mbox{\tt in,out}  & {\em radialsteps} & Reference to pre-\/allocated int. Returns number of steps per plane. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_a95e19cdbbaa59eb676a24aaf95058b27}{Queued\+Tracker}.


\begin{DoxyCode}
423 \{
424     count = \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count};
425     planes = \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes};
426     rsteps = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps};
427 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Result\+Count@{Get\+Result\+Count}}
\index{Get\+Result\+Count@{Get\+Result\+Count}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Result\+Count() override}{GetResultCount() override}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Get\+Result\+Count (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a0424c92dec3952cf9197a5a9161e2188}{}\label{class_queued_c_p_u_tracker_a0424c92dec3952cf9197a5a9161e2188}


Implements \hyperlink{class_queued_tracker_a362a26027dc6bd40864e59de1ac32de2}{Queued\+Tracker}.


\begin{DoxyCode}
22 \{
23     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
24     \textcolor{keywordtype}{int} rc = \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{resultCount};
25     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
26     \textcolor{keywordflow}{return} rc;
27 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Get\+Z\+L\+U\+T\+By\+Index@{Get\+Z\+L\+U\+T\+By\+Index}}
\index{Get\+Z\+L\+U\+T\+By\+Index@{Get\+Z\+L\+U\+T\+By\+Index}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Z\+L\+U\+T\+By\+Index(int index)}{GetZLUTByIndex(int index)}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::\+Get\+Z\+L\+U\+T\+By\+Index (
\begin{DoxyParamCaption}
\item[{int}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}{}\label{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}

\begin{DoxyCode}
63 \{ \textcolor{keywordflow}{return} &\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}[ index * (\hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}) ]; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Image\+L\+U\+T\+Height@{Image\+L\+U\+T\+Height}}
\index{Image\+L\+U\+T\+Height@{Image\+L\+U\+T\+Height}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Image\+L\+U\+T\+Height()}{ImageLUTHeight()}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Image\+L\+U\+T\+Height (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a2cbe22c62e73f8c14bfe8fedf679a747}{}\label{class_queued_c_p_u_tracker_a2cbe22c62e73f8c14bfe8fedf679a747}

\begin{DoxyCode}
115 \{ \textcolor{keywordflow}{return} \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[2]; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Image\+L\+U\+T\+Num\+Beads@{Image\+L\+U\+T\+Num\+Beads}}
\index{Image\+L\+U\+T\+Num\+Beads@{Image\+L\+U\+T\+Num\+Beads}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Image\+L\+U\+T\+Num\+Beads()}{ImageLUTNumBeads()}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Image\+L\+U\+T\+Num\+Beads (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_abc03e0debdfed1f1dcf17b2fe548ed55}{}\label{class_queued_c_p_u_tracker_abc03e0debdfed1f1dcf17b2fe548ed55}

\begin{DoxyCode}
113 \{ \textcolor{keywordflow}{return} \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[0]; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Image\+L\+U\+T\+Width@{Image\+L\+U\+T\+Width}}
\index{Image\+L\+U\+T\+Width@{Image\+L\+U\+T\+Width}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Image\+L\+U\+T\+Width()}{ImageLUTWidth()}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Image\+L\+U\+T\+Width (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a7c66d7294271781f726fc37a8778ac38}{}\label{class_queued_c_p_u_tracker_a7c66d7294271781f726fc37a8778ac38}

\begin{DoxyCode}
114 \{ \textcolor{keywordflow}{return} \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[3]; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Is\+Idle@{Is\+Idle}}
\index{Is\+Idle@{Is\+Idle}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Is\+Idle() override}{IsIdle() override}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::\+Is\+Idle (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a16ec7c17782c4f001dec0dab12970cba}{}\label{class_queued_c_p_u_tracker_a16ec7c17782c4f001dec0dab12970cba}


Implements \hyperlink{class_queued_tracker_a8b879a9359f4e2081e69b0932f8e9908}{Queued\+Tracker}.


\begin{DoxyCode}
17 \{
18     \textcolor{keywordflow}{return} \hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{GetQueueLength}() == 0;
19 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Job\+Finished@{Job\+Finished}}
\index{Job\+Finished@{Job\+Finished}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Job\+Finished(\+Job $\ast$j)}{JobFinished(Job *j)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Job\+Finished (
\begin{DoxyParamCaption}
\item[{{\bf Queued\+C\+P\+U\+Tracker\+::\+Job} $\ast$}]{j}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a2ac0a94b7cef62813fe1698ebc3b6a3d}{}\label{class_queued_c_p_u_tracker_a2ac0a94b7cef62813fe1698ebc3b6a3d}

\begin{DoxyCode}
38 \{
39     \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\_buffer\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
40     \hyperlink{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{jobs\_buffer}.push\_back(j);
41     \hyperlink{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{jobs\_buffer\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
42 
43     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
44     \hyperlink{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{jobsInProgress}--;
45     \hyperlink{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{jobs\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
46 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Num\+Threads@{Num\+Threads}}
\index{Num\+Threads@{Num\+Threads}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Num\+Threads()}{NumThreads()}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::\+Num\+Threads (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_queued_c_p_u_tracker_ab72dd2ac1e12de11115f1cd96c9e51cd}{}\label{class_queued_c_p_u_tracker_ab72dd2ac1e12de11115f1cd96c9e51cd}

\begin{DoxyCode}
23 \{ \textcolor{keywordflow}{return} \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a8c6f1c671b527155afd5dad894c152da}{numThreads}; \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Process\+Job@{Process\+Job}}
\index{Process\+Job@{Process\+Job}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Process\+Job(\+Thread $\ast$th, Job $\ast$j)}{ProcessJob(Thread *th, Job *j)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Process\+Job (
\begin{DoxyParamCaption}
\item[{{\bf Queued\+C\+P\+U\+Tracker\+::\+Thread} $\ast$}]{th, }
\item[{{\bf Job} $\ast$}]{j}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a3c827ffb590b8e80b7e5a585f432ace9}{}\label{class_queued_c_p_u_tracker_a3c827ffb590b8e80b7e5a585f432ace9}

\begin{DoxyCode}
275 \{
276     \hyperlink{class_c_p_u_tracker}{CPUTracker}* trk = th->\hyperlink{struct_queued_c_p_u_tracker_1_1_thread_a03a8b50f8a9667f41a4eb72754ec2a69}{tracker};
277     th->\hyperlink{struct_queued_c_p_u_tracker_1_1_thread_ae44d1dc88e1458d8fab64e1930a4a052}{lock}();
278 
279     \hyperlink{class_queued_c_p_u_tracker_a7817003628ae040aaed49716d6ad7d6c}{SetTrackerImage}(trk, j);
280 
281     \textcolor{comment}{//FloatToJPEGFile("dbg.jpg",(float*)j->data,cfg.width,cfg.height);}
282 
283     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5b928b5bd4caff7d5f30322fdecae82b}{LT\_ClearFirstFourPixels}) \{
284         trk->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}[0]=trk->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}[1]=trk->\hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}[2]=trk->
      \hyperlink{class_c_p_u_tracker_a393778bc9b49eb6d5014fd814c5dfcdf}{srcImage}[3]=0;
285     \}
286 
287     \hyperlink{class_queued_c_p_u_tracker_af20f1af3e29c62b0e16f3803b9c9ad43}{ApplyOffsetGain}(trk, j->job.zlutIndex);
288 
289 \textcolor{comment}{//  dbgprintf("Job: id %d, bead %d\(\backslash\)n", j->id, j->zlut);}
290 
291     \hyperlink{struct_localization_result}{LocalizationResult} result=\{\};
292     result.\hyperlink{struct_localization_result_a9a6b25c5cc92fe13bae3d0a5d37360f3}{job} = j->job;
293 
294     \hyperlink{structvector2}{vector2f} com = trk->\hyperlink{class_c_p_u_tracker_a18c3c6ec23abbbfb018d30b166ed140e}{ComputeMeanAndCOM}(\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a18ce353ffb049d1c86254a773a6fe49d}{com\_bgcorrection});
295     result.\hyperlink{struct_localization_result_aba2a42711bc890c8620419f7dc906db9}{imageMean} = trk->\hyperlink{class_c_p_u_tracker_a611986d18c52010b79815a9cb920b00d}{mean};
296 
297     \textcolor{keywordflow}{if} (\_isnan(com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}) || \_isnan(com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}))
298         com = \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f}(\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}/2,\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}/2);
299 
300     \textcolor{keywordtype}{bool} boundaryHit = \textcolor{keyword}{false};
301 
302     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba3c14d24d83bc2358bf41e071861620d2}{LT\_XCor1D}) \{
303         result.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess} = com;
304         \hyperlink{structvector2}{vector2f} resultPos = trk->\hyperlink{class_c_p_u_tracker_aeb547c7da30e1621b2869634182c0900}{ComputeXCorInterpolated}(com, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a0bc4efdffbb8ad272d1c9facfdf0e171}{xc1\_iterations}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a80de240523eb79408593d26e6ef07ef7}{xc1\_profileWidth}, boundaryHit);
305         result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x} = resultPos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x};
306         result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y} = resultPos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y};
307     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba9eb0441a0c1e1086ff81512ea509e564}{LT\_QI} )\{ 
308         result.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess} = com;
309         \hyperlink{structvector2}{vector2f} resultPos = trk->\hyperlink{class_c_p_u_tracker_ab856aa12313a07c083f2e193180fd5b6}{ComputeQI}(com, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a12105babb328a9a7ec90f0eab074fabb}{qi\_iterations}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ab1a11e7a567a3267c57f77626c6c9c93}{qi\_radialsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_a1ba87257b24e5b7e427aa92dd4114792}{qi\_angstepspq}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aceebf67ba9ecc215d49c6b2739afae3d}{qi\_angstep\_factor}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a7b5f3e61b4dcab6330c56e7bcd96e82d}{qi\_minradius}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a9784dbeb638bde1f3204f9ca5af720c6}{qi\_maxradius}, boundaryHit, &
      \hyperlink{class_queued_c_p_u_tracker_ab770ea114960e88426fa030cb93ea3c1}{qi\_radialbinweights}[0]);
310         result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x} = resultPos.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x};
311         result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y} = resultPos.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y};
312     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba49983d8a534bbda61f861e1a2702a88a}{LT\_Gaussian2D}) \{
313         result.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess} = com;
314         \hyperlink{struct_c_p_u_tracker_1_1_gauss2_d_result}{CPUTracker::Gauss2DResult} gr = trk->
      \hyperlink{class_c_p_u_tracker_a99567e8137e89ff9ee084558e9f26344}{Compute2DGaussianMLE}(com, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aa5ae2b9e5700fe2eab58f9084389c3ad}{gauss2D\_iterations}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a950fc67c972c608570ef2dd27fcfaf4d}{gauss2D\_sigma});
315         \hyperlink{structvector2}{vector2f} xy = gr.\hyperlink{struct_c_p_u_tracker_1_1_gauss2_d_result_a7b4664668842daa04882ca2dd1d91fce}{pos};
316         result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos} = \hyperlink{std__incl_8h_a2feaef1d85a74bd5cf80df91b1a9a914}{vector3f}(xy.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},xy.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y},0.0f);
317     \} \textcolor{keywordflow}{else} \{
318         result.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess}.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} = result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x} = com.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x};
319         result.\hyperlink{struct_localization_result_a44c7351e9eb9410375c10fcf4e0f0cf9}{firstGuess}.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} = result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y} = com.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y};
320     \}
321 
322     \textcolor{keywordtype}{bool} normalizeProfile = (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3bae1cac6e7cc97db83708edd0407e3e25f}{LT\_NormalizeProfile})!=0;
323     \textcolor{keywordflow}{if}(\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba5bee529eb0d2fa3bef01f31eeb613b92}{LT\_LocalizeZ}) \{
324         \textcolor{keywordtype}{float}* prof=\hyperlink{std__incl_8h_a37dbccb865134ee3a70c5044b365ded7}{ALLOCA\_ARRAY}(\textcolor{keywordtype}{float},\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps});
325 
326         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i< ((\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba85b5a8778da421d97ac8bf55dd0cf076}{LT\_ZLUTAlign}) ? 5 : 1) ; i++) \{
327             \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3baa412dc6660a1d4896acff68e660a77d2}{LT\_FourierLUT}) \{
328                 trk->\hyperlink{class_c_p_u_tracker_a680410d9616a6e65ea1ad430aa8a56cf}{FourierRadialProfile}(prof,\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius});
329             \} \textcolor{keywordflow}{else} \{
330                 trk->\hyperlink{class_c_p_u_tracker_a425db1a2a66d9635d2b4b565ecfdc3b0}{ComputeRadialProfile}(prof,\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a01653574d81ab70e4910c984fb7f7482}{zlut\_angularsteps}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, result.\hyperlink{struct_localization_result_a40b7da4cbde78ccc9a013b1bcc608e60}{pos2D}(), \textcolor{keyword}{false}, &boundaryHit
      , normalizeProfile );
331             \}
332 
333             \textcolor{keywordtype}{float} *cmpprof = 0;
334 
335             \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}{zlut\_enablecmpprof})
336                 cmpprof = &\hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles}[j->job.zlutIndex*
      \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}];
337 
338             \textcolor{keywordflow}{if} (i > 0) \{
339                 \textcolor{comment}{// update with Quadrant Align}
340                 result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos} = trk->\hyperlink{class_c_p_u_tracker_a7e9e0d809af103c8a24d6ecf09fdfb1c}{QuadrantAlign}(result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}, j->job.zlutIndex, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a1ba87257b24e5b7e427aa92dd4114792}{qi\_angstepspq}, boundaryHit);
341             \}
342             result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z} = trk->\hyperlink{class_c_p_u_tracker_a605758e0bf1f897f86f38b65e99e320b}{LUTProfileCompare}(prof, j->job.zlutIndex, cmpprof, 
      \hyperlink{class_c_p_u_tracker_a196ac690351a7a8449fe21012de9efdfa699b606aff628359036eef4585adba0e}{CPUTracker::LUTProfMaxQuadraticFit},(\textcolor{keywordtype}{float}*)0,(\textcolor{keywordtype}{int}*)0,j->job.frame);
343             \textcolor{comment}{//dbgprintf("[%d] x=%f, y=%f, z=%f\(\backslash\)n", i, result.pos.x,result.pos.y,result.pos.z);}
344             
345         \}
346 
347         \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} & \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3ba4b74b9fec0fa98e60e03b783618111f4}{LT\_LocalizeZWeighted}) \{
348             result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z} = trk->\hyperlink{class_c_p_u_tracker_ab915cca7e40b60f68f5e7d5c10386ddc}{LUTProfileCompareAdjustedWeights}(prof, 
      j->job.zlutIndex, result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z});
349         \}
350 
351         \textcolor{keywordflow}{if} (\hyperlink{class_queued_tracker_a6f5a5a506c622ee1c174cd497c5152b9}{zlut\_bias\_correction})
352             result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z} = \hyperlink{class_queued_tracker_a5db67617f39aba7d9874222d3fa1c02f}{ZLUTBiasCorrection}(result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.
      \hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z}, \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}, j->job.zlutIndex);
353     \}
354 
355     \textcolor{keywordflow}{if}(\hyperlink{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{dbgPrintResults})
356         \hyperlink{utils_8cpp_a4a7132c90e490d24edecb391a754a9c0}{dbgprintf}(\textcolor{stringliteral}{"fr:%d, bead: %d: x=%f, y=%f, z=%f\(\backslash\)n"},result.\hyperlink{struct_localization_result_a9a6b25c5cc92fe13bae3d0a5d37360f3}{job}.
      \hyperlink{struct_localization_job_a54df1ba33ab48b20dca664142a8cf619}{frame}, result.\hyperlink{struct_localization_result_a9a6b25c5cc92fe13bae3d0a5d37360f3}{job}.\hyperlink{struct_localization_job_afcf9f91b72597af0e2572f3ae74d9a99}{zlutIndex}, result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a5b466692e9550284d17a1bee6a6b8518}{x}, result.\hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a1faa20a703bae3d1a673856466758383}{y}, result.
      \hyperlink{struct_localization_result_a546f66485662c35bc75121513b6d1a60}{pos}.\hyperlink{structvector3_a90c50e80a32423d5cc76f40e5f53ffbe}{z});
357 
358     th->\hyperlink{struct_queued_c_p_u_tracker_1_1_thread_af68d2a3c9c4b9a9eb7368c40baa12e96}{unlock}();
359 
360     result.\hyperlink{struct_localization_result_a90d35a4643bd537d8f763ee8c7749820}{error} = boundaryHit ? 1 : 0;
361 
362     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
363     \hyperlink{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}{results}.push\_back(result);
364     \hyperlink{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{resultCount}++;
365     \hyperlink{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{results\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
366 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Schedule\+Localization@{Schedule\+Localization}}
\index{Schedule\+Localization@{Schedule\+Localization}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Schedule\+Localization(void $\ast$data, int pitch, Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type pdt, const Localization\+Job $\ast$job\+Info) override}{ScheduleLocalization(void *data, int pitch, QTRK_PixelDataType pdt, const LocalizationJob *jobInfo) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Schedule\+Localization (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data, }
\item[{int}]{pitch, }
\item[{{\bf Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type}}]{pdt, }
\item[{const {\bf Localization\+Job} $\ast$}]{job\+Info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_aefc2afb79c4347dbbbd66d84cfd8787f}{}\label{class_queued_c_p_u_tracker_aefc2afb79c4347dbbbd66d84cfd8787f}


Add a job to the queue to be processed. A job entails running the required algorithms on a single region of interest. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & Pointer to the data. Type specified by \mbox{[}pdt\mbox{]}. \\
\hline
\mbox{\tt in}  & {\em pitch} & Distance in bytes between two successive rows of pixels (e.\+g. address of (0,0) -\/ address of (0,1)). \\
\hline
\mbox{\tt in}  & {\em pdt} & Type of \mbox{[}data\mbox{]}, specified by \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0b}{Q\+T\+R\+K\+\_\+\+Pixel\+Data\+Type}. \\
\hline
\mbox{\tt in}  & {\em job\+Info} & Structure with metadata for the R\+OI to be handled. See \hyperlink{struct_localization_job}{Localization\+Job}. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_a233dffd15fe3cef8a53c698bba9befb4}{Queued\+Tracker}.


\begin{DoxyCode}
441 \{
442     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{processJobs}) \{
443         \textcolor{keywordflow}{while}(\hyperlink{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{maxQueueSize} != 0 && \hyperlink{class_queued_c_p_u_tracker_a7e1a888cfcc2eb97e059d6711ddfc8af}{GetQueueLength} () >= 
      \hyperlink{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{maxQueueSize})
444             \hyperlink{struct_threads_a803a0b6899fb5e09ee7f56bd1986a287}{Threads::Sleep}(5);
445     \}
446 
447     Job* j = \hyperlink{class_queued_c_p_u_tracker_a5791133fa3b770a231d91b91d27bfed7}{AllocateJob}();
448     \textcolor{keywordtype}{int} dstPitch = \hyperlink{_queued_tracker_8h_adb31752069847fe598de8c312becda1b}{PDT\_BytesPerPixel}(pdt) * \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width};
449 
450     \textcolor{keywordflow}{if}(!j->data || j->dataType != pdt) \{
451         \textcolor{keywordflow}{if} (j->data) \textcolor{keyword}{delete}[] j->data;
452         j->data = \textcolor{keyword}{new} \hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}[dstPitch * \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}];
453     \}
454     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y=0; y<\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}; y++)
455         memcpy(&j->data[dstPitch*y], & ((\hyperlink{std__incl_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}*)data)[pitch*y], dstPitch);
456 
457     j->dataType = pdt;
458     j->job = *jobInfo;
459 
460     \hyperlink{class_queued_c_p_u_tracker_aa71806abbaa3a586aa0be750af7514bf}{AddJob}(j);
461 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Config\+Value@{Set\+Config\+Value}}
\index{Set\+Config\+Value@{Set\+Config\+Value}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Config\+Value(std\+::string name, std\+::string value) override}{SetConfigValue(std::string name, std::string value) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Config\+Value (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{std\+::string}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a1d67ecf808b54866d49babb654d32894}{}\label{class_queued_c_p_u_tracker_a1d67ecf808b54866d49babb654d32894}


Implements \hyperlink{class_queued_tracker_a0d96ad4feea320c3ba90d196b4690d3b}{Queued\+Tracker}.


\begin{DoxyCode}
513 \{
514     \textcolor{keywordflow}{if} (name == \textcolor{stringliteral}{"trace"})
515         \hyperlink{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{dbgPrintResults} = !!atoi(value.c\_str());
516 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Image\+Z\+L\+UT@{Set\+Image\+Z\+L\+UT}}
\index{Set\+Image\+Z\+L\+UT@{Set\+Image\+Z\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Image\+Z\+L\+U\+T(float $\ast$dst, float $\ast$radial\+\_\+zlut, int $\ast$dims)}{SetImageZLUT(float *dst, float *radial_zlut, int *dims)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::\+Set\+Image\+Z\+L\+UT (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{src, }
\item[{float $\ast$}]{radial\+\_\+zlut, }
\item[{int $\ast$}]{dims}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a151a19c5ba686c62d1fc47fa0eb1ef95}{}\label{class_queued_c_p_u_tracker_a151a19c5ba686c62d1fc47fa0eb1ef95}


Set the image lookup tables to be used for z tracking. 

\begin{DoxyNote}{Note}
Use of image L\+UT is currently not clear. Radial Z\+L\+UT is always used.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em src} & Pointer to the data for the image L\+UT. \\
\hline
\mbox{\tt in}  & {\em radial\+\_\+zlut} & Pointer to the data for the radial L\+UT. \\
\hline
\mbox{\tt in}  & {\em dims} & Array of dimension sizes for the image L\+UT. See \hyperlink{class_queued_c_p_u_tracker_a399b87fd1542b05fc9e9c80c1dd6b664}{Get\+Image\+Z\+L\+U\+T\+Size}. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_queued_tracker_abd440db1fddc0715bd41b90f1d169ee6}{Queued\+Tracker}.


\begin{DoxyCode}
554 \{
555     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut})  \{
556         \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut};
557         \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}=0;
558     \}
559 
560     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<4;i++)
561         \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[i]=dims[i];
562 
563     \hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} = dims[1]*dims[2]*dims[3];
564 
565     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead} > 0 && dims[0] > 0) \{
566         \hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut} = \textcolor{keyword}{new} \textcolor{keywordtype}{float} [\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead}*
      \hyperlink{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{image\_lut\_dims}[0]];
567         memset(\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}, 0, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead}*
      image\_lut\_dims[0]);
568     \}
569 
570     \textcolor{keywordflow}{if} (src) \{
571         memcpy(\hyperlink{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{image\_lut}, src, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*\hyperlink{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{image\_lut\_nElem\_per\_bead}*
      image\_lut\_dims[0]);
572     \}
573 
574     \hyperlink{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}{SetRadialZLUT}(radial\_lut, dims[0], dims[1]);
575 
576     \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \textcolor{comment}{// returning true indicates this implementation supports ImageLUT}
577 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Localization\+Mode@{Set\+Localization\+Mode}}
\index{Set\+Localization\+Mode@{Set\+Localization\+Mode}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Localization\+Mode(\+Loc\+Mode\+\_\+t lt) override}{SetLocalizationMode(LocMode_t lt) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Localization\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf Loc\+Mode\+\_\+t}}]{loc\+Type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}{}\label{class_queued_c_p_u_tracker_a7fcc061bd8d6a0f16472d57c8939c565}


Select which algorithm is to be used. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em loc\+Type} & An integer used as a bitmask for settings based on \hyperlink{qtrk__c__api_8h_a9d32512eae44894026802d1a688c7e3b}{Localize\+Mode\+Enum}. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_aed430b5578d7a3e75f4d4d6c6dbb7e45}{Queued\+Tracker}.


\begin{DoxyCode}
519 \{
520     \textcolor{keywordflow}{while} (!\hyperlink{class_queued_c_p_u_tracker_a16ec7c17782c4f001dec0dab12970cba}{IsIdle}());
521     \hyperlink{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{localizeMode} = lt;
522 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Pixel\+Calibration\+Factors@{Set\+Pixel\+Calibration\+Factors}}
\index{Set\+Pixel\+Calibration\+Factors@{Set\+Pixel\+Calibration\+Factors}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Calibration\+Factors(float offset\+Factor, float gain\+Factor) override}{SetPixelCalibrationFactors(float offsetFactor, float gainFactor) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Pixel\+Calibration\+Factors (
\begin{DoxyParamCaption}
\item[{float}]{offset\+Factor, }
\item[{float}]{gain\+Factor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a94903982ee31eced25b4640b12a4bc56}{}\label{class_queued_c_p_u_tracker_a94903982ee31eced25b4640b12a4bc56}


Implements \hyperlink{class_queued_tracker_ab9dd540b5c8452718944b47520fda402}{Queued\+Tracker}.


\begin{DoxyCode}
200 \{
201     \hyperlink{class_queued_c_p_u_tracker_aa132b16144343a84589cf8b5318f07b0}{gc\_mutex}.\hyperlink{struct_threads_1_1_mutex_af3cb09072ecd935be502deb78f4519d5}{lock}();
202     \hyperlink{class_queued_c_p_u_tracker_a286e6579f5a35ad2b1b935bb473621b5}{gc\_gainFactor} = gainFactor;
203     \hyperlink{class_queued_c_p_u_tracker_a0b88b6b96bb6afa945383bf1dc2a764d}{gc\_offsetFactor} = offsetFactor;
204     \hyperlink{class_queued_c_p_u_tracker_aa132b16144343a84589cf8b5318f07b0}{gc\_mutex}.\hyperlink{struct_threads_1_1_mutex_ad78fadce2239c6d359986e443822f6f6}{unlock}();
205 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Pixel\+Calibration\+Images@{Set\+Pixel\+Calibration\+Images}}
\index{Set\+Pixel\+Calibration\+Images@{Set\+Pixel\+Calibration\+Images}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Calibration\+Images(float $\ast$offset, float $\ast$gain) override}{SetPixelCalibrationImages(float *offset, float *gain) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Pixel\+Calibration\+Images (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{offset, }
\item[{float $\ast$}]{gain}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a7574f92390c674ddcbb35cefc6e87da5}{}\label{class_queued_c_p_u_tracker_a7574f92390c674ddcbb35cefc6e87da5}


Implements \hyperlink{class_queued_tracker_ae1fa56f8629d8d4ad621889fbd9e4a46}{Queued\+Tracker}.


\begin{DoxyCode}
167 \{
168     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count} > 0) \{
169         \textcolor{keywordtype}{int} nelem = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}*\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count};
170 
171         \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} == 0 && gain)  \{
172             \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nelem];
173             memcpy(\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain}, gain, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*nelem);
174         \}
175         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} && gain == 0) \{
176             \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain};
177             \hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain} = 0;
178         \}
179 
180         \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} == 0 && offset) \{
181             \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nelem];
182             memcpy(\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset}, offset, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float})*nelem);
183         \}
184         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} && offset == 0) \{
185             \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset};
186             \hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset} = 0;
187         \}
188 
189 \textcolor{preprocessor}{#ifdef \_DEBUG}
190         std::string path = \hyperlink{utils_8cpp_a94c5c46fa5ac0e27fa3f171b171fe8ae}{GetLocalModulePath}();
191         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count};i++) \{
192             \textcolor{keywordflow}{if}(\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain}) \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}( \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"%s/gain-bead%d.jpg"}, 
      path.c\_str(), i).c\_str(), &\hyperlink{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{calib\_gain}[\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}*i], 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
193             \textcolor{keywordflow}{if}(\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset}) \hyperlink{fastjpg_8cpp_a197d79f00fb185491c4d109e966ca9ef}{FloatToJPEGFile}( \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"
      %s/offset-bead%d.jpg"}, path.c\_str(), i).c\_str(), &\hyperlink{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{calib\_offset}[\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height}*i], \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width},\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a94c965d103e7a0a4f1fced8eee1324ce}{height});
194         \}
195 \textcolor{preprocessor}{#endif}
196     \}
197 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Radial\+Weights@{Set\+Radial\+Weights}}
\index{Set\+Radial\+Weights@{Set\+Radial\+Weights}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Radial\+Weights(float $\ast$rweights) override}{SetRadialWeights(float *rweights) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Radial\+Weights (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{zcmp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_a070149d1ecf38176ae2cc84a71f3851f}{}\label{class_queued_c_p_u_tracker_a070149d1ecf38176ae2cc84a71f3851f}


Set radial weights used for comparing L\+UT profiles. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em zcmp} & Array of radial weights to use. {\ttfamily zcmp} has to have {\ttfamily zlut\+\_\+radialsteps} elements. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_aaf4a1a0f17e2df7bc6dded2729d920f4}{Queued\+Tracker}.


\begin{DoxyCode}
399 \{
400     \textcolor{keywordflow}{if} (rweights)
401         \hyperlink{class_queued_c_p_u_tracker_a318963eb81d408fa2d94335448b8207c}{zcmp}.assign(rweights, rweights + \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps});
402     \textcolor{keywordflow}{else}
403         \hyperlink{class_queued_c_p_u_tracker_a318963eb81d408fa2d94335448b8207c}{zcmp}.clear();
404 
405     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.size();i++)\{
406         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].lock();
407         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].tracker->SetRadialWeights(rweights);
408         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].unlock();
409     \}
410 
411 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Radial\+Weights@{Set\+Radial\+Weights}}
\index{Set\+Radial\+Weights@{Set\+Radial\+Weights}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Radial\+Weights(std\+::vector$<$ float $>$ weights)}{SetRadialWeights(std::vector< float > weights)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Radial\+Weights (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ float $>$}]{weights}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_queued_c_p_u_tracker_ab16da04344186411198d646df47f1218}{}\label{class_queued_c_p_u_tracker_ab16da04344186411198d646df47f1218}

\begin{DoxyCode}
31 \{ \hyperlink{class_queued_c_p_u_tracker_a070149d1ecf38176ae2cc84a71f3851f}{SetRadialWeights}(&weights[0]); \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Radial\+Z\+L\+UT@{Set\+Radial\+Z\+L\+UT}}
\index{Set\+Radial\+Z\+L\+UT@{Set\+Radial\+Z\+L\+UT}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Radial\+Z\+L\+U\+T(float $\ast$data, int num\+\_\+zluts, int planes) override}{SetRadialZLUT(float *data, int num_zluts, int planes) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Radial\+Z\+L\+UT (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{data, }
\item[{int}]{count, }
\item[{int}]{planes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}{}\label{class_queued_c_p_u_tracker_af9ac36a1eb757e006698a4fb789bcbd0}


Set the radial lookup tables to be used for z tracking. 

{\ttfamily Data} can be zero to allocate Z\+L\+UT data. L\+U\+Ts should have been created before by \hyperlink{class_queued_c_p_u_tracker_ac73750c7446b69b070ab24742b02660f}{Build\+L\+UT}, but not necessarily by the current instance as long as setting match.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & Pointer to the start of the Z\+L\+UT data. \\
\hline
\mbox{\tt in}  & {\em count} & Number of Z\+L\+U\+Ts in the dataset. \\
\hline
\mbox{\tt in}  & {\em planes} & Number of planes per Z\+L\+UT. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_queued_tracker_a77c3d8414993d2aa3ddfca4c8b40e71d}{Queued\+Tracker}.


\begin{DoxyCode}
370 \{
371 \textcolor{comment}{//  jobs\_mutex.lock();}
372 \textcolor{comment}{//  results\_mutex.lock();}
373     \textcolor{keywordflow}{if} (\hyperlink{class_queued_tracker_a6f5a5a506c622ee1c174cd497c5152b9}{zlut\_bias\_correction})
374         \textcolor{keyword}{delete} \hyperlink{class_queued_tracker_a6f5a5a506c622ee1c174cd497c5152b9}{zlut\_bias\_correction};
375 
376     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts};
377     \textcolor{keywordtype}{int} res = \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps};
378     \textcolor{keywordtype}{int} total = num\_zluts*res*planes;
379     \textcolor{keywordflow}{if} (total > 0) \{
380         \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts} = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[planes*res*num\_zluts];
381         std::fill(\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts},\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}+(planes*res*num\_zluts), 0.0f);
382         \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes} = planes;
383         \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count} = num\_zluts;
384         \textcolor{keywordflow}{if}(data)
385             std::copy(data, data+(planes*res*num\_zluts), \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts});
386     \}
387     \textcolor{keywordflow}{else}
388         \hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts} = 0;
389 
390     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles}) \textcolor{keyword}{delete}[] \hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles};
391     \hyperlink{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{zlut\_cmpprofiles} = \textcolor{keyword}{new} \textcolor{keywordtype}{float} [num\_zluts*planes];
392 
393     \hyperlink{class_queued_c_p_u_tracker_ab140a55e7bb53cb4c5ad75e686d11621}{UpdateZLUTs}();
394 \textcolor{comment}{//  results\_mutex.unlock();}
395 \textcolor{comment}{//  jobs\_mutex.unlock();}
396 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Set\+Tracker\+Image@{Set\+Tracker\+Image}}
\index{Set\+Tracker\+Image@{Set\+Tracker\+Image}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Set\+Tracker\+Image(\+C\+P\+U\+Tracker $\ast$trk, Job $\ast$job)}{SetTrackerImage(CPUTracker *trk, Job *job)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Set\+Tracker\+Image (
\begin{DoxyParamCaption}
\item[{{\bf C\+P\+U\+Tracker} $\ast$}]{trk, }
\item[{{\bf Job} $\ast$}]{job}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a7817003628ae040aaed49716d6ad7d6c}{}\label{class_queued_c_p_u_tracker_a7817003628ae040aaed49716d6ad7d6c}

\begin{DoxyCode}
733 \{
734     \textcolor{keywordflow}{if} (j->dataType == \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0baed6124f6daf00bc0e0f4817986bad3a1}{QTrkU8}) \{
735         trk->\hyperlink{class_c_p_u_tracker_a6bca00a1c694bec1c0858a5794580cce}{SetImage8Bit}(j->data, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width});
736     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j->dataType == \hyperlink{qtrk__c__api_8h_aad82367b3ea592a142bb50a2fb538b0ba6c91530bb59effda68594063a7a1d5a6}{QTrkU16}) \{
737         trk->\hyperlink{class_c_p_u_tracker_a0f15bef0a76790ce0ba31ce104e3c39a}{SetImage16Bit}((\hyperlink{std__incl_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}*)j->data, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_aef24eb3a4692bd67ff1aca8ef950e08d}{width}*2);
738     \} \textcolor{keywordflow}{else} \{
739         trk->\hyperlink{class_c_p_u_tracker_ab0a855205943f129c8ddd19d34c4a6b3}{SetImageFloat}((\textcolor{keywordtype}{float}*)j->data);
740     \}
741 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Start@{Start}}
\index{Start@{Start}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Start()}{Start()}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_a1094604fc95b81cd43327606001d84ec}{}\label{class_queued_c_p_u_tracker_a1094604fc95b81cd43327606001d84ec}

\begin{DoxyCode}
215 \{
216     \hyperlink{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{quitWork} = \textcolor{keyword}{false};
217 
218     \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.resize(\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a8c6f1c671b527155afd5dad894c152da}{numThreads});
219     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0;k<\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a8c6f1c671b527155afd5dad894c152da}{numThreads};k++) \{
220 
221         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].mutex = \textcolor{keyword}{new} \hyperlink{struct_threads_1_1_mutex}{Threads::Mutex}();
222 \textcolor{preprocessor}{#if 0}
223         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].mutex->name = \hyperlink{utils_8cpp_aba26a6b64035ef7962a63b760dd9013e}{SPrintf}(\textcolor{stringliteral}{"thread%d"}, k);
224         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].mutex->trace = \textcolor{keyword}{true};
225 \textcolor{preprocessor}{#endif}
226         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].tracker = \textcolor{keyword}{new} \hyperlink{class_c_p_u_tracker}{CPUTracker}(\hyperlink{class_queued_c_p_u_tracker_a61d134a809e2c7917be42af542922870}{downsampleWidth}, 
      \hyperlink{class_queued_c_p_u_tracker_aa4819d54f418b04de8da8a14b8a9af7d}{downsampleHeight}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_settings_a8f38457c4ec183f78a0191b247ab6b51}{xc1\_profileLength}, \textcolor{keyword}{false});\textcolor{comment}{//cfg.testRun);}
227         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].manager = \textcolor{keyword}{this};
228         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].tracker->trackerID = k;
229     \}
230 
231     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0;k<\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.size();k++) \{
232         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].thread = \hyperlink{struct_threads_ab6aa79b1b2c148b8d384916d58e2443e}{Threads::Create}(
      \hyperlink{class_queued_c_p_u_tracker_ac6d5c0b441567c7da19bb864b885ecb3}{WorkerThreadMain}, &\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k]);
233         \hyperlink{struct_threads_a3649871bed9522101859b446986e1a2e}{Threads::SetBackgroundPriority}(\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[k].thread, \textcolor{keyword}{true});
234     \}
235 
236     \hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{processJobs} = \textcolor{keyword}{true};
237 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Update\+Z\+L\+U\+Ts@{Update\+Z\+L\+U\+Ts}}
\index{Update\+Z\+L\+U\+Ts@{Update\+Z\+L\+U\+Ts}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Update\+Z\+L\+U\+Ts()}{UpdateZLUTs()}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Update\+Z\+L\+U\+Ts (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ab140a55e7bb53cb4c5ad75e686d11621}{}\label{class_queued_c_p_u_tracker_ab140a55e7bb53cb4c5ad75e686d11621}

\begin{DoxyCode}
414 \{
415     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}.size();i++)\{
416         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].lock();
417         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].tracker->SetRadialZLUT(\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts}, \hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}, 
      \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}, \hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_settings_a1a14537a9e784c65eed512e72ee86c02}{zlut\_minradius}, \hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.\hyperlink{struct_q_trk_computed_config_a13ceb0d4551d3bd5343ecce7a093d65b}{zlut\_maxradius}, \textcolor{keyword}{false}, \textcolor{keyword}{false});
418         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[i].unlock();
419     \}
420 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Worker\+Thread\+Main@{Worker\+Thread\+Main}}
\index{Worker\+Thread\+Main@{Worker\+Thread\+Main}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Worker\+Thread\+Main(void $\ast$arg)}{WorkerThreadMain(void *arg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Worker\+Thread\+Main (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ac6d5c0b441567c7da19bb864b885ecb3}{}\label{class_queued_c_p_u_tracker_ac6d5c0b441567c7da19bb864b885ecb3}

\begin{DoxyCode}
240 \{
241     Thread* th = (Thread*)arg;
242     \hyperlink{class_queued_c_p_u_tracker}{QueuedCPUTracker}* this\_ = th->manager;
243 
244     \textcolor{keywordflow}{while} (!this\_->\hyperlink{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{quitWork}) \{
245         Job* j = 0;
246         \textcolor{keywordflow}{if} (this\_->\hyperlink{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{processJobs}) 
247             j = this\_->\hyperlink{class_queued_c_p_u_tracker_a2839a72ef9815ce32465a47ca8bfd01b}{GetNextJob}();
248 
249         \textcolor{keywordflow}{if} (j) \{
250             this\_->\hyperlink{class_queued_c_p_u_tracker_a3c827ffb590b8e80b7e5a585f432ace9}{ProcessJob}(th, j);
251             this\_->\hyperlink{class_queued_c_p_u_tracker_a2ac0a94b7cef62813fe1698ebc3b6a3d}{JobFinished}(j);
252         \} \textcolor{keywordflow}{else} \{
253             \hyperlink{struct_threads_a803a0b6899fb5e09ee7f56bd1986a287}{Threads::Sleep}(1);
254         \}
255     \}
256     \textcolor{comment}{//dbgprintf("Thread %p ending.\(\backslash\)n", arg);}
257 \}
\end{DoxyCode}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!Z\+L\+U\+T\+Self\+Test@{Z\+L\+U\+T\+Self\+Test}}
\index{Z\+L\+U\+T\+Self\+Test@{Z\+L\+U\+T\+Self\+Test}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{Z\+L\+U\+T\+Self\+Test()}{ZLUTSelfTest()}}]{\setlength{\rightskip}{0pt plus 5cm}void Queued\+C\+P\+U\+Tracker\+::\+Z\+L\+U\+T\+Self\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_queued_c_p_u_tracker_adc3feb62a374abea02f4f9502c08c42c}{}\label{class_queued_c_p_u_tracker_adc3feb62a374abea02f4f9502c08c42c}

\begin{DoxyCode}
704 \{
705     \textcolor{keywordflow}{if} (\hyperlink{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{zluts})\{
706         \textcolor{comment}{/*bool compEnabled = zlut\_enablecmpprof;}
707 \textcolor{comment}{        if(!compEnabled)}
708 \textcolor{comment}{            EnableRadialZLUTCompareProfile(true);*/}
709 
710 
711         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[0].lock();
712         \hyperlink{class_c_p_u_tracker}{CPUTracker}* trk = \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[0].tracker;
713         
714         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii=0;ii<\hyperlink{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{zlut\_count};ii++) \{
715             \textcolor{comment}{//
      trk.SetRadialZLUT(&zluts[cfg.zlut\_radialsteps*zlut\_planes*ii],zlut\_planes,cfg.zlut\_radialsteps,zlut\_count,cfg.zlut\_minradius,cfg.zlut\_maxradius,false,false);}
716             
717             \textcolor{keywordtype}{float}* curZLUT = \hyperlink{class_queued_c_p_u_tracker_ab467243ae4103dbf2c0b87aa6ba72b3b}{GetZLUTByIndex}(ii);          
718             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} plane=0;plane<\hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes};plane++)\{
719                 \textcolor{keywordtype}{float}* cmpprof = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[\hyperlink{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{zlut\_planes}];
720                 trk->\hyperlink{class_c_p_u_tracker_a605758e0bf1f897f86f38b65e99e320b}{LUTProfileCompare}(&curZLUT[plane*\hyperlink{class_queued_tracker_afb847e7f49e0af6027d58af51d5914dc}{cfg}.
      \hyperlink{struct_q_trk_computed_config_ad1a121fa7d3152df6788ff285e4d2dc6}{zlut\_radialsteps}],ii,cmpprof,\hyperlink{class_c_p_u_tracker_a196ac690351a7a8449fe21012de9efdfa699b606aff628359036eef4585adba0e}{CPUTracker::LUTProfMaxQuadraticFit}
      );
721                 \hyperlink{utils_8cpp_aa0fb8da4922e3042928ed9f6388bc09a}{WriteArrayAsCSVRow}(\textcolor{stringliteral}{"D:\(\backslash\)\(\backslash\)TestImages\(\backslash\)\(\backslash\)zlutSelfTest.csv"},cmpprof,zlut\_planes
      ,\textcolor{keyword}{true});
722                 \textcolor{keyword}{delete}[] cmpprof;
723             \}           
724         \}
725 
726         \hyperlink{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{threads}[0].unlock();
727         
728         \textcolor{comment}{//EnableRadialZLUTCompareProfile(compEnabled);}
729     \}
730 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!calib\+\_\+gain@{calib\+\_\+gain}}
\index{calib\+\_\+gain@{calib\+\_\+gain}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{calib\+\_\+gain}{calib_gain}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::calib\+\_\+gain\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}{}\label{class_queued_c_p_u_tracker_a5a9273673ed2fe05c97a82be8052eb7e}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!calib\+\_\+offset@{calib\+\_\+offset}}
\index{calib\+\_\+offset@{calib\+\_\+offset}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{calib\+\_\+offset}{calib_offset}}]{\setlength{\rightskip}{0pt plus 5cm}float $\ast$ Queued\+C\+P\+U\+Tracker\+::calib\+\_\+offset\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}{}\label{class_queued_c_p_u_tracker_a4bc0b00839380716cd7a94e8593acc90}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!dbg\+Print\+Results@{dbg\+Print\+Results}}
\index{dbg\+Print\+Results@{dbg\+Print\+Results}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{dbg\+Print\+Results}{dbgPrintResults}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::dbg\+Print\+Results\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}{}\label{class_queued_c_p_u_tracker_aee09996116d3c5b082c03cb8e2e4d7c9}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!downsample\+Height@{downsample\+Height}}
\index{downsample\+Height@{downsample\+Height}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{downsample\+Height}{downsampleHeight}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::downsample\+Height\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_aa4819d54f418b04de8da8a14b8a9af7d}{}\label{class_queued_c_p_u_tracker_aa4819d54f418b04de8da8a14b8a9af7d}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!downsample\+Width@{downsample\+Width}}
\index{downsample\+Width@{downsample\+Width}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{downsample\+Width}{downsampleWidth}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::downsample\+Width\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a61d134a809e2c7917be42af542922870}{}\label{class_queued_c_p_u_tracker_a61d134a809e2c7917be42af542922870}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!gc\+\_\+gain\+Factor@{gc\+\_\+gain\+Factor}}
\index{gc\+\_\+gain\+Factor@{gc\+\_\+gain\+Factor}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{gc\+\_\+gain\+Factor}{gc_gainFactor}}]{\setlength{\rightskip}{0pt plus 5cm}float Queued\+C\+P\+U\+Tracker\+::gc\+\_\+gain\+Factor\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a286e6579f5a35ad2b1b935bb473621b5}{}\label{class_queued_c_p_u_tracker_a286e6579f5a35ad2b1b935bb473621b5}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!gc\+\_\+mutex@{gc\+\_\+mutex}}
\index{gc\+\_\+mutex@{gc\+\_\+mutex}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{gc\+\_\+mutex}{gc_mutex}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Threads\+::\+Mutex} Queued\+C\+P\+U\+Tracker\+::gc\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_aa132b16144343a84589cf8b5318f07b0}{}\label{class_queued_c_p_u_tracker_aa132b16144343a84589cf8b5318f07b0}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!gc\+\_\+offset\+Factor@{gc\+\_\+offset\+Factor}}
\index{gc\+\_\+offset\+Factor@{gc\+\_\+offset\+Factor}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{gc\+\_\+offset\+Factor}{gc_offsetFactor}}]{\setlength{\rightskip}{0pt plus 5cm}float Queued\+C\+P\+U\+Tracker\+::gc\+\_\+offset\+Factor\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a0b88b6b96bb6afa945383bf1dc2a764d}{}\label{class_queued_c_p_u_tracker_a0b88b6b96bb6afa945383bf1dc2a764d}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!image\+\_\+lut@{image\+\_\+lut}}
\index{image\+\_\+lut@{image\+\_\+lut}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{image\+\_\+lut}{image_lut}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::image\+\_\+lut\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}{}\label{class_queued_c_p_u_tracker_af7ac0b5f68de59f97fa76a02c11763fe}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!image\+\_\+lut\+\_\+dims@{image\+\_\+lut\+\_\+dims}}
\index{image\+\_\+lut\+\_\+dims@{image\+\_\+lut\+\_\+dims}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{image\+\_\+lut\+\_\+dims}{image_lut_dims}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::image\+\_\+lut\+\_\+dims\mbox{[}4\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}{}\label{class_queued_c_p_u_tracker_a9efbfed3c81e70cb64e6e0d30d2c5b18}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!image\+\_\+lut\+\_\+dz@{image\+\_\+lut\+\_\+dz}}
\index{image\+\_\+lut\+\_\+dz@{image\+\_\+lut\+\_\+dz}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{image\+\_\+lut\+\_\+dz}{image_lut_dz}}]{\setlength{\rightskip}{0pt plus 5cm}float $\ast$ Queued\+C\+P\+U\+Tracker\+::image\+\_\+lut\+\_\+dz\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}{}\label{class_queued_c_p_u_tracker_a0bc269c162625aecef4044cce5368bf5}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!image\+\_\+lut\+\_\+dz2@{image\+\_\+lut\+\_\+dz2}}
\index{image\+\_\+lut\+\_\+dz2@{image\+\_\+lut\+\_\+dz2}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{image\+\_\+lut\+\_\+dz2}{image_lut_dz2}}]{\setlength{\rightskip}{0pt plus 5cm}float $\ast$ Queued\+C\+P\+U\+Tracker\+::image\+\_\+lut\+\_\+dz2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}{}\label{class_queued_c_p_u_tracker_a4d61769a342c1af2827d3ede87d5489f}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead@{image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead}}
\index{image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead@{image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead}{image_lut_nElem_per_bead}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::image\+\_\+lut\+\_\+n\+Elem\+\_\+per\+\_\+bead\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}{}\label{class_queued_c_p_u_tracker_ac89ec6a24b361816350966d575e0b133}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!job\+Count@{job\+Count}}
\index{job\+Count@{job\+Count}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{job\+Count}{jobCount}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::job\+Count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}{}\label{class_queued_c_p_u_tracker_adb399632cbd49cd0f38da7b8395579e7}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!jobs@{jobs}}
\index{jobs@{jobs}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{jobs}{jobs}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::deque$<${\bf Job}$\ast$$>$ Queued\+C\+P\+U\+Tracker\+::jobs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}{}\label{class_queued_c_p_u_tracker_a21a1ce476dd3531d36a0b8d86b6319ed}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!jobs\+\_\+buffer@{jobs\+\_\+buffer}}
\index{jobs\+\_\+buffer@{jobs\+\_\+buffer}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{jobs\+\_\+buffer}{jobs_buffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Job}$\ast$$>$ Queued\+C\+P\+U\+Tracker\+::jobs\+\_\+buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}{}\label{class_queued_c_p_u_tracker_a16d824830e3e374757f1ba1f3a3899be}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!jobs\+\_\+buffer\+\_\+mutex@{jobs\+\_\+buffer\+\_\+mutex}}
\index{jobs\+\_\+buffer\+\_\+mutex@{jobs\+\_\+buffer\+\_\+mutex}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{jobs\+\_\+buffer\+\_\+mutex}{jobs_buffer_mutex}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Threads\+::\+Mutex} Queued\+C\+P\+U\+Tracker\+::jobs\+\_\+buffer\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}{}\label{class_queued_c_p_u_tracker_a5866ed5cbdbadd28b238c8d1b0bc2d72}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!jobs\+\_\+mutex@{jobs\+\_\+mutex}}
\index{jobs\+\_\+mutex@{jobs\+\_\+mutex}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{jobs\+\_\+mutex}{jobs_mutex}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Threads\+::\+Mutex} Queued\+C\+P\+U\+Tracker\+::jobs\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}{}\label{class_queued_c_p_u_tracker_a1af90038909506f439539d181cee0365}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!jobs\+In\+Progress@{jobs\+In\+Progress}}
\index{jobs\+In\+Progress@{jobs\+In\+Progress}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{jobs\+In\+Progress}{jobsInProgress}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::jobs\+In\+Progress\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}{}\label{class_queued_c_p_u_tracker_a8436603ae463b99b2bfb1797f5a6003a}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!localize\+Mode@{localize\+Mode}}
\index{localize\+Mode@{localize\+Mode}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{localize\+Mode}{localizeMode}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Loc\+Mode\+\_\+t} Queued\+C\+P\+U\+Tracker\+::localize\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}{}\label{class_queued_c_p_u_tracker_abcb3ff2900fe26e671c650670e1acb9b}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!max\+Queue\+Size@{max\+Queue\+Size}}
\index{max\+Queue\+Size@{max\+Queue\+Size}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{max\+Queue\+Size}{maxQueueSize}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::max\+Queue\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}{}\label{class_queued_c_p_u_tracker_a0ab1a06cd49f58c5551d9327e50bb904}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!process\+Jobs@{process\+Jobs}}
\index{process\+Jobs@{process\+Jobs}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{process\+Jobs}{processJobs}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::process\+Jobs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}{}\label{class_queued_c_p_u_tracker_ad219fc82305fbf3678fea305f2728b24}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!qi\+\_\+radialbinweights@{qi\+\_\+radialbinweights}}
\index{qi\+\_\+radialbinweights@{qi\+\_\+radialbinweights}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{qi\+\_\+radialbinweights}{qi_radialbinweights}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$float$>$ Queued\+C\+P\+U\+Tracker\+::qi\+\_\+radialbinweights\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ab770ea114960e88426fa030cb93ea3c1}{}\label{class_queued_c_p_u_tracker_ab770ea114960e88426fa030cb93ea3c1}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!quit\+Work@{quit\+Work}}
\index{quit\+Work@{quit\+Work}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{quit\+Work}{quitWork}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::quit\+Work\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}{}\label{class_queued_c_p_u_tracker_ad6320a2a77d100f856df62c2dd113ef3}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!result\+Count@{result\+Count}}
\index{result\+Count@{result\+Count}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{result\+Count}{resultCount}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::result\+Count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}{}\label{class_queued_c_p_u_tracker_aa80e370d25cc7d379e29ab902a97caf5}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!results@{results}}
\index{results@{results}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{results}{results}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::deque$<${\bf Localization\+Result}$>$ Queued\+C\+P\+U\+Tracker\+::results\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}{}\label{class_queued_c_p_u_tracker_ad6f5f2d749a7643b727d540a9283d68d}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!results\+\_\+mutex@{results\+\_\+mutex}}
\index{results\+\_\+mutex@{results\+\_\+mutex}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{results\+\_\+mutex}{results_mutex}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Threads\+::\+Mutex} Queued\+C\+P\+U\+Tracker\+::results\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}{}\label{class_queued_c_p_u_tracker_a4cf7f011a2dc9f2e3bcf08c9086eb20d}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!threads@{threads}}
\index{threads@{threads}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{threads}{threads}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Thread}$>$ Queued\+C\+P\+U\+Tracker\+::threads\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}{}\label{class_queued_c_p_u_tracker_a27aba85759ba549ea77db9754722e318}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zcmp@{zcmp}}
\index{zcmp@{zcmp}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zcmp}{zcmp}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$float$>$ Queued\+C\+P\+U\+Tracker\+::zcmp\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a318963eb81d408fa2d94335448b8207c}{}\label{class_queued_c_p_u_tracker_a318963eb81d408fa2d94335448b8207c}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zlut\+\_\+buildflags@{zlut\+\_\+buildflags}}
\index{zlut\+\_\+buildflags@{zlut\+\_\+buildflags}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zlut\+\_\+buildflags}{zlut_buildflags}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint} Queued\+C\+P\+U\+Tracker\+::zlut\+\_\+buildflags\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}{}\label{class_queued_c_p_u_tracker_a2f1c56ea335981c9a9ae0756b84931ce}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zlut\+\_\+cmpprofiles@{zlut\+\_\+cmpprofiles}}
\index{zlut\+\_\+cmpprofiles@{zlut\+\_\+cmpprofiles}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zlut\+\_\+cmpprofiles}{zlut_cmpprofiles}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::zlut\+\_\+cmpprofiles\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}{}\label{class_queued_c_p_u_tracker_af196deebd0dca3e532f248c02964c366}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zlut\+\_\+count@{zlut\+\_\+count}}
\index{zlut\+\_\+count@{zlut\+\_\+count}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zlut\+\_\+count}{zlut_count}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::zlut\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}{}\label{class_queued_c_p_u_tracker_a2848d660cb1607f7bd135fd821dd8108}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zlut\+\_\+enablecmpprof@{zlut\+\_\+enablecmpprof}}
\index{zlut\+\_\+enablecmpprof@{zlut\+\_\+enablecmpprof}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zlut\+\_\+enablecmpprof}{zlut_enablecmpprof}}]{\setlength{\rightskip}{0pt plus 5cm}bool Queued\+C\+P\+U\+Tracker\+::zlut\+\_\+enablecmpprof\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}{}\label{class_queued_c_p_u_tracker_a533b617109af0be5d7b8634e947119d8}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zlut\+\_\+planes@{zlut\+\_\+planes}}
\index{zlut\+\_\+planes@{zlut\+\_\+planes}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zlut\+\_\+planes}{zlut_planes}}]{\setlength{\rightskip}{0pt plus 5cm}int Queued\+C\+P\+U\+Tracker\+::zlut\+\_\+planes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}{}\label{class_queued_c_p_u_tracker_a4287f68021755bcf62e4ddf9b8b48215}
\index{Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}!zluts@{zluts}}
\index{zluts@{zluts}!Queued\+C\+P\+U\+Tracker@{Queued\+C\+P\+U\+Tracker}}
\subsubsection[{\texorpdfstring{zluts}{zluts}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ Queued\+C\+P\+U\+Tracker\+::zluts\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}{}\label{class_queued_c_p_u_tracker_a1bad88f56b12ea8de35879acd07f4c8e}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
cputrack/\hyperlink{_queued_c_p_u_tracker_8h}{Queued\+C\+P\+U\+Tracker.\+h}\item 
cputrack/\hyperlink{_queued_c_p_u_tracker_8cpp}{Queued\+C\+P\+U\+Tracker.\+cpp}\end{DoxyCompactItemize}
