\hypertarget{testutils_8cpp}{}\section{cputrack-\/test/testutils.cpp File Reference}
\label{testutils_8cpp}\index{cputrack-\/test/testutils.\+cpp@{cputrack-\/test/testutils.\+cpp}}
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$sstream$>$}\\*
{\ttfamily \#include \char`\"{}testutils.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}{distance} (\hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f} a, \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f} b)
\item 
bool \hyperlink{testutils_8cpp_ae0227d822e77bc01e8d7c75cda38426a}{Dir\+Exists} (const std\+::string \&dir\+Name\+\_\+in)
\item 
int \hyperlink{testutils_8cpp_ab7790d00c6ca2c2de517aa3b6ce68a30}{Num\+Files\+In\+Dir} (const std\+::string \&dir\+Name\+\_\+in)
\item 
int \hyperlink{testutils_8cpp_aada7cca60290a9533e8f1ff0eb19516e}{Num\+Jpg\+In\+Dir} (const std\+::string \&dir\+Name\+\_\+in)
\item 
\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \hyperlink{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{Crop\+Image} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img, int x, int y, int w, int h)
\item 
\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \hyperlink{testutils_8cpp_ace124d89c96301cd8572308f7d06e6ca}{Resize\+Image} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img, int factor)
\item 
\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \hyperlink{testutils_8cpp_a2058e40586f779f005e0fa4aed649474}{Add\+Images} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img1, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img2, \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f} displacement)
\item 
\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \hyperlink{testutils_8cpp_ad0a44223c2a1e5819f756e964b28e5fb}{Gauss\+Mask} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img, float sigma)
\item 
\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} \hyperlink{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}{Skew\+Image} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img, float fact)
\item 
void \hyperlink{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{Get\+Outer\+Edges} (float $\ast$out, int size, \hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img)
\item 
float \hyperlink{testutils_8cpp_ad224a122bf384101f6263659d0e4d3e6}{Background\+Median} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img)
\item 
float \hyperlink{testutils_8cpp_a3e118846f856e59e1219c45f087857e7}{Background\+Std\+Dev} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img)
\item 
float \hyperlink{testutils_8cpp_a5916626e8879283cb7c7698e392f03a7}{Background\+R\+MS} (\hyperlink{_queued_tracker_8h_a2d6726594ce64e82b9222b183f2571d1}{Image\+Data} img)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{testutils.\+cpp@{testutils.\+cpp}!Add\+Images@{Add\+Images}}
\index{Add\+Images@{Add\+Images}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Add\+Images(\+Image\+Data img1, Image\+Data img2, vector2f displacement)}{AddImages(ImageData img1, ImageData img2, vector2f displacement)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image\+Data} Add\+Images (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img1, }
\item[{{\bf Image\+Data}}]{img2, }
\item[{{\bf vector2f}}]{displacement}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_a2058e40586f779f005e0fa4aed649474}{}\label{testutils_8cpp_a2058e40586f779f005e0fa4aed649474}

\begin{DoxyCode}
165 \{
166     \hyperlink{struct_t_image_data}{ImageData} addedImg = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(img1.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img1.
      \hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
167 
168     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i=0;x\_i<img1.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w};x\_i++)\{
169         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i=0;y\_i<img2.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h};y\_i++)\{
170             \textcolor{keywordflow}{if}(x\_i-displacement.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} > 0 && x\_i-displacement.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x} < img1.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} && y\_i-displacement.
      \hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} > 0 && y\_i-displacement.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y} < img1.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}) \{
171                 addedImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i) = ( img1.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i) + img2.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i-displacement.
      \hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},y\_i-displacement.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}) )/2;
172             \} \textcolor{keywordflow}{else} \{
173                 addedImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i) = img1.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i);
174             \}
175         \}
176     \}
177     \textcolor{keywordflow}{return} addedImg;
178 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Background\+Median@{Background\+Median}}
\index{Background\+Median@{Background\+Median}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Background\+Median(\+Image\+Data img)}{BackgroundMedian(ImageData img)}}]{\setlength{\rightskip}{0pt plus 5cm}float Background\+Median (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ad224a122bf384101f6263659d0e4d3e6}{}\label{testutils_8cpp_ad224a122bf384101f6263659d0e4d3e6}

\begin{DoxyCode}
235                                      \{
236     \textcolor{keywordtype}{int} size = img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} * 2 + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} * 2 - 4;
237     \textcolor{keywordtype}{float}* outeredge = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[size];
238     \hyperlink{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{GetOuterEdges}(outeredge,size,img);
239     std::sort(outeredge,outeredge+size);
240     \textcolor{keywordtype}{float} median;
241     \textcolor{keywordflow}{if}(size % 2 == 0)
242         median = (outeredge[(int)(size/2-1)] + outeredge[(int)(size/2+1)])/2;
243     \textcolor{keywordflow}{else}
244         median = outeredge[size/2];
245     \textcolor{keyword}{delete}[] outeredge;
246     \textcolor{keywordflow}{return} median;
247 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Background\+R\+MS@{Background\+R\+MS}}
\index{Background\+R\+MS@{Background\+R\+MS}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Background\+R\+M\+S(\+Image\+Data img)}{BackgroundRMS(ImageData img)}}]{\setlength{\rightskip}{0pt plus 5cm}float Background\+R\+MS (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_a5916626e8879283cb7c7698e392f03a7}{}\label{testutils_8cpp_a5916626e8879283cb7c7698e392f03a7}

\begin{DoxyCode}
258                                   \{
259     \textcolor{keywordtype}{int} size = img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} * 2 + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} * 2 - 4;
260     \textcolor{keywordtype}{float}* outeredge = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[size];
261     \hyperlink{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{GetOuterEdges}(outeredge,size,img);
262     \textcolor{keywordtype}{float} sqsum = 0.0f;
263     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0; ii < size; ii++)\{
264         sqsum += outeredge[ii]*outeredge[ii];
265     \}
266     \textcolor{keyword}{delete}[] outeredge;
267     \textcolor{keywordflow}{return} \hyperlink{std__incl_8h_a8a38721046513951c4bfc32bf101e180}{sqrt}(1/(\textcolor{keywordtype}{float})size*sqsum);
268 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Background\+Std\+Dev@{Background\+Std\+Dev}}
\index{Background\+Std\+Dev@{Background\+Std\+Dev}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Background\+Std\+Dev(\+Image\+Data img)}{BackgroundStdDev(ImageData img)}}]{\setlength{\rightskip}{0pt plus 5cm}float Background\+Std\+Dev (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_a3e118846f856e59e1219c45f087857e7}{}\label{testutils_8cpp_a3e118846f856e59e1219c45f087857e7}

\begin{DoxyCode}
249                                      \{
250     \textcolor{keywordtype}{int} size = img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} * 2 + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} * 2 - 4;
251     \textcolor{keywordtype}{float}* outeredge = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[size];
252     \hyperlink{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{GetOuterEdges}(outeredge,size,img);
253     \textcolor{keywordtype}{float} stddev = \hyperlink{utils_8h_a862170e4b42dfe51e108e159dde39e54}{ComputeStdDev}(outeredge,size);
254     \textcolor{keyword}{delete}[] outeredge;
255     \textcolor{keywordflow}{return} stddev;
256 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Crop\+Image@{Crop\+Image}}
\index{Crop\+Image@{Crop\+Image}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Crop\+Image(\+Image\+Data img, int x, int y, int w, int h)}{CropImage(ImageData img, int x, int y, int w, int h)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image\+Data} Crop\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img, }
\item[{int}]{x, }
\item[{int}]{y, }
\item[{int}]{w, }
\item[{int}]{h}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}{}\label{testutils_8cpp_a29b1737f82e8b172b32a0133894fb295}

\begin{DoxyCode}
133 \{
134     \hyperlink{struct_t_image_data}{ImageData} croppedImg = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(w,h);
135 
136     \textcolor{keywordflow}{if}( x < 0 || y < 0 || x + w > img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} || y + h > img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h})\{
137         \textcolor{keywordflow}{return} img;
138     \}
139 
140     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i = x; x\_i < x+w; x\_i++)\{
141         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i = y; y\_i < y+h; y\_i++)\{
142             croppedImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i-x,y\_i-y) = img.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i);
143         \}
144     \}
145     \textcolor{keywordflow}{return} croppedImg;
146 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Dir\+Exists@{Dir\+Exists}}
\index{Dir\+Exists@{Dir\+Exists}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Dir\+Exists(const std\+::string \&dir\+Name\+\_\+in)}{DirExists(const std::string &dirName_in)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Dir\+Exists (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{dir\+Name\+\_\+in}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ae0227d822e77bc01e8d7c75cda38426a}{}\label{testutils_8cpp_ae0227d822e77bc01e8d7c75cda38426a}

\begin{DoxyCode}
13 \{
14   DWORD ftyp = GetFileAttributesA(dirName\_in.c\_str());
15   \textcolor{keywordflow}{if} (ftyp == INVALID\_FILE\_ATTRIBUTES)
16     \textcolor{keywordflow}{return} \textcolor{keyword}{false};  \textcolor{comment}{//something is wrong with your path!}
17 
18   \textcolor{keywordflow}{if} (ftyp & FILE\_ATTRIBUTE\_DIRECTORY)
19     \textcolor{keywordflow}{return} \textcolor{keyword}{true};   \textcolor{comment}{// this is a directory!}
20 
21   \textcolor{keywordflow}{return} \textcolor{keyword}{false};    \textcolor{comment}{// this is not a directory!}
22 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!distance@{distance}}
\index{distance@{distance}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{distance(vector2f a, vector2f b)}{distance(vector2f a, vector2f b)}}]{\setlength{\rightskip}{0pt plus 5cm}float distance (
\begin{DoxyParamCaption}
\item[{{\bf vector2f}}]{a, }
\item[{{\bf vector2f}}]{b}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}{}\label{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}

\begin{DoxyCode}
10 \{ \textcolor{keywordflow}{return} \hyperlink{testutils_8cpp_ab217842a9cc002cd973da58b5c544f80}{distance}(a.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}-b.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x},a.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}-b.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}); \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Gauss\+Mask@{Gauss\+Mask}}
\index{Gauss\+Mask@{Gauss\+Mask}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Gauss\+Mask(\+Image\+Data img, float sigma)}{GaussMask(ImageData img, float sigma)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image\+Data} Gauss\+Mask (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img, }
\item[{float}]{sigma}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ad0a44223c2a1e5819f756e964b28e5fb}{}\label{testutils_8cpp_ad0a44223c2a1e5819f756e964b28e5fb}

\begin{DoxyCode}
181 \{
182     \hyperlink{struct_t_image_data}{ImageData} gaussImg = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
183     \hyperlink{structvector2}{vector2f} centre = \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2,img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2);
184     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i=0;x\_i<img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w};x\_i++)\{
185         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i=0;y\_i<img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h};y\_i++)\{
186             \textcolor{keywordtype}{float} gaussfact = expf(- (x\_i-centre.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x})*(x\_i-centre.\hyperlink{structvector2_a22b63498d8e4abf9a2da054a247965b9}{x}) / (2*sigma*sigma) - (y\_i-centre.
      \hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y})*(y\_i-centre.\hyperlink{structvector2_a00b3268bc895adddf0b72d6acd8274a7}{y}) / (2*sigma*sigma));
187             gaussImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i) = img.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i)*gaussfact;
188         \}
189     \}
190 
191     \textcolor{keywordflow}{return} gaussImg;
192 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Get\+Outer\+Edges@{Get\+Outer\+Edges}}
\index{Get\+Outer\+Edges@{Get\+Outer\+Edges}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Get\+Outer\+Edges(float $\ast$out, int size, Image\+Data img)}{GetOuterEdges(float *out, int size, ImageData img)}}]{\setlength{\rightskip}{0pt plus 5cm}void Get\+Outer\+Edges (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{out, }
\item[{int}]{size, }
\item[{{\bf Image\+Data}}]{img}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}{}\label{testutils_8cpp_af1e99d7fbfc5a0378693ce7298b0146b}

\begin{DoxyCode}
212                                                       \{
213     \textcolor{keywordtype}{int} x,y=0;
214     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii = 0; ii < size; ii++)\{
215         \textcolor{keywordflow}{if}(ii < img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w})\{ \textcolor{comment}{// Top}
216             x = ii;
217             y = 0;
218         \}
219         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ii < img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} - 1)\{ \textcolor{comment}{// Right}
220             x = img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}-1;
221             y = ii-(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}-1);
222         \}
223         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ii < img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w} * 2 + img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h} - 2)\{ \textcolor{comment}{// Bottom}
224             y = img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}-1;
225             x = ii-(img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}+img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}-1);
226         \}
227         \textcolor{keywordflow}{else}\{ \textcolor{comment}{// Left}
228             x = 0;
229             y = ii-(img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}+img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}*2-3);
230         \}
231         out[ii] = img.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x,y);
232     \}
233 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Num\+Files\+In\+Dir@{Num\+Files\+In\+Dir}}
\index{Num\+Files\+In\+Dir@{Num\+Files\+In\+Dir}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Num\+Files\+In\+Dir(const std\+::string \&dir\+Name\+\_\+in)}{NumFilesInDir(const std::string &dirName_in)}}]{\setlength{\rightskip}{0pt plus 5cm}int Num\+Files\+In\+Dir (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{dir\+Name\+\_\+in}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ab7790d00c6ca2c2de517aa3b6ce68a30}{}\label{testutils_8cpp_ab7790d00c6ca2c2de517aa3b6ce68a30}

\begin{DoxyCode}
25 \{
26     WIN32\_FIND\_DATA FindFileData;
27     HANDLE hFind;
28 
29     std::string dirName = dirName\_in + \textcolor{stringliteral}{"*"};
30     hFind = FindFirstFile(dirName.c\_str(),&FindFileData);
31     \textcolor{keywordflow}{if} (hFind == INVALID\_HANDLE\_VALUE) \{
32         printf (\textcolor{stringliteral}{"FindFirstFile failed (%d)\(\backslash\)n"}, GetLastError());
33         \textcolor{keywordflow}{return} 0;
34     \} 
35     \textcolor{keywordtype}{int} out = -1;
36     \textcolor{keywordflow}{while}(FindNextFile(hFind,&FindFileData))\{
37         out++;
38     \}
39     \textcolor{keywordflow}{return} out;
40 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Num\+Jpg\+In\+Dir@{Num\+Jpg\+In\+Dir}}
\index{Num\+Jpg\+In\+Dir@{Num\+Jpg\+In\+Dir}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Num\+Jpg\+In\+Dir(const std\+::string \&dir\+Name\+\_\+in)}{NumJpgInDir(const std::string &dirName_in)}}]{\setlength{\rightskip}{0pt plus 5cm}int Num\+Jpg\+In\+Dir (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{dir\+Name\+\_\+in}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_aada7cca60290a9533e8f1ff0eb19516e}{}\label{testutils_8cpp_aada7cca60290a9533e8f1ff0eb19516e}

\begin{DoxyCode}
43 \{
44     WIN32\_FIND\_DATA FindFileData;
45     HANDLE hFind;
46 
47     std::string dirName = dirName\_in + \textcolor{stringliteral}{"*"};
48     hFind = FindFirstFile(dirName.c\_str(),&FindFileData);
49     \textcolor{keywordflow}{if} (hFind == INVALID\_HANDLE\_VALUE) \{
50         printf (\textcolor{stringliteral}{"FindFirstFile failed (%d)\(\backslash\)n"}, GetLastError());
51         \textcolor{keywordflow}{return} 0;
52     \} 
53     \textcolor{keywordtype}{int} out = -1;
54     \textcolor{keywordflow}{while}(FindNextFile(hFind,&FindFileData))\{
55         std::string name = FindFileData.cFileName;
56         \textcolor{keywordflow}{if}(name.find(\textcolor{stringliteral}{".jpg"})!=name.npos) \{
57             out++;
58         \}
59     \}
60     \textcolor{keywordflow}{return} out;
61 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Resize\+Image@{Resize\+Image}}
\index{Resize\+Image@{Resize\+Image}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Resize\+Image(\+Image\+Data img, int factor)}{ResizeImage(ImageData img, int factor)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image\+Data} Resize\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img, }
\item[{int}]{factor}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_ace124d89c96301cd8572308f7d06e6ca}{}\label{testutils_8cpp_ace124d89c96301cd8572308f7d06e6ca}

\begin{DoxyCode}
149 \{
150     \hyperlink{struct_t_image_data}{ImageData} resizedImg = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}*factor,img.
      \hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}*factor);
151     
152     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i=0;x\_i<img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w};x\_i++)\{
153         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i=0;y\_i<img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h};y\_i++)\{
154             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_fact=0;x\_fact<factor;x\_fact++)\{
155                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_fact=0;y\_fact<factor;y\_fact++)\{
156                     resizedImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i*factor+x\_fact,y\_i*factor+y\_fact) = img.
      \hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i);
157                 \}
158             \}
159         \}
160     \}
161     \textcolor{keywordflow}{return} resizedImg;
162 \}
\end{DoxyCode}
\index{testutils.\+cpp@{testutils.\+cpp}!Skew\+Image@{Skew\+Image}}
\index{Skew\+Image@{Skew\+Image}!testutils.\+cpp@{testutils.\+cpp}}
\subsubsection[{\texorpdfstring{Skew\+Image(\+Image\+Data img, float fact)}{SkewImage(ImageData img, float fact)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Image\+Data} Skew\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Image\+Data}}]{img, }
\item[{float}]{fact}
\end{DoxyParamCaption}
)}\hypertarget{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}{}\label{testutils_8cpp_a10722eb0046e4455a5b55741489d9f4e}

\begin{DoxyCode}
195 \{
196     \hyperlink{struct_t_image_data}{ImageData} skewImg = \hyperlink{struct_t_image_data_a8ae528964e70c0d0a98b8481cc8b083e}{ImageData::alloc}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w},img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h});
197     \hyperlink{structvector2}{vector2f} centre = \hyperlink{std__incl_8h_aba974726076ec2d63a67114c536d123e}{vector2f}(img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w}/2,img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/2);
198     \textcolor{keywordtype}{float} median  = \hyperlink{testutils_8cpp_ad224a122bf384101f6263659d0e4d3e6}{BackgroundMedian}(img);
199     \textcolor{keywordtype}{float} stddev  = \hyperlink{testutils_8cpp_a3e118846f856e59e1219c45f087857e7}{BackgroundStdDev}(img);
200     \textcolor{keywordtype}{float} maxskew = median*stddev;
201     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x\_i=0;x\_i<img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w};x\_i++)\{
202         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} y\_i=0;y\_i<img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h};y\_i++)\{
203             \textcolor{keywordtype}{int} diagonalOffset = (y\_i - x\_i*img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h}/img.\hyperlink{struct_t_image_data_aa46faa6f66f9d6f93c65e14aea643eb3}{w});
204             \textcolor{keywordtype}{float} skew = fact*((float)diagonalOffset/img.\hyperlink{struct_t_image_data_a252235d07e487e8d02908aed062147bd}{h})*maxskew;
205             skewImg.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i) = img.\hyperlink{struct_t_image_data_ad13c1527ffabe17b997c38090ec5e6b9}{at}(x\_i,y\_i)+skew;
206         \}
207     \}
208 
209     \textcolor{keywordflow}{return} skewImg;
210 \}
\end{DoxyCode}
